<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="/resources/spdi-openaccess-jats.xsl"?>
<!DOCTYPE response [
	
<!ENTITY % article SYSTEM "http://jats.nlm.nih.gov/archiving/1.2/JATS-archivearticle1.dtd">
<!ENTITY % book-part-wrapper SYSTEM "http://jats.nlm.nih.gov/extensions/bits/2.0/BITS-book2.dtd">
	]><response><apiMessage>This XML was provided by Springer Nature</apiMessage><query>doi:10.1155/2011/242386</query><apiKey>87ba7cb21f89ce78154df796840621f4</apiKey><result><total>1</total><start>1</start><pageLength>2</pageLength><recordsDisplayed>1</recordsDisplayed></result><records><article dtd-version="1.2" article-type="research-article" xml:lang="en" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink"><front><journal-meta><journal-id journal-id-type="publisher-id">13639</journal-id><journal-id journal-id-type="doi">10.1007/13639.1687-3963</journal-id><journal-title-group><journal-title>EURASIP Journal on Embedded Systems</journal-title><abbrev-journal-title abbrev-type="publisher">J Embedded Systems</abbrev-journal-title></journal-title-group><issn pub-type="epub">1687-3963</issn><publisher><publisher-name>Springer International Publishing</publisher-name><publisher-loc>Cham</publisher-loc></publisher></journal-meta><article-meta><article-id pub-id-type="publisher-id">BMC1687-3963-2011-242386</article-id><article-id pub-id-type="manuscript">229</article-id><article-id pub-id-type="doi">10.1155/2011/242386</article-id><article-categories><subj-group subj-group-type="heading"><subject>Research Article</subject></subj-group><subj-group subj-group-type="article-collection" specific-use="Regular"><subject>Networked Embedded Systems for Energy Management and Buildings</subject></subj-group></article-categories><title-group><article-title xml:lang="en">Power/Energy Estimator for Designing WSN Nodes with Ambient Energy Harvesting Feature</article-title></title-group><contrib-group><contrib contrib-type="author" corresp="yes"><name><surname>Ferry</surname><given-names>Nicolas</given-names></name><address><email>nicolas.ferry@univ-ubs.fr</email></address><xref ref-type="aff" rid="Aff1">1</xref><xref ref-type="corresp" rid="IDBMC168739632011242386_cor1">a</xref></contrib><contrib contrib-type="author"><name><surname>Ducloyer</surname><given-names>Sylvain</given-names></name><address><email>sylvain.ducloyer@univ-ubs.fr</email></address><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author"><name><surname>Julien</surname><given-names>Nathalie</given-names></name><address><email>nathalie.julien@univ-ubs.fr</email></address><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author"><name><surname>Jutel</surname><given-names>Dominique</given-names></name><address><email>Dominique.Jutel@eryma.com</email></address><xref ref-type="aff" rid="Aff2">2</xref></contrib><aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="GRID">grid.267180.a</institution-id><institution-id institution-id-type="ISNI">0000 0001 2168 0285</institution-id><institution content-type="org-division">Lab-STICC/Université de Bretagne Sud</institution><institution content-type="org-name">Centre de Recherche</institution></institution-wrap><addr-line content-type="postbox">BP 92116</addr-line><addr-line content-type="postcode">56321</addr-line><addr-line content-type="city">Lorient</addr-line><country country="FR">France</country></aff><aff id="Aff2"><label>2</label><institution-wrap><institution content-type="org-division">ERYMA Security Systems/Parc Technellys</institution><institution content-type="org-name">La Montagne du Salut</institution></institution-wrap><addr-line content-type="street">CS60009 Caudan</addr-line><addr-line content-type="postcode">56607</addr-line><addr-line content-type="city">Lanester</addr-line><country country="FR">France</country></aff></contrib-group><author-notes><corresp id="IDBMC168739632011242386_cor1"><label>a</label><email>nicolas.ferry@univ-ubs.fr</email></corresp></author-notes><pub-date date-type="pub" publication-format="electronic"><day>3</day><month>1</month><year>2011</year></pub-date><pub-date date-type="collection" publication-format="electronic"><month>12</month><year>2011</year></pub-date><volume>2011</volume><issue seq="4">1</issue><elocation-id>242386</elocation-id><history><date date-type="registration"><day>4</day><month>6</month><year>2010</year></date><date date-type="received"><day>4</day><month>6</month><year>2010</year></date><date date-type="rev-recd"><day>13</day><month>10</month><year>2010</year></date><date date-type="accepted"><day>7</day><month>12</month><year>2010</year></date><date date-type="online"><day>3</day><month>1</month><year>2011</year></date></history><permissions><copyright-statement content-type="compact">© Nicolas Ferry et al. 2011</copyright-statement><copyright-statement content-type="comment">This article is published under license to BioMed Central Ltd. This is an open access article distributed under the Creative Commons Attribution License, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</copyright-statement><copyright-year>2011</copyright-year><copyright-holder>Nicolas Ferry et al.</copyright-holder><license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/2.0"><license-p><bold>Open Access</bold>This article is distributed under the terms of the Creative Commons Attribution 2.0 International License (<ext-link xlink:href="https://creativecommons.org/licenses/by/2.0" ext-link-type="uri">https://creativecommons.org/licenses/by/2.0</ext-link>), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p></license></permissions><abstract xml:lang="en" id="Abs1"><title>Abstract</title><p>Wireless Sensor Networks (WSNs) consist of spatially distributed autonomous sensors to cooperatively monitor physical conditions. Thus, the node battery autonomy is critical. To outperform it, most WSNs rely on the harvesting capability. As nodes can recharge whenever energy is available, the problem is to determine at design time the node autonomy. For our project, we solve it by creating a power/energy estimator that simulates business scenarios to predict node autonomy; the estimation concerns both power and energy features. Based on node architecture configuration, its Dynamic Power Management (DPM) policy, and environmental conditions, we present a simulator that helps identify power consumption hot spots and make critical choices during the system design. It also helps to scale the energy storage system as well as the energy harvesters correctly. The hardware part is modelled using the FLPA methodology to develop different node component models with a variable accuracy. For the logical part, we developped a specific DPM by integrating meteorology and weather forecast behaviours. The novelty comes from the ability to simulate the WSN harvesting capability and to estimate at runtime the remaining duration of each service.</p></abstract><kwd-group xml:lang="en"><title>Keywords</title><kwd>Power Consumption</kwd><kwd>Solar Panel</kwd><kwd>Energy Storage System</kwd><kwd>Maximum Power Point Tracking</kwd><kwd>Fire Brigade</kwd></kwd-group><custom-meta-group><custom-meta><meta-name>publisher-imprint-name</meta-name><meta-value>Springer</meta-value></custom-meta><custom-meta><meta-name>volume-issue-count</meta-name><meta-value>1</meta-value></custom-meta><custom-meta><meta-name>issue-article-count</meta-name><meta-value>19</meta-value></custom-meta><custom-meta><meta-name>issue-toc-levels</meta-name><meta-value>0</meta-value></custom-meta><custom-meta><meta-name>issue-copyright-holder</meta-name><meta-value>The Author(s)</meta-value></custom-meta><custom-meta><meta-name>issue-copyright-year</meta-name><meta-value>2011</meta-value></custom-meta><custom-meta><meta-name>article-contains-esm</meta-name><meta-value>No</meta-value></custom-meta><custom-meta><meta-name>article-numbering-style</meta-name><meta-value>Unnumbered</meta-value></custom-meta><custom-meta><meta-name>article-registration-date-year</meta-name><meta-value>2010</meta-value></custom-meta><custom-meta><meta-name>article-registration-date-month</meta-name><meta-value>6</meta-value></custom-meta><custom-meta><meta-name>article-registration-date-day</meta-name><meta-value>4</meta-value></custom-meta><custom-meta><meta-name>article-toc-levels</meta-name><meta-value>0</meta-value></custom-meta><custom-meta><meta-name>toc-levels</meta-name><meta-value>0</meta-value></custom-meta><custom-meta><meta-name>volume-type</meta-name><meta-value>Regular</meta-value></custom-meta><custom-meta><meta-name>journal-product</meta-name><meta-value>ArchiveJournal</meta-value></custom-meta><custom-meta><meta-name>numbering-style</meta-name><meta-value>Unnumbered</meta-value></custom-meta><custom-meta><meta-name>article-grants-type</meta-name><meta-value>OpenChoice</meta-value></custom-meta><custom-meta><meta-name>metadata-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>abstract-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>bodypdf-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>bodyhtml-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>bibliography-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>esm-grant</meta-name><meta-value>OpenAccess</meta-value></custom-meta><custom-meta><meta-name>online-first</meta-name><meta-value>false</meta-value></custom-meta><custom-meta><meta-name>pdf-file-reference</meta-name><meta-value>BodyRef/PDF/13639_2010_Article_229.pdf</meta-value></custom-meta><custom-meta><meta-name>pdf-type</meta-name><meta-value>Typeset</meta-value></custom-meta><custom-meta><meta-name>target-type</meta-name><meta-value>OnlinePDF</meta-value></custom-meta><custom-meta><meta-name>issue-type</meta-name><meta-value>Regular</meta-value></custom-meta><custom-meta><meta-name>article-type</meta-name><meta-value>OriginalPaper</meta-value></custom-meta><custom-meta><meta-name>journal-subject-primary</meta-name><meta-value>Engineering</meta-value></custom-meta><custom-meta><meta-name>journal-subject-secondary</meta-name><meta-value>Signal,Image and Speech Processing</meta-value></custom-meta><custom-meta><meta-name>journal-subject-secondary</meta-name><meta-value>Circuits and Systems</meta-value></custom-meta><custom-meta><meta-name>journal-subject-secondary</meta-name><meta-value>Control Structures and Microprogramming</meta-value></custom-meta><custom-meta><meta-name>journal-subject-secondary</meta-name><meta-value>Electronic Circuits and Devices</meta-value></custom-meta><custom-meta><meta-name>journal-subject-collection</meta-name><meta-value>Engineering</meta-value></custom-meta><custom-meta><meta-name>open-access</meta-name><meta-value>true</meta-value></custom-meta></custom-meta-group></article-meta></front><body><sec id="Sec1"><title>1. Introduction</title><p>Wireless Sensor Networks (WSNs) consist of spatially distributed autonomous sensors to cooperatively monitor physical or environmental conditions [<xref ref-type="bibr" rid="CR1">1</xref>]. Their target applications are very wide and cover both civil and military domains. Application contexts are various, for example, they can be used in home for earthquake detection, home automation [<xref ref-type="bibr" rid="CR2">2</xref>], or in the field of automation for parking guidance [<xref ref-type="bibr" rid="CR3">3</xref>]. The industrial field uses them for monitoring environment (temperature, pressure, hygrometry, luminosity, etc.), while they are used in the environmental field for UV, radioactivity, pollutants, heavy metals, ozone, greenhouse gas, fire surveillance, and high-precision agriculture. The health domain used them for followup patient healthcare [<xref ref-type="bibr" rid="CR4">4</xref>], the security domain for area or perimeter surveillance, and the field of transportation for automation and accident prevention. In the military domain, WSNs are used in electronic warfare for recognition of troop movement, equipment, and battlefield recognition. They are also used for menace detection of chemical, biological, nuclear radiation, and for weapon guidance of tactical missiles. However, probably in all domains, the potential of WSNs has not been yet fully explored.</p><p>The recent <italic>enhancements</italic> made on new wireless radio frequency transmitters/receivers as well as <italic>technology advances</italic> has brought about several advantages, such as the reduction of the component size and the power consumption. This implies that devices can be more compact, lowcost, and light weight for environment portability [<xref ref-type="bibr" rid="CR5">5</xref>]. Consequently, nodes aim to achieve maximum autonomy, and this directly relies on the energy storage system [<xref ref-type="bibr" rid="CR6">6</xref>]. Therefore, global system lifetime and battery autonomy are <italic>critical</italic> (i).</p><p>As WSNs are dispersed in the environment, they must be <italic>autonomous</italic>. To increase lifetime, most WSNs rely on their harvesting capabilities, which consist of collecting energy from ambient power sources [<xref ref-type="bibr" rid="CR7">7</xref>–<xref ref-type="bibr" rid="CR10">10</xref>]. This solution benefits from "free" environmental energy according to the "green" philosophy, which is to reduce the carbon footprint and to improve reliability of power supply automations. A key feature for evolving in a multisource environmental context is to be <italic>adaptive</italic> (ii).</p><p>In WSNs, the power is supplied by an adapted energy storage system [<xref ref-type="bibr" rid="CR6">6</xref>], like a battery and/or a supercapacitor [<xref ref-type="bibr" rid="CR11">11</xref>], to handle ambient power. Recharging capability can be serviced by using single or multiple harvesting sources [<xref ref-type="bibr" rid="CR9">9</xref>, <xref ref-type="bibr" rid="CR10">10</xref>]. Harvesting devices range from solar panels [<xref ref-type="bibr" rid="CR12">12</xref>], wind generators [<xref ref-type="bibr" rid="CR10">10</xref>] to vibration scavengers [<xref ref-type="bibr" rid="CR13">13</xref>], and all other devices using a potential energy difference. These devices can provide additional energy to the system, at different energy scales (nW, mW, W), but globally speaking, each source depends on the geographical and environment situation. Thus, the ambient energy profile is highly <italic>variable</italic> (iii).</p><p>Solutions are under development to solve these problems. Currently, <italic>Low Power</italic> (LP) design can be used from the beginning and during the entire development process. It is first used to exploit power reduction/optimization techniques to increase system lifetime. This approach is generally classified as <italic>Static Power Management</italic> because it is performed at design time. Secondly, LP is used to adapt the system behaviour to the environment, variable by nature. This is done by using a <italic>Dynamic Power Management</italic> (DPM) [<xref ref-type="bibr" rid="CR14">14</xref>].</p><p><italic>Static Power Management</italic> can be applied at different layers and on different system subparts. Research explores battery storage systems [<xref ref-type="bibr" rid="CR6">6</xref>], energy harvesting systems [<xref ref-type="bibr" rid="CR15">15</xref>], power converters [<xref ref-type="bibr" rid="CR16">16</xref>], processor units [<xref ref-type="bibr" rid="CR17">17</xref>], system-level scheduling [<xref ref-type="bibr" rid="CR18">18</xref>], and other power management opportunities. For hardware components, a difficulty is to extract significant high-level criteria to characterize the power features of the <italic>hardware configuration</italic> (iv).</p><p>DPM defines a <italic>Power Manager</italic> to adapt the system behaviour by using different power modes, or by varying the frequency and/or voltage, to dynamically adjust to the system requirements in performance and power consumption. A power manager uses a control procedure based on real measurements or assumptions of the system loads. This procedure is called a <italic>policy</italic>, and it is responsible for applying the <italic>Power Management Strategy</italic> (PMS) (v).</p><p>At this step, we can notice that the energy storage system is, from (i), crucial because it handles energy storage and the on-demand supply current. Secondly, the ambient energy is heavily coupled with the environment which is, from (iii), very variable. Low-power approach can be implemented at several levels: at the component granularity level, power management depends on the available power opportunities on the (iv) hardware configuration. At the logical level, DPM defines a strategy (v) to adjust power modes: Idle, Sleep, and Dynamic Frequency Voltage Scaling (DVFS) in real-time (ii) depending on the application tradeoff requirement between performance and power consumption.</p><p>For the "<italic>CAPNET</italic>" project, we must handle realistic business scenarios for the fire brigade of Brest, France. The project goal is to evaluate the gain of migrating from a wired solution to a wireless one. This is why the team must create a software simulator and a hardware demonstrator. The system is an autonomous wireless sensor network prototype using multiple energy harvesting capabilities with a predictive DPM.</p><p>Our contribution is to specify and implement an "<italic>estimator"</italic> able to play and record <italic>business scenarios</italic> to estimate both the power consumption and the autonomy of the nodes. This software will help in evaluating hardware choices by estimating the impact of some component parameters on the power consumption, help in the scale of the battery system and the harvesters accordingly, and help in optimizing the PMS to finely tune the DPM [<xref ref-type="bibr" rid="CR14">14</xref>]. The key enhancement is to propose an environment prediction model using meteorology to simulate harvesting capability during a scenario. At real-time, integrating <italic>weather forecasts</italic> (WFs) enable us to predict the remaining node autonm for different DPM services. Therefore, the supervisor user can decide to take control to change the behaviour of a particular node.</p><p>To realize the simulator, the approach is to use the <italic>Functional Level Power Analysis</italic> (FLPA) methodology [<xref ref-type="bibr" rid="CR19">19</xref>]. The method permits the extraction, characterisation, and validation of the power model for each unit of the hardware configuration. One major advantage is the <italic>model adaptive accuracy</italic> which consists of adapting models from generic to complex ones based on physical hardware experiments. Simulation can be processed with more accurate models depending on the required error, accuracy, time, cost, or choices made for the project. This work will help calibrate the production of real-world well-scaled WSNs [<xref ref-type="bibr" rid="CR2">2</xref>].</p><p>The paper is organized as follows: in Section 2, we will present the CAPNET project. In Section 3, we will describe the state-of-the-art about power estimation tools. In Section 4, we will describe the modelling approach and the methodology used to create the WSNs node models. In Section 5, we will detail the power and energy Estimator functional behaviour and its capabilities. In Section 6, we will show model characterisations and results. In Section 7, we will experiment a business scenario to estimate the CAPNET node autonomy, after which we will conclude the paper.</p></sec><sec id="Sec2"><title>2. The CAPNET Project</title><p>CAPNET is an autonomous wireless sensor network prototype using multiple energy harvesting capabilities. Its objective is to study and implement a simulator and a demonstrator that show the interest of the wireless approach over the wired one. The project is expected to reduce the cost by a factor of ten over the previous technology. Nodes must support a recharging feature by harvesting multiple environmental power sources. The specification includes special aspects such as an integrated alert system able to warn a supervisor in less than one second. The WSN uses a linear topology ranging from 100 metres to 2 kilometres. Each node communicates from/to direct neighbours. The nodes are spaced at intervals of 100 metres and support a bidirectional data transport protocol. If a node presents a dysfunction, the system is able to detect and reconfigure itself to automatically skip one (or up to two) dysfunctional nodes. The detection occurs when a timeout is triggered due to an unresponding node. Then, the node increases the amplifier range to reach the next node distance. WFs are transmitted to the nodes in order to switch the battery charger to the maximal available power source. WFs can also inform the supervisor of the remaining node lifetime for each DPM service. We have integrated the WF into the specific DPM called the WF-DPM.</p><sec id="Sec3"><title>2.1. Applications</title><p>The network topology is linear as shown in Figure <xref rid="Fig1" ref-type="fig">1</xref>. This topology has been selected due to the project applications. This choice guarantees an optimized alert timing for all the nodes from the farthest to the nearest.<fig id="Fig1"><label>Figure 1</label><caption xml:lang="en"><p><bold>CAPNET topology.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig1_HTML.jpg"/></fig></p><p>The system must handle various applications like fire services, frontier and perimeter surveillance, (water, gas, and petrol) network monitoring, environment observation (earthquake, water overflow, and meteorology), automatic meter reading, road network surveillance, industrial control command. Customers provide representative use case scenarios corresponding to each application. The representative scenario presented here has been established in cooperation with the fire brigade of Brest, France.</p></sec><sec id="Sec4"><title>2.2. Scenario</title><p>A problem appears on a carrier transporting highly dangerous freight. A fire brigade must help the carrier docked at the port of Brest, France. Products are flammable and can reject toxic gas into the town atmosphere. It is very threatening due to the presence of heat, toxic, or explosive gas thus presenting a risk of explosion. To monitor and prevent the risks, a secure perimeter is defined in an area range of 300 to 500 metres. All people entering this perimeter send an alert signal to the supervisor who can view snapshots or video of the scene. The WSN equipment is deployed in the area in a circle layout. This is to intercept the gas, so as to avoid spreading. For this mission, nodes embed traditional meteorology sensors and also special gas detectors, a toxicity meter, and for special nodes a thermal camera to track hotpoints. The system must be able to work continuously outside and in all types of weather.</p></sec><sec id="Sec5"><title>2.3. Contributions</title><p>In this project, our work is to specify and realize a power and energy estimator that will permit the playback of real-case scenarios. Our needs are to predict the remaining node autonomy with harvesting capability. But estimating the power peaks is also necessary for the battery model accuracy. The simulator results provide the total node autonomy and the different energy consumption for different groups of internal components. Moreover, by integrating WF into the DPM, we can predict the Ambient Potential Power Value (APPV) and then give the maximal time duration per service. Therefore, the simulator can estimate the power and energy consumption for each component according to their control attributes, the weather environment, the energy provision, the temperature degradation, and the power management strategy (PMS).</p><p>To do this, we use a modelling approach by applying the FLPA methodology (see Section 4.1). First, we establish the global node power model that describes the entire simulator (see Section 4.2). Secondly, we define a PMS which can switch the power source depending on WF predictions (see Section 4.3). Then, we build different models based on real power consumption measurements for each device (see Section 4.4). Finally, we build the estimator able to playback the scenarios and give the total energy consumption per node (see Section 5). When manufacturers build the final hardware demonstrator, we will be able to compare the absolute error between the simulator and the demonstrator. This will give us feedback on the behaviours of the real WSNs and the simulated WSNs to be able to enhance models if required to better fit to the reality.</p><p>Before beginning, we will go over the state-of-the-art of WSN power estimation tools.</p></sec></sec><sec id="Sec6"><title>3. State-of-the-Art</title><p>Low-power design could be applied at several levels in electronics and WSNs. Some books are good starts for understanding low power methodology [<xref ref-type="bibr" rid="CR20">20</xref>], system-level optimizations [<xref ref-type="bibr" rid="CR21">21</xref>], and algorithms for power saving [<xref ref-type="bibr" rid="CR22">22</xref>]. If we focus more particularly on WSNs, interesting research works have detailed specific techniques. We could cite battery modelling [<xref ref-type="bibr" rid="CR23">23</xref>], Maximum Power Point Tracking (MPPT) optimization [<xref ref-type="bibr" rid="CR16">16</xref>], DPM [<xref ref-type="bibr" rid="CR14">14</xref>], vibration harvesters [<xref ref-type="bibr" rid="CR13">13</xref>], and network modelling [<xref ref-type="bibr" rid="CR24">24</xref>] to design a WSN [<xref ref-type="bibr" rid="CR2">2</xref>, <xref ref-type="bibr" rid="CR25">25</xref>]. All these technological headways are coupled with constant new WSN prototypes. We present in this section, some interesting WSNs, focussing our attention on their features.</p><p>Heliomote [<xref ref-type="bibr" rid="CR8">8</xref>] has a solar panel and two AA Ni-MH batteries for a 3 V current output. Its Solar panel is directly connected to its battery through a diode, so energy harvesting starts after the solar output is higher than 0.7 V than the battery voltage. Heliomote does not perform MPPT to achieve better harvesting efficiency. Consequently, the solar panel is voluminous to obtain a higher voltage than the battery. Heliomote uses an ATmega 128 L with a Chipcon 868/916 Mhz transceiver.</p><p>Prometheus [<xref ref-type="bibr" rid="CR7">7</xref>] uses a solar panel to charge a 22 F supercapacitor from which the system draws current when there is enough power. The system uses the secondary buffer Li-Polymer battery when the charge of the supercapacitor is lower than a threshold. Also, when the supercapacitor is higher than a given threshold, it charges the battery. However, like Heliomote, the solar panel is directly hardwired to the supercapacitor and does not harvest energy efficiency. All control tasks are run on a MSP430 MCU. Prometheus TelosB uses a TI MSP430 with a Chipcon 2240 2.4 Ghz Wireless transceiver. Prometheus power consumption is estimated ranging from 205 <italic>μ</italic> W at 1% duty cyle and 20 mA at 100%.</p><p>Everlast [<xref ref-type="bibr" rid="CR11">11</xref>] has only a solar panel and a supercapacitor, but no battery. Thus, it does not suffer from battery degradation. It embeds an MPPT circuit for optimal power harvesting that charges a 100F supercapacitor. However, it requires MCU to perform the MPPT algorithm calculation. Everlast uses a PIC16LF747 coupled with a Nordic nRF2401 2.4 Ghz Transceiver. Everlast power consumption is 0.68 mW in minimum mode and 52.4 mW in maximum mode.</p><p>PUMA [<xref ref-type="bibr" rid="CR9">9</xref>] has multiple power sources. It uses a power routing technique to harvest simultaneous multiple power sources. The high energy harvesting is achieved with a combination of MPPT and power defragmentation. However, it requires MCU control based on input from light and wind sensors. PUMA uses a PIC18F6680 with a wireless 802.11b card. Duranode consumption is 0.5 W in minimum mode and reaches 2 W in maximum mode.</p><p>AmbiMax [<xref ref-type="bibr" rid="CR10">10</xref>] is a multiple harvester system with solar and wind experiments. It includes MPPT tracking using an hysteresis comparator coupled with an additional sensor to hardware calculated MPPT. The harvested power is sent to a boost regulator before charging a Li-Polymer battery. Ambimax charges 12.5 times faster even at lower supply levels, where previous techniques stop. Ambimax uses a MCU8051 and an integrated 2.4 Ghz Radio. Its power consumption is less than 200 mW.</p><p>PicoCube [<xref ref-type="bibr" rid="CR5">5</xref>] is the smallest WSN known. It is a 1 cm<sup>3</sup> sensor node powered by harvested energy. It uses a MSP430-F1222 with a FBAR custom RF transceiver, the power consumption is 6 <italic>μ</italic> W in mean and reaches 6 mW when transmitting. More WSNs with their technical features are referenced at [<xref ref-type="bibr" rid="CR26">26</xref>].</p><p>Now, if we examine available tools, there are several power consumption platforms which can analyze systems at specific power levels [<xref ref-type="bibr" rid="CR27">27</xref>]. As can be seen in Table <xref rid="Tab1" ref-type="table">1</xref>, some tools can predict the power consumption of microprocessors, while others can predict the overhead of an embedded OS. We have not included the works about WSNs simulation which mainly simulate network consumption by RF protocol, transport, and so forth. The reason for this is that in this project, the RF simulation has been given to a partner lab.<table-wrap id="Tab1"><label>Table 1</label><caption xml:lang="en"><p>Power estimation tools.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Power tool</p></th><th align="center"><p>Platform</p></th><th align="center"><p>Analysis level</p></th></tr></thead><tbody><tr><td align="left"><p>SPICE [<xref ref-type="bibr" rid="CR28">28</xref>]</p></td><td align="center"><p>General-purposes circuit design</p></td><td align="center"><p>PCB/Transistor</p></td></tr><tr><td align="left"><p>Simbed [<xref ref-type="bibr" rid="CR29">29</xref>]</p></td><td align="center"><p>Motorola M-CORE platforms</p></td><td align="center"><p>Architectural</p></td></tr><tr><td align="left"><p>Skyeye [<xref ref-type="bibr" rid="CR30">30</xref>]</p></td><td align="center"><p>MIPS platform</p></td><td align="center"><p>Instruction</p></td></tr><tr><td align="left"><p>eSimu [<xref ref-type="bibr" rid="CR31">31</xref>]</p></td><td align="center"><p>ARM9 platform</p></td><td align="center"><p>Instruction</p></td></tr><tr><td align="left"><p>EMSIM [<xref ref-type="bibr" rid="CR32">32</xref>]</p></td><td align="center"><p>StrongARM platform</p></td><td align="center"><p>Instruction</p></td></tr><tr><td align="left"><p>Softwatt [<xref ref-type="bibr" rid="CR33">33</xref>]</p></td><td align="center"><p>Embra, Mipsy, MXS platforms</p></td><td align="center"><p>OS</p></td></tr><tr><td align="left"><p>powerTOSSIM [<xref ref-type="bibr" rid="CR34">34</xref>]</p></td><td align="center"><p>TinyOS simulator on Mica2</p></td><td align="center"><p>OS</p></td></tr><tr><td align="left"><p>PowerOpt [<xref ref-type="bibr" rid="CR35">35</xref>] ChipVision</p></td><td align="center"><p>Low-power system synthesis C/SystemC to VerilogRTL</p></td><td align="center"><p>Architetural + instruction</p></td></tr><tr><td align="left"><p>SoftExplorer [<xref ref-type="bibr" rid="CR36">36</xref>]</p></td><td align="center"><p>CPU power Estimation tool</p></td><td align="center"><p>Functional +instruction</p></td></tr><tr><td align="left"><p>Interconnect Explorer [<xref ref-type="bibr" rid="CR37">37</xref>]</p></td><td align="center"><p>Interconnections tool</p></td><td align="center"><p>Architectural</p></td></tr><tr><td align="left"><p>C.A.T [<xref ref-type="bibr" rid="CR38">38</xref>]</p></td><td align="center"><p>Power estimation platform</p></td><td align="center"><p>All</p></td></tr></tbody></table></table-wrap></p><p>Our need is to predict the remaining node autonomy with harvesting capability. In Table <xref rid="Tab1" ref-type="table">1</xref>, most of the tools focus on particular microprocessors [<xref ref-type="bibr" rid="CR30">30</xref>–<xref ref-type="bibr" rid="CR32">32</xref>] or hardware platforms and do not consider the entire node [<xref ref-type="bibr" rid="CR30">30</xref>–<xref ref-type="bibr" rid="CR32">32</xref>, <xref ref-type="bibr" rid="CR34">34</xref>, <xref ref-type="bibr" rid="CR36">36</xref>]. Building the whole simulation from scratch at transistor level with SPICE [<xref ref-type="bibr" rid="CR28">28</xref>] would be definitely a hard job. Also, most WSNs include a DPM which must command/control power modes, shutdown devices, apply tasks scheduling, and so forth. Actually, most tools do not model the DPM behaviour and are more hardware oriented [<xref ref-type="bibr" rid="CR37">37</xref>, <xref ref-type="bibr" rid="CR38">38</xref>]. New research projects are trying to model the WSNs in the whole by using macromodelling [<xref ref-type="bibr" rid="CR39">39</xref>], but these modelling concerns simple WSNs. Another discrete-time analysis framework [<xref ref-type="bibr" rid="CR40">40</xref>] and advanced commercial low-power synthesis tool [<xref ref-type="bibr" rid="CR35">35</xref>] exist, but these tools are not adapted to model harvesting WSNs.</p><p>Thus, to simulate an entire WSNs node, we must care about other internal node components like DC/DC, harvesters, microprocessors, radio, or sensors but also the environment and the DPM policy. And currently, none of the tools responds completely to our needs. This is why we want to develop a generic tool which can include specific models into a single estimator.</p><p>A generic WSNs power estimator is required to verify if some choices are relevant and contribute to system consistency. Recording and replaying scenarios permit to experiment consumption evolution by varying some parameters of the model. Although some components have already been chosen and can clearly be measured to provide an accurate model, other components are not, and we must rely on generic models. Consequently, the two approaches must be considered depending on the components which have been selected. The global modelling approach is described in the next section.</p></sec><sec id="Sec7"><title>4. Modelling Approach</title><p>We make the assumption that all nodes can be modelled independently. We use a decomposition approach that divides each element of the system. Thus, we assume that a node is decomposed into several internal components. We apply an existing methodology to model elements of the WSNs node architecture, called the FLPA methodology.</p><sec id="Sec8"><title>4.1. FLPA Methodology</title><p>The <italic>Functional Level Power Analysis (FLPA)</italic> methodology [<xref ref-type="bibr" rid="CR19">19</xref>] can be adapted to any component and has already been successfully applied to extract processor [<xref ref-type="bibr" rid="CR41">41</xref>] and FPGA [<xref ref-type="bibr" rid="CR42">42</xref>] power consumption models. This methodology is based on physical measurements in order to guarantee realistic values with good accuracy.</p><p>The FLPA methodology has four main parts, which are given below.</p><p>(1)A primary <italic>functional analysis</italic> describes the system as a grey box with high-level parameters having an effective impact on the power consumption.</p><p>(2)The <italic>power characterisation</italic> step explains the power consumption behaviour (obtained by physical measurements) when each parameter varies independently.</p><p>(3)Then, the complete <italic>power model</italic> is created with a curve fitting or regression approach; it expresses the overall power consumption variations related to all the parameters.</p><p>(4)Finally, the <italic>model accuracy</italic> is estimated from a new measurement set which provides the absolute error.</p><p>With this methodology, it can take less than a month to build a power model of a complex processor. At project startup, all components or decisions have not been validated yet, so we define a variable accuracy granularity depending on project advancement. Thus, model accuracy evolves during project maturation by evaluating the cost to develop a more accurate model. Two cases are used.</p><p>(i)If the physical element is <italic>not available</italic>, we search for an existing model (datasheet, analytical law, etc.). Then, we build a generic model which is integrated into the simulator. <list list-type="order"><list-item><p>If the physical element is <italic>available</italic>, we proceed with the FLPA methodology to extract an efficient model.</p></list-item></list></p></sec><sec id="Sec9"><title>4.2. Global Node Power Model</title><p>We start by defining, in Figure <xref rid="Fig2" ref-type="fig">2</xref>, what will be the global node model.<fig id="Fig2"><label>Figure 2</label><caption xml:lang="en"><p><bold>The CAPNET node model.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig2_HTML.jpg"/></fig></p><p>The node model is composed of two layers: the logical and the hardware layer. Both are tightly coupled and are synchronized to work together. This model defines multiple models for the DPM and the hardware configuration.</p></sec><sec id="Sec10"><title>4.3. The Logical Layer Power Model</title><p>The logical level defines the node environment as several external models: scenario events, RF events, meteorology, and weather forecast models. The DPM model describes the energetic strategy developed on the node.</p><sec id="Sec11"><title>4.3.1. Scenarios</title><p>In Table <xref rid="Tab2" ref-type="table">2</xref>, scenarios are composed of rule-based events which control the entire sequence. Event signals define the start time, the duration, the periodicity for periodic events, and the numbers of repetitions. This produces a signal that characterizes an event context like a sensor notification or other particular behaviour (fire explosion, secure area intrusion, etc.). Events are consumed by the DPM which verifies the rules at each discrete time and consequently performs the corresponding actions. Basically, the DPM impacts the devices and changes their model values on the fly. <table-wrap id="Tab2"><label>Table 2</label><caption xml:lang="en"><p>Scenario model example.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Name</p></th><th align="center"><p>Nature</p></th><th align="center"><p>Type</p></th><th align="center"><p>Start</p></th><th align="center"><p>Period</p></th><th align="center"><p>Dur.</p></th><th align="center"><p>Rep.</p></th></tr></thead><tbody><tr><td align="left"><p>Gas measurement</p></td><td align="center"><p>Auto Measures</p></td><td align="center"><p>Periodic</p></td><td align="center"><p>2</p></td><td align="center"><p>10 min</p></td><td align="center"><p>2 s</p></td><td align="center"><p>500x</p></td></tr><tr><td align="left"><p>Intrusion area event</p></td><td align="center"><p>Alarm Niv1</p></td><td align="center"><p>Periodic</p></td><td align="center"><p>1</p></td><td align="center"><p>300 min</p></td><td align="center"><p>10 s</p></td><td align="center"><p>32x</p></td></tr><tr><td align="left"><p>Intrusion confirmation</p></td><td align="center"><p>Alarm Niv2</p></td><td align="center"><p>Periodic</p></td><td align="center"><p>3</p></td><td align="center"><p>2 hours</p></td><td align="center"><p>4 s</p></td><td align="center"><p>10x</p></td></tr></tbody></table></table-wrap></p></sec><sec id="Sec12"><title>4.3.2. RF Events</title><p>The RF model describes the communication protocol as a set of RF events. Events define the incoming and outcoming packets exchanged by the node. The RF model is provided by our partners working on the RF modules and the RF simulation. Table <xref rid="Tab3" ref-type="table">3</xref> presents the RF matrix model. Here, the time resolution is in milliseconds. The energy is estimated by cumulating over a one-second period the time spent in each modes (RX, TX, Sleep, or OFF) with their equivalent power model attributes. The model will be refined when the RF partner transmits the final model. <table-wrap id="Tab3"><label>Table 3</label><caption xml:lang="en"><p>RF model example.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Time</p></th><th align="center"><p>Supervisor</p></th><th align="center"><p>Node 1</p></th><th align="center"><p>Node 2</p></th><th align="center"><p>Node <inline-formula id="IEq1"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq1_HTML.gif"/></inline-formula></p></th></tr></thead><tbody><tr><td align="left"><p><inline-formula id="IEq2"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq2_HTML.gif"/></inline-formula></p></td><td align="center"><p>Tx_ReqData</p></td><td align="center"/><td align="center"/><td align="center"/></tr><tr><td align="left"><p><inline-formula id="IEq3"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq3_HTML.gif"/></inline-formula></p></td><td align="center"/><td align="center"><p>Rx_ReqData</p></td><td align="center"/><td align="center"/></tr><tr><td align="left"><p><inline-formula id="IEq4"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq4_HTML.gif"/></inline-formula></p></td><td align="center"/><td align="center"><p>Tx_ACK</p></td><td align="center"><p>Rx_reqData</p></td><td align="center"/></tr><tr><td align="left"><p><inline-formula id="IEq5"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq5_HTML.gif"/></inline-formula></p></td><td align="center"><p>Rx_ACK</p></td><td align="center"><p>Tx_Measures</p></td><td align="center"><p>Tx_ACK</p></td><td align="center"><p>Rx_reqData</p></td></tr><tr><td align="left"><p><inline-formula id="IEq6"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq6_HTML.gif"/></inline-formula></p></td><td align="center"><p><inline-formula id="IEq7"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq7_HTML.gif"/></inline-formula></p></td><td align="center"><p><inline-formula id="IEq8"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq8_HTML.gif"/></inline-formula></p></td><td align="center"><p><inline-formula id="IEq9"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq9_HTML.gif"/></inline-formula></p></td><td align="center"><p><inline-formula id="IEq10"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq10_HTML.gif"/></inline-formula></p></td></tr></tbody></table></table-wrap></p></sec><sec id="Sec13"><title>4.3.3. Meteorology</title><p>Since energy is scavenged from the environment, the node model must include a model for each power source type. These environmental sources can be provided in multiple ways including solar, wind, thermal, radio, vibrations, and mechanical constraints. Currently, CAPNET focuses on solar, wind, and thermal power sources. Meteorology context is constructed with the Meteo-builder integrated with the simulator. The context can be created manually, scanned from a website, or extracted from a meteorology file recorded day after day. The Table <xref rid="Tab4" ref-type="table">4</xref> presents a model example for the city of Lorient, France.<table-wrap id="Tab4"><label>Table 4</label><caption xml:lang="en"><p>Meteorology model example.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Date/time</p></th><th align="center"><p><inline-formula id="IEq11"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq11_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq12"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq12_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq13"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq13_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq14"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq14_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq15"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq15_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq16"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq16_HTML.gif"/></inline-formula></p></th><th align="center"><p><inline-formula id="IEq17"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq17_HTML.gif"/></inline-formula></p></th></tr></thead><tbody><tr><td align="left"><p>30/06/2010 11:00</p></td><td align="center"><p>19</p></td><td align="center"><p>262</p></td><td align="center"><p>10</p></td><td align="center"><p>0</p></td><td align="center"><p>74</p></td><td align="center"><p>1022</p></td><td align="center"><p>229</p></td></tr><tr><td align="left"><p>30/06/2010 14:00</p></td><td align="center"><p>22</p></td><td align="center"><p>251</p></td><td align="center"><p>10</p></td><td align="center"><p>0</p></td><td align="center"><p>66</p></td><td align="center"><p>1021</p></td><td align="center"><p>228</p></td></tr><tr><td align="left"><p>30/06/2010 17:00</p></td><td align="center"><p>22</p></td><td align="center"><p>241</p></td><td align="center"><p>15</p></td><td align="center"><p>0</p></td><td align="center"><p>64</p></td><td align="center"><p>1020</p></td><td align="center"><p>275</p></td></tr><tr><td align="left"><p>30/06/2010 20:00</p></td><td align="center"><p>21</p></td><td align="center"><p>241</p></td><td align="center"><p>15</p></td><td align="center"><p>0</p></td><td align="center"><p>67</p></td><td align="center"><p>1019</p></td><td align="center"><p>45</p></td></tr><tr><td align="left"><p>Date/time<inline-formula id="IEq18"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq18_HTML.gif"/></inline-formula></p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td><td align="center"><p>—</p></td></tr></tbody></table></table-wrap></p><p>With Date/Time: the timestamp, <inline-formula id="IEq19"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq19_HTML.gif"/></inline-formula>: the temperature (in°C), <inline-formula id="IEq20"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq20_HTML.gif"/></inline-formula>: the wind direction (in°), <inline-formula id="IEq21"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq21_HTML.gif"/></inline-formula>: the wind speed (in Km/h), <inline-formula id="IEq22"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq22_HTML.gif"/></inline-formula>: the rain measurement (in mm), <inline-formula id="IEq23"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq23_HTML.gif"/></inline-formula>: the humidity degree (in %), <inline-formula id="IEq24"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq24_HTML.gif"/></inline-formula>: the atmospheric pressure (in hPa), and <inline-formula id="IEq25"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq25_HTML.gif"/></inline-formula>: the sunset irradiance (in W/m<sup>2</sup>).</p></sec><sec id="Sec14"><title>4.3.4. Weather Forecasts</title><p>The particularity of this project is the modelling of not only the meteorology but also the environment by exploiting WF. As meteorology forecasters have already done heavy, intensive computation to predict the weather, we reuse standard models provided by GFS runs [<xref ref-type="bibr" rid="CR43">43</xref>], and Meteo-France runs [<xref ref-type="bibr" rid="CR44">44</xref>]. Therefore, the error of these models is propagated directly from the predictions. This model particularity comes from the real-time update of the data models and their granularity. The node power management strategy can use these predictions on 7-day forward moving windows and combines backward windows based on real weather measurements. The WF model is similar to the Meteorological one, but with forward time stamps.</p></sec><sec id="Sec15"><title>4.3.5. DPM</title><p>The DPM policy controls the different power states enabled for the system. This model is not the microprocessor program but mainly a subset from the energy/power point of view. The DPM has been modelled as a Finite State Machine (FSM) composed of a set of states and transitions. Each state represents a particular system consumption state (IDLE, Sensor1 Active and Sensor2 inactive, etc.).</p><p>This DPM model introduces the capacity to exploit the WF model. The nodes have the ability to switch their power source to the most advantageous energy microsource. The system uses a hardware node power switch like DuraNode [<xref ref-type="bibr" rid="CR45">45</xref>], but here, WFs are used to determine which power harvesting source will have the highest energy availability. WFs can also be used to deactivate devices, like the camera, if the energy level required is too low and the WFs do not predict enough ambient energy.</p><p>The DPM process works as follows: DPM process starts by reading external information: scenario and RF events, which act as stimulus on it. They update DPM control parameters and configuration device states. Then, the DPM combines current state, power status indicators, and weather forecasts predictions to decide transitions to another power state. Each power state defines a functional power mode to apply to components: CPU modes, frequency, clock gating, shutdown, RF amplification level, and so forth. Thus, the DPM updates configuration parameters before the estimation of the new hardware model values.</p><p>The DPM shown in Figure <xref rid="Fig3" ref-type="fig">3</xref> defines the power management strategy for person detection in the intervention area.<fig id="Fig3"><label>Figure 3</label><caption xml:lang="en"><p><bold>The CAPNET DPM model.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig3_HTML.jpg"/></fig></p><p>After initialization, the system enters the Sleep processor state; only Sensor1 is active. When Sensor1 generates an alarm, Sensor2 is powered up to verify the information. If Sensor2 confirms the alarm, an alert is sent to the supervisor. The supervisor can decide to power up special devices or to start the camera mode to take a video of the scene. The video is in fact several JPEG snapshots taken one by one and sent to the supervisor. In intervention, the supervisor can decide to stop or power down devices on demand. When both alarms are, stopped the system returns to Sleep mode.</p><p>The DPM service duration estimation method is done by underlining paths in the DPM.</p><p>Here, we can extract four main paths corresponding to a service. The system's <inline-formula id="IEq26"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq26_HTML.gif"/></inline-formula> mode is the first service with no activity. The second service is <italic>S2Verif</italic>; in this path, the system detects an alarm with the Sensor1. This wakes Sensor2 up but Sensor2 does not detect a problem. So, after a certain amount of time, the system goes back to Sleep mode.</p><p>In the third service, Sensor1 detects an alarm and wakes up Sensor2. Sensor2 detects an alert and sends an alarm level 2. If the battery is under the low state threshold, the system enters into the <italic>S2LowBat</italic> service, sending alarms and waiting for alarm releases.</p><p>Finally, the fourth service is the same as the third service except that the battery is above the low state threshold. Then, the camera is turned on, and the system takes a snapshot, sends it to the supervisor, and enters into a waiting state. Depending if the supervisor has activated the SuPervisor Video Request (SPVR), the node can send a video by entering a loop. Waiting stops when the supervisor confirms the off state, and both sensors have been released. The system then switches the camera and sensors off before returning to the <inline-formula id="IEq27"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq27_HTML.gif"/></inline-formula> mode.</p><p>The service duration <inline-formula id="IEq28"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq28_HTML.gif"/></inline-formula> can be expressed as <disp-formula id="Equ1"><label>1</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ1_HTML.gif"/></disp-formula></p><p>For example, by taking a 12 V, 2A h, 86400 Joules Battery <inline-formula id="IEq29"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq29_HTML.gif"/></inline-formula>, <inline-formula id="IEq30"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq30_HTML.gif"/></inline-formula>, <inline-formula id="IEq31"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq31_HTML.gif"/></inline-formula>, <inline-formula id="IEq32"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq32_HTML.gif"/></inline-formula>, <inline-formula id="IEq33"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq33_HTML.gif"/></inline-formula>, <inline-formula id="IEq34"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq34_HTML.gif"/></inline-formula>, <inline-formula id="IEq35"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq35_HTML.gif"/></inline-formula>, <inline-formula id="IEq36"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq36_HTML.gif"/></inline-formula> in Watt and <inline-formula id="IEq37"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq37_HTML.gif"/></inline-formula> second, we have</p><p>(i)<italic>Sleep</italic>: <inline-formula id="IEq38"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq38_HTML.gif"/></inline-formula> maximal duration is 80 h.</p><p>(ii)<italic>S2Verif</italic>: <inline-formula id="IEq39"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq39_HTML.gif"/></inline-formula><italic>S2Verif</italic> maximal duration is 50 h.</p><p>(iii)<italic>S2LowBat</italic>: <inline-formula id="IEq40"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq40_HTML.gif"/></inline-formula><italic>S2LowBat</italic> maximal duration is 49 h.</p><p>(iv)<italic>Video</italic>: <inline-formula id="IEq41"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq41_HTML.gif"/></inline-formula>. <italic>NbSnapshots</italic><inline-formula id="IEq42"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq42_HTML.gif"/></inline-formula><italic>Video</italic> maximal duration is 18.94 h with 22736 snapshots.</p><p>The supervisor can take control of the node whenever they want, forcing it to use a special service. With these report indicators, they are alerted of the maximum service duration and can take adapted decisions.</p></sec></sec><sec id="Sec16"><title>4.4. The Hardware Configuration Power Model</title><p>The hardware model is basically extracted from the main system hardware components. Figure <xref rid="Fig4" ref-type="fig">4</xref> shows a hardware node composed of control units, a storage energy system, a sensor set, a harvester set, power supply converters, and radio transceivers.<fig id="Fig4"><label>Figure 4</label><caption xml:lang="en"><p><bold>The CAPNET hardware node model.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig4_HTML.jpg"/></fig></p><p>From this, the FLPA methodology is applied to each component. This helps the designer to define high-level parameters that characterize the power consumption and decrease the complexity by splitting the node into elements. Each model parameter is initialized in the configuration according to the respective datasheets and the simulation requirements.</p><sec id="Sec17"><title>4.4.1. Sensors</title><p>Each sensor uses specific power modes, power supply, and quality of service parameters, which are modeled and controlled by the power management. However, sometimes real measurements could reveal datasheet distortions due to a mean function or different experimental conditions. Therefore, datasheet models must be validated before using them. At runtime, the node can also integrate models and, therefore, must be adapted to run on a specific platform. For example, some complex models cannot be evaluated on a low-performance microcontroller because of RAM size or performance constraints. This is why most models must be adapted dynamically with FLPA if they are integrated into the final platform.</p></sec><sec id="Sec18"><title>4.4.2. Harvesters</title><p>Each harvester system is principally modelled by determining a standard <italic>I-V characterization</italic> (intensity versus voltage); therefore extracting the maximal <italic>P-V curves</italic> (power versus voltage) point law associated to it. Thus, a <italic>Maximum Power Point Tracking</italic> (MPPT) could provide the best power adjustment [<xref ref-type="bibr" rid="CR16">16</xref>] for the harvesting device. Harvesters input parameters are supplied by the meteorology model.</p></sec><sec id="Sec19"><title>4.4.3. Microprocessor/RAM</title><p>Microprocessors often offer low power modes or a Dynamic Frequency and Voltage Scaling (DVFS) ability [<xref ref-type="bibr" rid="CR46">46</xref>]. Microprocessor model is obtained by using FLPA measurement methodology on real chips programmed to play the DPM. The CPU model defines multiple power levels (Normal, Idle, Sleep, and Doze modes) and switches between power modes depending on the DPM activity. If a more complex CPU model is required, we can use the SoftExplorer [<xref ref-type="bibr" rid="CR36">36</xref>] tool to extract more accurate model coefficients. If external RAM is present, the model has the ability to shutdown the RAM when in low-power mode. An enhancement could be to include OS task scheduling activity for applying DVFS.</p></sec><sec id="Sec20"><title>4.4.4. Radio Modules</title><p>Statistically, the radio device is the most power-hungry component. The entire power consumption modelling is delegated to RF experts of a partner laboratory. Radio is modelled using their different power states and activity (RX, TX, Forward, idle, sleep, etc.). Power modes and timings are integrated as input values in the simulator. Of course, RF Scenarios and PE scenarios must be synchronized to describe the same reality.</p></sec><sec id="Sec21"><title>4.4.5. Power Supply/Power Dispatcher</title><p>The goal of the power supply unit is to store energy harvested from the environment into the battery. The power dispatcher splits system power supply into several voltages for each component specification. Both use mainly DC/DC converters to step down or step up the voltage to provide regulated voltage. Converter efficiency is variable, and low leakage current can appear. It depends on the manufacturer, the temperature, the input voltage, and the output current.</p></sec><sec id="Sec22"><title>4.4.6. Energy Storage System</title><p>One of the most important models is that of the energy storage system. The battery behaviour is by far the most complex [<xref ref-type="bibr" rid="CR47">47</xref>]. Most battery models [<xref ref-type="bibr" rid="CR23">23</xref>] predict the discharge time with a constant current, but the system uses environment harvesting technologies and can recharge itself while discharging. Therefore, we use a battery model which handles both charge and discharge variable currents. This one is similar to the model developped by [<xref ref-type="bibr" rid="CR48">48</xref>], but we use different curve fitting mathematical equations. As a battery presents poor reactivity to pulses, we note that recent works on <italic>supercapacity</italic> [<xref ref-type="bibr" rid="CR49">49</xref>] also show good alternatives to assist main battery systems for harvesters [<xref ref-type="bibr" rid="CR7">7</xref>, <xref ref-type="bibr" rid="CR10">10</xref>].</p><p>Now that the node model context has been presented, we will detail the power and energy estimator itself which exploits the models described in this section.</p></sec></sec></sec><sec id="Sec23"><title>5. The Power and Energy Estimator</title><p>The goal of the simulator is to help at design to identify major <italic>power consumption hot-spots</italic>. As the project is constantly evolving, models are dynamically revised with the FLPA process depending on the desired accuracy. Thus, the simulator can estimate both the node power consumption and predict the system autonomy. The simulator accuracy mainly depends on model specific errors.</p><p>On the other hand, simulating a DPM permits one to adjust the strategy and fine tune DVFS and DPM opportunities. Thus, designers can evaluate the relevance of the developed DPM policy. Then, finally, we can give a nearly realistic estimation of the global system viability for a configuration.</p><p>Figure <xref rid="Fig5" ref-type="fig">5</xref> presents the prototype of the Power/Energy Estimator (PEE). In the main part, the screen describes the node major hardware components, specific to studied WSNs. The right part includes the controls which command the system parameters in manual mode. Controls are updated in real-time in automatic mode, when playing a scenario. The bottom region displays the energy storage system evolutions during the simulation. <fig id="Fig5"><label>Figure 5</label><caption xml:lang="en"><p><bold>Power and energy estimator.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig5_HTML.jpg"/></fig></p><sec id="Sec24"><title>5.1. Simulator Implementation</title><p>The PEE is built with Labview from National Instruments [<xref ref-type="bibr" rid="CR50">50</xref>]. It combines a graphical language with massively parallel programming and object paradigm support.</p><p>The PEE is based on the global node model presented in Figure <xref rid="Fig2" ref-type="fig">2</xref>. Thus, the simulator engine is composed of the two layers. First, the power management policy layer reacts and describes DPM activities. Second, the physical layer includes all the hardware component models.</p><p>The DPM layer models the PMS by using an FSM defined by a states-transitions schema. The DPM follows the scenario which defines the interaction with the internal and external events. The policy decides on the behaviour to adopt, and it updates the device states/parameters accordingly in the hardware configuration.</p><p>The Hardware layer is based on node components and their characteristics. Each component or peripheral is called a device. Devices are classified according to their types: DC/DC converters, batteries, microsources, CPU, radio, and sensors as specified by the hardware model. Each device is modelled by a class specialization that defines the device behaviours in terms of power consumption. A configuration is a set of channels on which devices are mapped. Each device class embeds the properties, the parameters, and the methods to evaluate and update its model.</p><p>The power simulator is managed by the "manager" which commands the entire simulation evolution. The manager controls playing/recording of scenarios by using a discrete time representation which divides time into time-slice quantas. The manager task is to apply the simulator process which synchronizes both layers.</p></sec><sec id="Sec25"><title>5.2. Simulator Process Description</title><p>The PEE process is shown in Figure <xref rid="Fig6" ref-type="fig">6</xref>. The user creates or loads a project which includes the scenario to be studied. In fact, it is the definition of the different models, the configuration, the global simulation parameters, and the results destination.<fig id="Fig6"><label>Figure 6</label><caption xml:lang="en"><p><bold>Simulator process.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig6_HTML.jpg"/></fig></p><p>When the user decides to start the simulation, the manager launches the simulation at a defined temporal resolution. When playing, the real-time DPM module (RT_DPM) calls at fixed frequency the sample DPM function. This function processes the reading of the node external models and collects the data to dispatch them to the appropriate devices. In detail, Read_Scenario reads the scenario events. Read_Meteo reads the meteo coefficients and the WF predictions. Read_RF reads the RF environment to collect the radio packets. Dispatch_Events applies the causality part of events. For example, when the presence of gas is defined by an event, the simulator must update TX-12 gas sensor value accordingly. This step updates the input parameters and thus prepares the hardware model. In practice, Dispatch_Events mainly updates sensors, but events can potentially have an impact on any parts (cause of failure, etc.). The Dispatch_Meteo prepares and converts meteo data for the harvesters and the global node temperature (because models can integrate model temperature degradation). WF information is transferred to the DPM. Then, Dispatch_RF sends the packets to the appropriate hardware radio module. The logical stage purpose is to collect and prepare the input parameters, to run the DPM module. At this time, no hardware models have been estimated yet. Finally, the run_DPM method is called. The DPM solves the transition conditions and enters a new power mode. The DPM executes a behaviour resulting in the update of command variables and hardware component parameters.</p><p>The real-time sampler module (RT_Sampler) is started after the DPM. Firstly, the sampler evaluates each device model with the new fixed input parameter values. This is done by calling the redefined UpdateModel method which reevaluates the model. Each model has dedicated parameters but share common variables: the supply voltage indicator, the current/intensity, the consumed power, and the component energy magnitude value (different for each sensor or microsource). Secondly, these output variables are recorded as one goes along in the results destination.</p><p>When RT_DPM and RT_Sampler have terminated, the next function is evaluated to determine if simulation time is exceeded or battery level has reached a low threshold. If simulation continues, the simulation time is incremented and the process restarts in loop.</p></sec><sec id="Sec26"><title>5.3. Simulator Results</title><p>When the simulation is terminated, the result files contain data over time which can be directly analysed to present the results. Results are grouped into sections: sensors, microsources, MPPT, DC/DC, CPU/RAM, and radio components. For each component, the simulator provides the equipment value, the intensity, the voltage, and the power curves. Thus, the maximum power peaks can be used to study the impact on the battery for high-discharge sequences. The total harvested energy and the total consumed energy are also determined by integrating the power over time. The energy directly relies on the node autonomy which can be presented in Watt hours. Because batteries have specific behaviours [<xref ref-type="bibr" rid="CR47">47</xref>], we cannot model the total node autonomy with basic sum operators. Instead, we must rely on a realistic battery model that handles at realtime simultaneous variable charge and discharge currents [<xref ref-type="bibr" rid="CR48">48</xref>, <xref ref-type="bibr" rid="CR51">51</xref>].</p></sec></sec><sec id="Sec27"><title>6. Model Characterization</title><p>For each model, we applied the FLPA methodology described in Section 4.1. In this section, we present the results for two sensors, a camera, a solar microsource model, and the battery.</p><sec id="Sec28"><title>6.1. ERYMA 4S Sensor</title><p>The ERYMA 4S sensor is an intrusion detector based on ground vibrations. A walking person produces vibrations that are recorded and transmitted to a local unit. This unit analyses the measurements and generates an alarm. Power supply ranging from 10 to 50 Volts. Functional temperature range is −40°C to +65°C For this power experimentation, we applied the FLPA methodology to measure and characterize the sensor. For the first step, we proceeded with a series of measurements by varying the sensor input voltage. These measurements give the intensity drained by the device. The process has been repeated for several temperatures: −20, 0, +25, +35, +55 in °C by using an incubator. We have obtained a series of <italic>I</italic>-<italic>V</italic> measures presenting the <italic>I-V characterization curves</italic> for different temperatures shown in Figure <xref rid="Fig7" ref-type="fig">7</xref>.<fig id="Fig7"><label>Figure 7</label><caption xml:lang="en"><p><bold>4S sensor</bold><bold><italic>I</italic></bold><bold>-</bold><bold><italic>V</italic></bold><bold>characterization.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig7_HTML.jpg"/></fig></p><p>We notice that the device seems to have a particular behaviour at 40 V. This is probably due to a calibration effect. As we know, the power is given by the formula: <inline-formula id="IEq43"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq43_HTML.gif"/></inline-formula>, so it is trivial to determine the sensor power consumption. Thus, we calculate the power consumption for each curve. This gives the consumption for a selected voltage and an operating temperature.</p><p>For the 4S sensor, power consumption is the lowest at minimum temperature (−20°C). We note that the power consumption increases from 525 mW at 10 V to 910 mW at 50 V. It is a 73.33% increase at 25°C. We notice that there is low power variation as the temperature increases. The maximal variation is 11% when the temperature rises from −20°C to +55°C at 10 Volts.</p><p>With these measurements, we extract the characteristics for which the sensor is the less consuming. We get the equation model (2) <disp-formula id="Equ2"><label>2</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ2_HTML.gif"/></disp-formula></p><p>As can be noticed, the curve variation is nearly linear in temperature. Thus, a linear variation coefficient can be defined.</p><p>Once the final model is built, the absolute error is measured. For this sensor, the mean error is 1.7%, and the maximum peak error is 11.9%. As the sensor will probably be used in 10–15 V like the battery nominal voltage, the consumption will range from 488 to 624 mW. The maximum error is 1.74%, this corresponds to less than 1 mA error from the real behaviour.</p></sec><sec id="Sec29"><title>6.2. ERYMA S912 Sensor</title><p>The ERYMA S912 sensor is an intrusion detector based on fence vibrations. A person climbing a fence is detected and a signal is sent to the local unit. The unit analyses the measurements and generates an alert.</p><p>Like the previous sensor, we measure the behaviour of the S912 sensor located in an incubator at: −20, 0, +25, +35, +55 in °C. We vary the sensor input voltage from 10 to 30 Volts, and we record the intensity drained by the device. We have obtained a series of <italic>I-V</italic> measures presenting the <italic>I-V characterization curves</italic> for different temperatures shown in Figure <xref rid="Fig8" ref-type="fig">8</xref>.<fig id="Fig8"><label>Figure 8</label><caption xml:lang="en"><p><bold>S912 sensor</bold><bold><italic>I-V</italic></bold><bold>characterization.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig8_HTML.jpg"/></fig></p><p>We notice that the power consumption increases as the input voltage grows, from 320 mW at 10 Volts to 548 mW at 30 V. This is an increase of 71.25% at 25<sup>∘</sup>C. The power consumption has a 14% decrease when the temperature evolves from −20<sup>∘</sup>C to +55<sup>∘</sup>C. We can remark that the curve fits near a log function modelled by(3)<disp-formula id="Equ3"><label>3</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ3_HTML.gif"/></disp-formula></p><p>Moreover, we can remark that the increase of temperature causes a power consumption variation from 4% to 14% depending on the voltage. This increase can be modelled as a linear equation.</p><p>Once the final model is built, the measured absolute error is 1.9%. The maximum peak error is 4.7%. The sensor will probably be used at 10–15 V like the battery nominal voltage. In this case, the consumption will range from 307 to 423 mW. Here, a higher temperature gives lower consumption.</p></sec><sec id="Sec30"><title>6.3. MicroCam Camera</title><p>The MicroCam device is a miniature colour camera able to acquire a JPEG image through a serial or USB connection. Created for robotics and video surveillance, the camera can send 0.75 fps video or compressed images (<inline-formula id="IEq44"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq44_HTML.gif"/></inline-formula> to <inline-formula id="IEq45"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq45_HTML.gif"/></inline-formula>). The device has low power consumption.</p><p>Measurements have been taken at ambient temperature (15°C). We measure the intensity drained by the device at different phases by using the default software. We have obtained an intensity curve at different phases shown in Figure <xref rid="Fig9" ref-type="fig">9</xref>.<fig id="Fig9"><label>Figure 9</label><caption xml:lang="en"><p><bold>MicroCam sensor consumption.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig9_HTML.jpg"/></fig></p><p>We notice that the power consumption increases, while images are acquired and transmitted. There is no consumption difference when changing image resolution or transfer speed. The intensity consumption is 60 mA in standby and 64 mA for an image acquisition. Thus, it does not vary that much and can be assimilated as a constant model of 61 mA. In this approximation, the error value is 1 mA overestimated in standby mode and 3 mA underestimated in activity. But we experiment a stability problem at 3.3 Volts with the TTL that forces us to fall back on a 5 Volt DC supply. With this voltage, the power consumption reaches 305 mW.</p></sec><sec id="Sec31"><title>6.4. Suntech 10 W Solar Panel</title><p>The Suntech panel is a multicrystalline silicon solar cell offering 10 Watt maximal power. It uses a textured cell surface and bypass diode design to harvest maximum sunlight by preventing partial shadowing attenuation. The Suntech total efficiency is 8.8%.</p><p>Measurements have been taken on location with real weather contexts. For this, we use a Kimo SL200 Pyranometer to measure the solar intensity reference. The solar panel is oriented at 35° to the south direction. It is the optimal angle in the applicative region.</p><p>We use a programmable power supply to measure the intensity provided with different programmed ranges from 0 to <italic>V</italic><sub><italic>oc</italic></sub> Volts. As one solar measurement takes up 10 seconds to record on the entire range, solar sunset could slightly vary, and thus introduce jitter. We have obtained an intensity-voltage (<italic>I</italic>-<italic>V</italic>) curve for different sunset irradiation powers ranging from 150 to 930 W/m<sup>2</sup>. Each <italic>I</italic>-<italic>V</italic> curve, is converted to a <italic>P</italic>-<italic>V</italic> (power-voltage) curve, where the maximum indicates the maximum power point. Figure <xref rid="Fig10" ref-type="fig">10</xref> shows the different <italic>P</italic>-<italic>V</italic> curves collected.<fig id="Fig10"><label>Figure 10</label><caption xml:lang="en"><p><bold>Suntech solar panel characterization.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig10_HTML.jpg"/></fig></p><p>With the <italic>P</italic>-<italic>V</italic> curves, we reach 10 Watt with 930 W/m<sup>2</sup> solar irradiation. We observed that the maximum power point propagates nearly 17 Volts for this solar power range. It corresponds to the <inline-formula id="IEq46"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq46_HTML.gif"/></inline-formula> V and the <inline-formula id="IEq47"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq47_HTML.gif"/></inline-formula> A given by the datasheet. This is because module performance is rated under Standard Test Conditions (STC): irradiance of 1000 W/m<sup>2</sup>, solar spectrum of AM 1.5, and module temperature at 25°C. Then, we modelled the Suntech maximum power point by a linear equation. Thus, we confirmed that the solar microsource harvested power range vary from 0 to 10 W.</p></sec><sec id="Sec32"><title>6.5. AS512/2 Battery Cell</title><p>The AS512/2 cell is a sealed lead-calcium battery of 12 Volts for a 2 A h capacity. The battery uses lead-calcium grids with gas recombination and offers good recovery from deep discharge. For this model, we use a similar method of work as that developed by [<xref ref-type="bibr" rid="CR48">48</xref>] to model a battery with simultaneous charge and discharge. Method: By using the FLPA methodology, we define the high-level parameters from an electrical point of view. We use parameters defined in electricity: the electromotive force, the capacity, the impedance, the efficiency, and the self-discharge as the base of the model criteria. The electronic model is defined by (4) as <disp-formula id="Equ4"><label>4</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ4_HTML.gif"/></disp-formula></p><p>where <inline-formula id="IEq48"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq48_HTML.gif"/></inline-formula> is the battery tension (<inline-formula id="IEq49"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq49_HTML.gif"/></inline-formula>), <inline-formula id="IEq50"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq50_HTML.gif"/></inline-formula> the battery electromotive force (<inline-formula id="IEq51"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq51_HTML.gif"/></inline-formula>), <inline-formula id="IEq52"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq52_HTML.gif"/></inline-formula> the battery internal resistance (Ohms), and <inline-formula id="IEq53"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq53_HTML.gif"/></inline-formula> the provided current (<inline-formula id="IEq54"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq54_HTML.gif"/></inline-formula>).</p><p>bench description: to take the measurements, we used a battery bench. The bench is composed of a power supply which provides the recharge current to the reference battery. The battery is placed in an incubator to measure behaviour as a function of temperature. The bench integrates an electronic load which varies according to a measurement scenario.</p><p>Analysis: to experiment a scenario, we must calibrate the power supply to deliver a constant recharge current. In this bench, a constant recharge current of 200 mA is applied while a variable discharge current is applied with a repeated pattern. The battery voltage is measured over time until the threshold tension limit has been reached.</p><p>Characterization: we calculate the <inline-formula id="IEq55"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq55_HTML.gif"/></inline-formula> and the <inline-formula id="IEq56"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq56_HTML.gif"/></inline-formula> as a function of capacity. To do this, we take a couple of points on the data curve at each state transition. For example, one point on a peak period and one on another peak (with a nearest delta). As we have a couple of points, we can solve (4) by the double equation system (5) <disp-formula id="Equ5"><label>5</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ5_HTML.gif"/></disp-formula></p><p>By solving (5), we determine the evolution of the internal resistance and the electromotive force depending on the evolution of the battery capacity.</p><p>Model determination: then, we model the electromotive force and internal resistance parameters. We notice that <inline-formula id="IEq57"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq57_HTML.gif"/></inline-formula> can be modelled as a linear equation (<xref rid="Equ6" ref-type="disp-formula">6</xref>) <disp-formula id="Equ6"><label>6</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ6_HTML.gif"/></disp-formula></p><p>The internal resistance has an exponential aspect modelled by(7)<disp-formula id="Equ7"><label>7</label><graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_Equ7_HTML.gif"/></disp-formula></p><p>Coefficients <inline-formula id="IEq58"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq58_HTML.gif"/></inline-formula>, <inline-formula id="IEq59"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq59_HTML.gif"/></inline-formula> in (6), and <inline-formula id="IEq60"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq60_HTML.gif"/></inline-formula>, <inline-formula id="IEq61"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq61_HTML.gif"/></inline-formula>, <inline-formula id="IEq62"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq62_HTML.gif"/></inline-formula> in (7) are determined by regression approach. They are tightly coupled with the battery and the technology chosen.</p><p>Finally, the battery model is evaluated and compared to the real measurements in Figure <xref rid="Fig11" ref-type="fig">11</xref>. The absolute maximum measurement error is <bold>8</bold>%.<fig id="Fig11"><label>Figure 11</label><caption xml:lang="en"><p><bold>AS512 battery model results.</bold></p></caption><graphic specific-use="web" mime-subtype="JPEG" xlink:href="MediaObjects/13639_2010_Article_229_Fig11_HTML.jpg"/></fig></p><p>As the battery model handles simultaneous charge and discharge, it can be used to model a self-recharging WSN. Thus, it can predict the battery autonomy of a WSN node according to its activity and environment.</p><p>Finally, by repeating the process for all other components, we can build a power map of the different node equipment. If components or circuit design change, models are rebuilt to reconstruct the power consumption map. Table <xref rid="Tab5" ref-type="table">5</xref> shows an example of the power consumption map for the required equipment of the CAPNET project. <table-wrap id="Tab5"><label>Table 5</label><caption xml:lang="en"><p>Node power consumption map.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Type</p></th><th align="center"><p>Component/chip</p></th><th align="center"><p>Mode 1</p></th><th align="center"><p>Mode 2</p></th><th align="center"><p>Mode 3</p></th></tr></thead><tbody><tr><td align="left"><p>CPU</p></td><td align="center"><p>PIC24F256</p></td><td align="center"><p>Full:</p></td><td align="center"><p>Idle:</p></td><td align="center"><p>Sleep:</p></td></tr><tr><td/><td align="center"><p>@3.3 Volts</p></td><td align="center"><p>16 mA</p></td><td align="center"><p>2.5 <italic>μ</italic> A</p></td><td align="center"><p>100 nA</p></td></tr><tr><td/><td align="center"/><td><p>53 mW</p></td><td align="center"><p>8.5 <italic>μ</italic> W</p></td><td align="center"><p>330 nW</p></td></tr><tr><td align="left"><p>SRAM (x2)</p></td><td align="center"><p>A623308A</p></td><td align="center"><p>Op R/W:</p></td><td align="center"><p>StandBy:</p></td><td align="center"><p>OFF:</p></td></tr><tr><td/><td align="center"><p>@5 Volts</p></td><td align="center"><p>35 mA</p></td><td align="center"><p>10 <italic>μ</italic> A</p></td><td align="center"><p>0 mA</p></td></tr><tr><td/><td align="center"/><td><p>175 mW</p></td><td align="center"><p>50 <italic>μ</italic> W</p></td><td align="center"><p>0 mW</p></td></tr><tr><td align="left"><p>RF1</p></td><td align="center"><p>MRF24J40</p></td><td align="center"><p>TX:</p></td><td align="center"><p>RX:</p></td><td align="center"><p>Sleep:</p></td></tr><tr><td/><td align="center"><p>@3.3 Volts</p></td><td align="center"><p>130 mA</p></td><td align="center"><p>25 mA</p></td><td align="center"><p>2 <italic>μ</italic> A</p></td></tr><tr><td align="left"><p>AES128</p></td><td align="center"/><td align="center"><p>430 mW</p></td><td align="center"><p>82.5 mW</p></td><td align="center"><p>6.6 <italic>μ</italic> W</p></td></tr><tr><td align="left"><p>RF2</p></td><td align="center"><p>CC1101</p></td><td align="center"><p>TX:</p></td><td align="center"><p>RX:</p></td><td align="center"><p>Idle:</p></td></tr><tr><td/><td align="center"><p>@3.3 Volts</p></td><td align="center"><p>75 mA</p></td><td align="center"><p>25 mA</p></td><td align="center"><p>200 nA</p></td></tr><tr><td align="left"><p>WakeOn</p></td><td align="center"/><td align="center"><p>248 mW</p></td><td align="center"><p>82,5 mW</p></td><td align="center"><p>660 nW</p></td></tr><tr><td align="left"><p>Sensor1</p></td><td align="center"><p>PRO-45<sup>1</sup>/S912</p></td><td align="center"><p>Operating:</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@10–13 Volts</p></td><td align="center"><p>300 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Sensor2</p></td><td align="center"><p>Mygale 4S</p></td><td align="center"><p>Operating:</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@10–13 Volts</p></td><td align="center"><p>600 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Video</p></td><td align="center"><p>MicroCam</p></td><td align="center"><p>Capture:</p></td><td align="center"><p>StandBy:</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@5 Volts</p></td><td align="center"><p>64 mA</p></td><td align="center"><p>61 mA</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"/><td><p>320 mW</p></td><td align="center"><p>305 mW</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Gas1</p></td><td align="center"><p>OLCT 50</p></td><td align="center"><p>(18–30 V)</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@18 Volts</p></td><td align="center"><p>1080 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Gas2</p></td><td align="center"><p>OLCT 80 @18 Volts</p></td><td align="center"><p>(12–28 V) 900 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td/><td/><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Gas3</p></td><td align="center"><p>TX-12</p></td><td align="center"><p>(6.5–9 V)</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@9 V</p></td><td align="center"><p>108 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>MPPT</p></td><td align="center"><p>LT3652</p></td><td align="center"><p>Operating:</p></td><td align="center"><p>StandBy:</p></td><td align="center"><p>Idle:</p></td></tr><tr><td/><td align="center"><p><italic>η</italic> = 90–95%</p></td><td align="center"><p>2.5 mA</p></td><td align="center"><p>85 <italic>μ</italic> A</p></td><td align="center"><p>15 <italic>μ</italic> A</p></td></tr><tr><td/><td align="center"><p>(in = 4.95–32 V)</p></td><td align="center"><p>Variable</p></td><td align="center"><p>Variable</p></td><td align="center"><p>Variable</p></td></tr><tr><td align="left"><p>DC/DC (Down)</p></td><td align="center"><p>LM3100</p></td><td align="center"><p>Operating:</p></td><td align="center"><p>StandBy:</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p><italic>η</italic> = 85–92%</p></td><td align="center"><p>0.7 mA</p></td><td align="center"><p>17 <italic>μ</italic> A</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>@(10.5–13 V)</p></td><td align="center"><p>Variable</p></td><td align="center"><p>Variable</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>Power stages:</p></td><td align="center"><p>(1–3<inline-formula id="IEq63"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq63_HTML.gif"/></inline-formula>) 3.3 V</p></td><td align="center"><p>(1<inline-formula id="IEq64"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq64_HTML.gif"/></inline-formula>) 5 V</p></td><td align="center"><p>(0-1<inline-formula id="IEq65"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq65_HTML.gif"/></inline-formula>) 9 V</p></td></tr><tr><td align="left"><p>DC/DC</p></td><td align="center"><p>MAX618</p></td><td align="center"><p>Operating:</p></td><td align="center"><p>Shutdown:</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>(Up)</p></td><td align="center"><p><inline-formula id="IEq66"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq66_HTML.gif"/></inline-formula>=<inline-formula id="IEq67"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq67_HTML.gif"/></inline-formula>93%</p></td><td align="center"><p>2.5 mA</p></td><td align="center"><p>3 <italic>μ</italic> A</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"/><td align="center"><p>@(10.5–13 V)</p></td><td align="center"><p>Variable</p></td><td align="center"><p>Variable</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"/><td align="center"><p>Power stages:</p></td><td align="center"><p>(0–2<inline-formula id="IEq68"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq68_HTML.gif"/></inline-formula>) 18 V</p></td><td align="center"/><td align="center"/></tr><tr><td align="left"><p>MS1 Solar</p></td><td align="center"><p>SunTech 10 W</p></td><td align="center"><p>1000 W/m<sup>2</sup></p></td><td align="center"><p>500 W/m<sup>2</sup></p></td><td align="center"><p>200 W/m<sup>2</sup></p></td></tr><tr><td/><td align="center"><p>PMax</p></td><td align="center"><p>10 W</p></td><td align="center"><p>5 W</p></td><td align="center"><p>2 W</p></td></tr><tr><td align="left"><p>MS2 Wind</p></td><td align="center"><p>Rutland 504</p></td><td align="center"><p>75 Km/h</p></td><td align="center"><p>20 Km/h</p></td><td align="center"><p>15 Km/h</p></td></tr><tr><td/><td align="center"><p>PMax</p></td><td align="center"><p>60 W</p></td><td align="center"><p>4.3 W</p></td><td align="center"><p>1.5 W</p></td></tr><tr><td align="left"><p>MS3 Thermal</p></td><td align="center"><p>MPG604</p></td><td align="center"><p><inline-formula id="IEq69"><inline-graphic specific-use="web" mime-subtype="GIF" xlink:href="MediaObjects/13639_2010_Article_229_IEq69_HTML.gif"/></inline-formula> °C</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"/><td><p>80 mW</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>CELL Battery</p></td><td align="center"><p>AS512/2</p></td><td align="center"><p>12 V</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr><tr><td/><td align="center"><p>(10.5–13 V)</p></td><td align="center"><p>2 Ah</p></td><td align="center"><p>/</p></td><td align="center"><p>/</p></td></tr></tbody></table></table-wrap></p></sec></sec><sec id="Sec33"><title>7. Experiment</title><sec id="Sec34"><title>7.1. Experiment Setup</title><p>We measure the relevance of the DPM presented in Figure <xref rid="Fig3" ref-type="fig">3</xref>, by measuring its autonomy. This WF-DPM includes weather forecast enhancements.</p><p>The PEE is prepared and initialized with configuration files. The simulator needs:</p><p>(i)to configure the hardware node components and set associated model parameters,</p><p>(ii)to select the DPM used to simulate the node behaviours,</p><p>(iii)to provide the Meteo environment for the scenario,</p><p>(iv)to provide the RF Events to estimate the radio activity,</p><p>(v)to provide the scenario file,</p><p>(vi)to provide the global simulation parameters,</p><p>(vii)to provide the destination of the results.</p><p>With the scenario builder, we recreate the area protection scenario developed in Section 2. A gas measurement is taken every 5 minutes for 15 seconds duration, permanently during the entire scenario. A first detection with sensor 1 occurs, but is not yet confirmed by sensor 2. The second detection is confirmed by sensor 2 which sends an alarm to the supervisor. The supervisor has WF predictions and knows how long the system can take videos. After ten seconds of video, the supervisor has identified the threat and decides to send the intervention unit. The video is deactivated. The DPM waits for sensor 1 and 2 to disarm and goes back to Sleep mode.</p><p>Simulation assumptions</p><p>The weather environment has been acquired by recording real weather coefficients over time, and extracted for the weather scenario. DPM is built by translating the FSM into an external dynamic Labview module. Here, we consider just one node, thus we do not take external RF Events into account. Moreover, global simulation resolution is set to one second and we run the simulation for 529200 seconds (6.125 days).</p><p>We start the simulation and at the end, the simulator produces the results files in the results destination. Results are detailed current, voltage, power, and state values for all discrete time simulations. Global information is minimum power, maximum power, average power, and total energy consumption per components. The simulator provides the final global system average power and total energy consumption.</p></sec><sec id="Sec35"><title>7.2. Simulation Results</title><p>Table <xref rid="Tab6" ref-type="table">6</xref> describes the WF-DPM energy and power consumption results. Results are grouped by components which callback the minimum power (in mW), the maximum power (in mW), the average power (in mW), the total energy (in Joules), and the total ratio (in %).<table-wrap id="Tab6"><label>Table 6</label><caption xml:lang="en"><p>Simulation results.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left"><p>Component</p></th><th align="center"><p>Min</p></th><th align="center"><p>Max</p></th><th align="center"><p>Avg</p></th><th align="center"><p>Energy</p></th><th align="center"><p>Ratio</p></th></tr></thead><tbody><tr><td align="left"><p>S912</p></td><td align="center"><p>351.26</p></td><td align="center"><p>354.348</p></td><td align="center"><p>352.732</p></td><td align="center"><p>186666</p></td><td align="center"><p>70.35%</p></td></tr><tr><td align="left"><p>Mygale 4S</p></td><td align="center"><p>0</p></td><td align="center"><p>1619.73</p></td><td align="center"><p>38.8471</p></td><td align="center"><p>20557.9</p></td><td align="center"><p>7.75%</p></td></tr><tr><td align="left"><p>MicroCam</p></td><td align="center"><p>0</p></td><td align="center"><p>305</p></td><td align="center"><p>5.09774</p></td><td align="center"><p>2697.73</p></td><td align="center"><p>1.02%</p></td></tr><tr><td align="left"><p>OLCT 50</p></td><td align="center"><p>0</p></td><td align="center"><p>1048.8</p></td><td align="center"><p>0.0812</p></td><td align="center"><p>43.001</p></td><td align="center"><p>0.016%</p></td></tr><tr><td align="left"><p>OLCT 80</p></td><td align="center"><p>0</p></td><td align="center"><p>12.3993</p></td><td align="center"><p>0.00096</p></td><td align="center"><p>0.508</p></td><td align="center"><p>1.9E–4%</p></td></tr><tr><td align="left"><p>PIC24F256</p></td><td align="center"><p>1E–5</p></td><td align="center"><p>52.8</p></td><td align="center"><p>1.393</p></td><td align="center"><p>737.199</p></td><td align="center"><p>0.278%</p></td></tr><tr><td align="left"><p>A623308A</p></td><td align="center"><p>0</p></td><td align="center"><p>160</p></td><td align="center"><p>4.2213</p></td><td align="center"><p>2233.92</p></td><td align="center"><p>0.842%</p></td></tr><tr><td align="left"><p>MRF24J40</p></td><td align="center"><p>82.5</p></td><td align="center"><p>429</p></td><td align="center"><p>82.5956</p></td><td align="center"><p>43709.6</p></td><td align="center"><p>16.47%</p></td></tr><tr><td align="left"><p>CC1101</p></td><td align="center"><p>0</p></td><td align="center"><p>165</p></td><td align="center"><p>0.0452</p></td><td align="center"><p>23.925</p></td><td align="center"><p>0.009%</p></td></tr><tr><td align="left"><p>LM3100</p></td><td align="center"><p>0</p></td><td align="center"><p>74.70</p></td><td align="center"><p>14.58</p></td><td align="center"><p>7717.66</p></td><td align="center"><p>2.9%</p></td></tr><tr><td align="left"><p>LM3100</p></td><td align="center"><p>0</p></td><td align="center"><p>5.866</p></td><td align="center"><p>0.155</p></td><td align="center"><p>81.91</p></td><td align="center"><p>0.031%</p></td></tr><tr><td align="left"><p>LM3100</p></td><td align="center"><p>0</p></td><td align="center"><p>82.0588</p></td><td align="center"><p>1.644</p></td><td align="center"><p>870.29</p></td><td align="center"><p>0.328%</p></td></tr><tr><td align="left"><p>MAX618</p></td><td align="center"><p>0</p></td><td align="center"><p>187.271</p></td><td align="center"><p>0.0145</p></td><td align="center"><p>7.678</p></td><td align="center"><p>0.0029%</p></td></tr><tr><td align="left"><p>LT3652</p></td><td align="center"><p>0</p></td><td align="center"><p>140.992</p></td><td align="center"><p>41.4749</p></td><td align="center"><p>21948.5</p></td><td align="center"><p>8.272%</p></td></tr><tr><td align="left"><p>SunTech</p></td><td align="center"><p>0</p></td><td align="center"><p>2819.84</p></td><td align="center"><p>829.497</p></td><td align="center"><p>438970</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Others</p></td><td align="center"><p>0</p></td><td align="center"><p>0</p></td><td align="center"><p>0</p></td><td align="center"><p>0</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Total sensors</p></td><td align="center"><p>−</p></td><td align="center"/><td align="center"><p>396.759</p></td><td align="center"><p>209965</p></td><td align="center"><p>79.13%</p></td></tr><tr><td align="left"><p>Total radios</p></td><td align="center"><p>−</p></td><td align="center"/><td align="center"><p>82.6408</p></td><td align="center"><p>43733.5</p></td><td align="center"><p>16.48%</p></td></tr><tr><td align="left"><p>Total DC/DC</p></td><td align="center"><p>−</p></td><td align="center"/><td align="center"><p>16.3975</p></td><td align="center"><p>8677.54</p></td><td align="center"><p>3.27%</p></td></tr><tr><td align="left"><p>Total CPU/RAM</p></td><td align="center"><p>−</p></td><td align="center"/><td align="center"><p>5.6143</p></td><td align="center"><p>2969.96</p></td><td align="center"><p>1.12%</p></td></tr><tr><td align="left"><p>Total harvested</p></td><td align="center"><p>+</p></td><td align="center"/><td align="center"><p>788.022</p></td><td align="center"><p>417021</p></td><td align="center"><p>/</p></td></tr><tr><td align="left"><p>Total cons.</p></td><td align="center"/><td align="center"/><td align="center"><p>501.412</p></td><td align="center"><p>265346</p></td><td align="center"><p>100%</p></td></tr></tbody></table></table-wrap></p><p>By examining the results of Tables <xref rid="Tab5" ref-type="table">5</xref> and <xref rid="Tab6" ref-type="table">6</xref>, we can extract some conclusions. When we study the system equipment, we can see that the battery system has a capacity of 2 Ah. The power consumption in Sleep state is mainly given by the sensor 1, it is near 300 mW average in Sleep. It seems that this sensor have the highest power impact on the system (i).</p><p>We replay the same scenario without any harvesters to simulate the worst case/failure condition. In this case, the scenario duration is 44.4 hours which means nearly 1.85 days. Thus, the initial battery capacity of 2 Ah will be too low to cover the scenario duration of 6 days in the failure condition. Consequently, the project team decided to extend the battery capacity to a 7 Ah battery. With further verification, the battery level never drops down; the power supply is now wellscaled for the system demand (ii).</p><p>Moreover, the WF-DPM always switches to the potential maximal energy microsource (iii). The benefit has not been quantified here, but it does offer a power switcher solution like the one in Duranode system [<xref ref-type="bibr" rid="CR45">45</xref>].</p><p>WF-DPM can help a supervisor user by automatically computing the maximal duration of each service. Predicting potential future environment energy permits us to present lifetime autonomy indicators for real-time purposes (iv).</p><p>Finally, the prototype has helped to identify three power bottleneck types and explore one new technology:</p><p>(i)heavy sensor consumption,</p><p>(ii)battery total autonomy and harvester scaling,</p><p>(iii)power switcher for automatic source selection.,</p><p>(iv)experiment a new WF estimating the remaining time duration for a service.</p><p>WF-DPM presents interesting information to help a supervisor activate the adapted service. Also, WF-DPM can be used for automatic DPM decisions depending on the application context. For example, there are some particular deep-sea beacons which need to come back to the surface for battery recharging. Here, WF-DPM can predict the potential best period to emerge to maximize energy harvesting. We think that WF has many applications that can be exploited by WSN.</p></sec></sec><sec id="Sec36"><title>8. Conclusion</title><p>In this paper, we proposed to develop a power and energy estimator to determine the node autonomy duration of WSNs. We present the CAPNET project with a representative scenario of fire brigade intervention. We combine the modelling approach with a problem decomposition approach to realize the estimator. The simulator is built upon a two-layer representation, handling the node logical part and the node hardware part. By using the FLPA methodology, we built models with successive incremental refinements to adjust granularity to project duration, cost, and needs. The power consumption engine exploits these models to manage the hardware part and the DPM strategy at runtime.</p><p>The most important outcomes of this paper is that: the simulator ability to handle recharging WSNs to predict node autonomy in a given scenario. This way, it can identify power bottlenecks such as states with heavy sensor consumption. Thus, the tool enables the calibration of the total autonomy of the battery and the harvester scale accordingly. Moreover, by integrating WF into DPM, we can automatically select the potentially best ambient power source. We validate that a WF-DPM can be used to calculate the remaining time duration for their services.</p><p>From this work, we learn to exploit component cartography consumption, allowing for the quick identification of abnormal power peak consumption. We observed that the DPM must be easily writable because during adjustments, lot of changes impact the DPM policy.</p><p>The FLPA methodology can be exploited for energy characterization of hardware components, not just CPU ones. This approach is representative about the way tools must be based on real experimentation behaviours, to determine is own particular models. By this way, it does not restrict to a particular WSN, but can include lot of type of WSNs. Now, we want to explore WF-DPM for automatic DPM decisions, such as for particular deep-sea beacons which need to surface for battery recharging. Here, WF-DPM can predict the potential best period to emerge to maximize the energy harvesting.</p><p>By the end of the CAPNET project, the goal is to build a demonstrator including final sensors, harvesters, and others system components. Now, we expect to measure the real difference between the simulator and the demonstrator. This will permit us to enhance the power/energy estimator to better adapt tool accuracy to reality.</p></sec></body><back><ack><title>Acknowledgments</title><p>The authors would like to thank the "<italic>CAPNET"</italic> project partners: fire service partners: SDIS29 (Service Départemental d'Incendie et de Secours du Finistère), industrial partners: ERYMA Security Systems (Leader), DeltaDore, and AtlanticRF, academics partners: I.E.T.R Rennes and Lab-STICC Lorient. Financial pole: <italic>"Pôle Image et R</italic> é<italic>seaux", "Conseil G</italic> é<italic>n</italic> é<italic>ral du Morbihan", "R</italic> é<italic>gion Bretagne", and "</italic> Ministère Français de l'Economie, des Finances et de l'Industrie<italic>"</italic>, spellchecker: Joanna Ropers.</p></ack><ref-list id="Bib1"><title>References</title><ref-list><ref id="CR1"><label>1.</label><mixed-citation publication-type="other">Wikipedia : <bold>Wireless sensor network.</bold> 2010, <ext-link xlink:href="http://en.wikipedia.org/wiki/Wireless_sensor_network" ext-link-type="uri">http://en.wikipedia.org/wiki/Wireless_sensor_network</ext-link></mixed-citation></ref><ref id="CR2"><label>2.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Chou</surname><given-names>PH</given-names></name><name><surname>Park</surname><given-names>C</given-names></name></person-group><article-title xml:lang="en">Energy-efficient platform designs for real-world wireless sensing applications</article-title><source>Proceedings of the IEEE/ACM International Conference on Computer-Aided Design (ICCAD '05)</source><year>2005</year><fpage>912</fpage><lpage>919</lpage><comment>November , Irvine, Calif, USA</comment></mixed-citation></ref><ref id="CR3"><label>3.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Idris</surname><given-names>MYI</given-names></name><name><surname>Tamil</surname><given-names>EM</given-names></name><name><surname>Noor</surname><given-names>NM</given-names></name><name><surname>Razak</surname><given-names>Z</given-names></name><name><surname>Fong</surname><given-names>KW</given-names></name></person-group><article-title xml:lang="en">Parking guidance system utilizing wireless sensor network and ultrasonic sensor</article-title><source>Information Technology Journal</source><year>2009</year><volume>8</volume><issue>2</issue><fpage>138</fpage><lpage>146</lpage><pub-id pub-id-type="doi">10.3923/itj.2009.138.146</pub-id></mixed-citation></ref><ref id="CR4"><label>4.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Rincón</surname><given-names>FJ</given-names></name><name><surname>Paselli</surname><given-names>M</given-names></name><name><surname>Recas</surname><given-names>J</given-names></name><name><surname>Zhao</surname><given-names>Q</given-names></name><name><surname>Sánchez-Elez</surname><given-names>M</given-names></name><name><surname>Atienza</surname><given-names>D</given-names></name><name><surname>Penders</surname><given-names>J</given-names></name><name><surname>De Micheli</surname><given-names>G</given-names></name></person-group><article-title xml:lang="en">OS-based sensor node platform and energy estimation model for health-care wireless sensor networks</article-title><source>Proceedings of Design, Automation and Test in Europe (DATE ')</source><year>2008</year><fpage>1027</fpage><lpage>1032</lpage><comment>Munich, Germany</comment></mixed-citation></ref><ref id="CR5"><label>5.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Chee</surname><given-names>Y-H</given-names></name><name><surname>Koplow</surname><given-names>M</given-names></name><name><surname>Mark</surname><given-names>M</given-names></name><name><surname>Pletcher</surname><given-names>N</given-names></name><name><surname>Seeman</surname><given-names>M</given-names></name><name><surname>Burghardt</surname><given-names>F</given-names></name><name><surname>Steingart</surname><given-names>D</given-names></name><name><surname>Rabaey</surname><given-names>J</given-names></name><name><surname>Wright</surname><given-names>P</given-names></name><name><surname>Sanders</surname><given-names>S</given-names></name></person-group><article-title xml:lang="en">PicoCube: a 1cm3 sensor node powered by harvested energy</article-title><source>Proceedings of the 45th annual Design Automation Conference</source><year>2008</year><fpage>114</fpage><lpage>119</lpage><comment>Anaheim, Calif, USA</comment></mixed-citation></ref><ref id="CR6"><label>6.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Guerrero</surname><given-names>MA</given-names></name><name><surname>Romero</surname><given-names>E</given-names></name><name><surname>Barrero</surname><given-names>F</given-names></name><name><surname>Milanés</surname><given-names>MI</given-names></name><name><surname>González</surname><given-names>E</given-names></name></person-group><article-title xml:lang="en">Overview of medium scale energy storage systems</article-title><source>Proceedings of the 6th International Conference on Compatability and Power Electronics (CPE '09)</source><year>2009</year><fpage>93</fpage><lpage>100</lpage><comment>May</comment></mixed-citation></ref><ref id="CR7"><label>7.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Jiang</surname><given-names>X</given-names></name><name><surname>Polastre</surname><given-names>J</given-names></name><name><surname>Culler</surname><given-names>D</given-names></name></person-group><article-title xml:lang="en">Perpetual environmentally powered sensor networks</article-title><source>Proceedings of the 4th International Symposium on Information Processing in Sensor Networks (IPSN '05)</source><year>2005</year><fpage>463</fpage><lpage>468</lpage></mixed-citation></ref><ref id="CR8"><label>8.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Raghunathan</surname><given-names>V</given-names></name><name><surname>Kansal</surname><given-names>A</given-names></name><name><surname>Hsu</surname><given-names>J</given-names></name><name><surname>Friedman</surname><given-names>J</given-names></name><name><surname>Srivastava</surname><given-names>M</given-names></name></person-group><article-title xml:lang="en">Design considerations for solar energy harvesting wireless embedded systems</article-title><source>Proceedings of the 4th International Symposium on Information Processing in Sensor Networks (IPSN '05)</source><year>2005</year><fpage>457</fpage><lpage>462</lpage></mixed-citation></ref><ref id="CR9"><label>9.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Chen</surname><given-names>M</given-names></name><name><surname>Rincón-Mora</surname><given-names>GA</given-names></name></person-group><article-title xml:lang="en">Single inductor, multiple input, multiple output (SIMIMO) power mixer-charger-supply system</article-title><source>Proceedings of the International Symposium on Low Power Electronics and Design (ISLPED '07)</source><year>2007</year><fpage>310</fpage><lpage>315</lpage><comment>August</comment></mixed-citation></ref><ref id="CR10"><label>10.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Park</surname><given-names>C</given-names></name><name><surname>Chou</surname><given-names>PH</given-names></name></person-group><article-title xml:lang="en">AmbiMax: autonomous energy harvesting platform for multi-supply wireless sensor nodes</article-title><source>Proceedings of the 3rd Annual IEEE Communications Society on Sensor and Adhoc Communications and Networks (Secon '06)</source><year>2006</year><volume>1</volume><fpage>168</fpage><lpage>177</lpage></mixed-citation></ref><ref id="CR11"><label>11.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Simjee</surname><given-names>F</given-names></name><name><surname>Chou</surname><given-names>PH</given-names></name></person-group><article-title xml:lang="en">Everlast: long-life, supercapacitor-operated wireless sensor node</article-title><source>Proceedings of the International Symposium on Low Power Electronics and Design</source><year>2006</year><fpage>197</fpage><lpage>202</lpage></mixed-citation></ref><ref id="CR12"><label>12.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Green</surname><given-names>MA</given-names></name></person-group><source>Third Generation Photovoltaic: Advanced Solar Energy Conversion</source><year>2005</year><publisher-loc>New York, NY, USA</publisher-loc><publisher-name>Springer</publisher-name></mixed-citation></ref><ref id="CR13"><label>13.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Roundy</surname><given-names>S</given-names></name><name><surname>Wright</surname><given-names>PK</given-names></name><name><surname>Rabaey</surname><given-names>J</given-names></name></person-group><article-title xml:lang="en">A study of low level vibrations as a power source for wireless sensor nodes</article-title><source>Computer Communications</source><year>2003</year><volume>26</volume><issue>11</issue><fpage>1131</fpage><lpage>1144</lpage><pub-id pub-id-type="doi">10.1016/S0140-3664(02)00248-7</pub-id></mixed-citation></ref><ref id="CR14"><label>14.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Benini</surname><given-names>L</given-names></name><name><surname>Bogliolo</surname><given-names>A</given-names></name><name><surname>De Micheli</surname><given-names>G</given-names></name></person-group><article-title xml:lang="en">A survey of design techniques for system-level dynamic power management</article-title><source>IEEE Transactions on Very Large Scale Integration (VLSI) Systems</source><year>2000</year><volume>8</volume><issue>3</issue><fpage>299</fpage><lpage>316</lpage><pub-id pub-id-type="doi">10.1109/92.845896</pub-id></mixed-citation></ref><ref id="CR15"><label>15.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Vullers</surname><given-names>RJM</given-names></name><name><surname>van Schaijk</surname><given-names>R</given-names></name><name><surname>Doms</surname><given-names>I</given-names></name><name><surname>Van Hoof</surname><given-names>C</given-names></name><name><surname>Mertens</surname><given-names>R</given-names></name></person-group><article-title xml:lang="en">Micropower energy harvesting</article-title><source>Solid-State Electronics</source><year>2009</year><volume>53</volume><issue>7</issue><fpage>684</fpage><lpage>693</lpage><pub-id pub-id-type="doi">10.1016/j.sse.2008.12.011</pub-id></mixed-citation></ref><ref id="CR16"><label>16.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Brunelli</surname><given-names>D</given-names></name><name><surname>Benini</surname><given-names>L</given-names></name><name><surname>Moser</surname><given-names>C</given-names></name><name><surname>Thiele</surname><given-names>L</given-names></name></person-group><article-title xml:lang="en">An efficient solar energy harvester for wireless sensor nodes</article-title><source>Proceedings of Design, Automation and Test in Europe (DATE '08)</source><year>2008</year><fpage>104</fpage><lpage>109</lpage><pub-id pub-id-type="doi">10.1145/1403375.1403404</pub-id><comment>Munich, Germany</comment></mixed-citation></ref><ref id="CR17"><label>17.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ekanayake</surname><given-names>V</given-names></name><name><surname>Kelly</surname><given-names>C</given-names><suffix>IV</suffix></name><name><surname>Manohar</surname><given-names>R</given-names></name></person-group><article-title xml:lang="en">An ultra low-power processor for sensor networks</article-title><source>ACM SIGARCH Computer Architecture News</source><year>2004</year><volume>32</volume><issue>5</issue><fpage>27</fpage><lpage>36</lpage><pub-id pub-id-type="doi">10.1145/1037947.1024397</pub-id></mixed-citation></ref><ref id="CR18"><label>18.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Guitton-Ouhamou</surname><given-names>P</given-names></name><name><surname>Ben Fradj</surname><given-names>H</given-names></name><name><surname>Belleudy</surname><given-names>C</given-names></name><name><surname>Auguin</surname><given-names>M</given-names></name></person-group><article-title xml:lang="en">Low power co-design tool and power optimization of schedules and memory system</article-title><source>Proceedings of the 14th International Workshop on Integrated Circuit and System Design Power and Timing Modeling, Optimization and Simulation (PATMOS '04)</source><year>2004</year><fpage>603</fpage><lpage>612</lpage><pub-id pub-id-type="doi">10.1007/978-3-540-30205-6_62</pub-id><comment>Santorini, Greece, Lecture Notes in Computer Science 3254</comment></mixed-citation></ref><ref id="CR19"><label>19.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Laurent</surname><given-names>J</given-names></name><name><surname>Julien</surname><given-names>N</given-names></name><name><surname>Senn</surname><given-names>E</given-names></name><name><surname>Martin</surname><given-names>E</given-names></name></person-group><article-title xml:lang="en">Functional level power analysis: an efficient approach for modeling the power consumption of complex processors</article-title><source>Proceedings of Design, Automation and Test in Europe Conference and Exhibition (DATE '04)</source><year>2004</year><volume>1</volume><fpage>666</fpage><lpage>667</lpage><pub-id pub-id-type="doi">10.1109/DATE.2004.1268921</pub-id></mixed-citation></ref><ref id="CR20"><label>20.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Pedram</surname><given-names>M</given-names></name><name><surname>Rabaey</surname><given-names>J</given-names></name></person-group><source>Power-Aware Design Methodologies</source><year>2002</year><publisher-loc>Dordrecht, The Netherlands</publisher-loc><publisher-name>Kluwer Academic Publishers</publisher-name><pub-id pub-id-type="doi">10.1007/b101914</pub-id></mixed-citation></ref><ref id="CR21"><label>21.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Benini</surname><given-names>L</given-names></name><name><surname>De Micheli</surname><given-names>G</given-names></name></person-group><article-title xml:lang="en">System-level power optimization: techniques and tools</article-title><source>ACM Transactions on Design Automation of Electronic Systems</source><year>2000</year><volume>5</volume><issue>2</issue><fpage>115</fpage><lpage>192</lpage><pub-id pub-id-type="doi">10.1145/335043.335044</pub-id></mixed-citation></ref><ref id="CR22"><label>22.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Irani</surname><given-names>S</given-names></name><name><surname>Shukla</surname><given-names>S</given-names></name><name><surname>Gupta</surname><given-names>R</given-names></name></person-group><article-title xml:lang="en">Algorithms for power savings</article-title><source>Proceedings of the 14th Annual ACM-SIAM Symposium on Discrete Algorithms</source><year>2003</year><fpage>37</fpage><lpage>46</lpage><comment>Baltimore, Md, USA</comment></mixed-citation></ref><ref id="CR23"><label>23.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Rao</surname><given-names>R</given-names></name><name><surname>Vrudhula</surname><given-names>S</given-names></name><name><surname>Rakhmatov</surname><given-names>DN</given-names></name></person-group><article-title xml:lang="en">Battery modeling for energy-aware system design</article-title><source>Computer</source><year>2003</year><volume>36</volume><issue>12</issue><fpage>77</fpage><lpage>87</lpage><pub-id pub-id-type="doi">10.1109/MC.2003.1250886</pub-id></mixed-citation></ref><ref id="CR24"><label>24.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Kremer</surname><given-names>G</given-names></name><name><surname>Osmont</surname><given-names>J</given-names></name><name><surname>Pottier</surname><given-names>B</given-names></name></person-group><article-title xml:lang="en">A process oriented development flow for wireless sensor networks</article-title><source>Proceedings of the International Workshop on Smalltalk Technologies</source><year>2009</year><comment>Brest, France</comment></mixed-citation></ref><ref id="CR25"><label>25.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Akyildiz</surname><given-names>IF</given-names></name><name><surname>Melodia</surname><given-names>T</given-names></name><name><surname>Chowdhury</surname><given-names>KR</given-names></name></person-group><article-title xml:lang="en">A survey on wireless multimedia sensor networks</article-title><source>Computer Networks</source><year>2007</year><volume>51</volume><issue>4</issue><fpage>921</fpage><lpage>960</lpage><pub-id pub-id-type="doi">10.1016/j.comnet.2006.10.002</pub-id></mixed-citation></ref><ref id="CR26"><label>26.</label><mixed-citation publication-type="other">Wikipedia : <bold>List of wireless sensor nodes.</bold> 2010, <ext-link xlink:href="http://en.wikipedia.org/wiki/List_of_wireless_sensor_nodes" ext-link-type="uri">http://en.wikipedia.org/wiki/List_of_wireless_sensor_nodes</ext-link></mixed-citation></ref><ref id="CR27"><label>27.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Douhib</surname><given-names>S</given-names></name></person-group><source>Operating systems power and energy consumption characterization for critical embedded systems described in AADL, Thesis financement</source><year>2009</year><publisher-loc>Lorient</publisher-loc><publisher-name>ITEA, projet SPICES, Université de Bretagne Sud</publisher-name></mixed-citation></ref><ref id="CR28"><label>28.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Quarles</surname><given-names>T</given-names></name></person-group><article-title xml:lang="en">The SPICE3 implementation guide</article-title><source>Rapport techniqueUCB/ERL</source><year>1989</year><publisher-loc>Berkeley, Calif, USA</publisher-loc><publisher-name>EECS Department, University of California</publisher-name></mixed-citation></ref><ref id="CR29"><label>29.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Baynes</surname><given-names>K</given-names></name><name><surname>Collins</surname><given-names>C</given-names></name><name><surname>Fiterman</surname><given-names>E</given-names></name><name><surname>Ganesh</surname><given-names>B</given-names></name><name><surname>Kohout</surname><given-names>P</given-names></name><name><surname>Smit</surname><given-names>C</given-names></name><name><surname>Zhang</surname><given-names>T</given-names></name><name><surname>Jacob</surname><given-names>B</given-names></name></person-group><article-title xml:lang="en">The performance and energy consumption of embedded real-time operating systems</article-title><source>IEEE Transactions on Computers</source><year>2003</year><volume>52</volume><issue>11</issue><fpage>1454</fpage><lpage>1469</lpage><pub-id pub-id-type="doi">10.1109/TC.2003.1244943</pub-id></mixed-citation></ref><ref id="CR30"><label>30.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kang</surname><given-names>S</given-names></name><name><surname>Wang</surname><given-names>H</given-names></name><name><surname>Chen</surname><given-names>Y</given-names></name><name><surname>Wang</surname><given-names>X</given-names></name><name><surname>Dai</surname><given-names>Y</given-names></name></person-group><article-title xml:lang="en">Skyeye: an instruction simulator with energy awareness</article-title><source>Lecture Notes in Computer Science</source><year>2005</year><volume>3605</volume><fpage>456</fpage><lpage>461</lpage><pub-id pub-id-type="doi">10.1007/11535409_66</pub-id><comment>Proceedings of the 1st International Conference on Embedded Software and Systems (ICESS '05), Springer</comment></mixed-citation></ref><ref id="CR31"><label>31.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Fournel</surname><given-names>N</given-names></name><name><surname>Fraboulet</surname><given-names>A</given-names></name><name><surname>Feautrier</surname><given-names>P</given-names></name></person-group><article-title xml:lang="en">eSimu: a fast and accurate energy consumption simulator for real embedded system</article-title><source>Proceedings of the IEEE International Symposium on a World of Wireless, Mobile and Multimedia Networks (WOWMOM '07)</source><year>2007</year><fpage>1</fpage><lpage>6</lpage><comment>June</comment></mixed-citation></ref><ref id="CR32"><label>32.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Tan</surname><given-names>TK</given-names></name><name><surname>Raghunathan</surname><given-names>A</given-names></name><name><surname>Jha</surname><given-names>NK</given-names></name></person-group><article-title xml:lang="en">EMSIM: an energy simulation framework for an embedded operating system</article-title><source>Proceedings of IEEE International Symposium on Circuits and Systems (ISCAS '02)</source><year>2002</year><volume>2</volume><fpage>464</fpage><lpage>467</lpage><comment>Phoenix, Ariz, USA</comment></mixed-citation></ref><ref id="CR33"><label>33.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Gurumurthi</surname><given-names>S</given-names></name><name><surname>Sivasubramaniam</surname><given-names>A</given-names></name><name><surname>Irwin</surname><given-names>MJ</given-names></name><etal/></person-group><article-title xml:lang="en">Using complete machine simulation for software power estimation: the SoftWatt approach</article-title><source>Proceedings of the 8th International Symposium on High-Performance Computer Architecture (HPCA '02)</source><year>2002</year><fpage>141</fpage><lpage>150</lpage><pub-id pub-id-type="doi">10.1109/HPCA.2002.995705</pub-id><comment>Boston, Mass, USA. IEEE Computer Society</comment></mixed-citation></ref><ref id="CR34"><label>34.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Shnayder</surname><given-names>V</given-names></name><name><surname>Hempstead</surname><given-names>M</given-names></name><name><surname>Chen</surname><given-names>B</given-names></name><name><surname>Welsh</surname><given-names>M</given-names></name></person-group><article-title xml:lang="en">PowerTOSSIM: efficient power simulation for TinyOS applications</article-title><source>Proceedings of the ACM Conference on Embedded Networked Sensor Systems (SenSys '04)</source><year>2004</year></mixed-citation></ref><ref id="CR35"><label>35.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><collab>ChipVision Inc</collab></person-group><source>PowerOpt<sup>tm</sup></source><year>2009</year><comment>low-power synthesis tool, ANSIC/System C code into VerilogRTL, 2003</comment></mixed-citation></ref><ref id="CR36"><label>36.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Senn</surname><given-names>E</given-names></name><name><surname>Laurent</surname><given-names>J</given-names></name><name><surname>Julien</surname><given-names>N</given-names></name><name><surname>Martin</surname><given-names>E</given-names></name></person-group><article-title xml:lang="en">SoftExplorer: estimation, characterization, and optimization of the power and energy consumption at the algorithmic level</article-title><source>Lecture Notes in Computer Science</source><year>2004</year><volume>3254</volume><fpage>342</fpage><lpage>351</lpage><pub-id pub-id-type="doi">10.1007/978-3-540-30205-6_36</pub-id><comment>Proceedings of the International Workshop on Power and Timing Modeling Optimization and Simulation (PATMOS '04)</comment></mixed-citation></ref><ref id="CR37"><label>37.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Courtay</surname><given-names>A</given-names></name><name><surname>Sentieys</surname><given-names>O</given-names></name><name><surname>Laurent</surname><given-names>J</given-names></name><name><surname>Julien</surname><given-names>N</given-names></name></person-group><article-title xml:lang="en">High-level interconnect delay and power estimation</article-title><source>Journal of Low Power Electronics</source><year>2008</year><volume>4</volume><issue>1</issue><fpage>21</fpage><lpage>33</lpage><pub-id pub-id-type="doi">10.1166/jolpe.2008.152</pub-id></mixed-citation></ref><ref id="CR38"><label>38.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Saadia</surname><given-names>D</given-names></name><name><surname>Eric</surname><given-names>S</given-names></name><name><surname>Jean-Philippe</surname><given-names>D</given-names></name><name><surname>Johann</surname><given-names>L</given-names></name><name><surname>Dominique</surname><given-names>B</given-names></name></person-group><article-title xml:lang="en">Model driven high-level power estimation of embedded operating systems communication services</article-title><source>Proceedings of International Conference on Embedded Software and Systems (ICESS '09)</source><year>2009</year><fpage>475</fpage><lpage>481</lpage><comment>Hangzhu, China</comment></mixed-citation></ref><ref id="CR39"><label>39.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Rafiee</surname><given-names>M</given-names></name><name><surname>Ghaznavi-Ghoushchi</surname><given-names>MB</given-names></name><name><surname>Seyfe</surname><given-names>B</given-names></name></person-group><article-title xml:lang="en">Processing power estimation of simple wireless sensor network nodes by power macro-modeling</article-title><source>Proceedings of the International Conference on Computer Engineering and Technology (ICCET '09)</source><year>2009</year><fpage>428</fpage><lpage>431</lpage><comment>January</comment></mixed-citation></ref><ref id="CR40"><label>40.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Glaser</surname><given-names>J</given-names></name><name><surname>Weber</surname><given-names>D</given-names></name><name><surname>Madani</surname><given-names>SA</given-names></name><name><surname>Mahlknecht</surname><given-names>S</given-names></name></person-group><article-title xml:lang="en">Power aware simulation framework for wireless sensor networks and nodes</article-title><source>EURASIP Journal on Embedded Systems</source><year>2008</year><fpage>16</fpage></mixed-citation></ref><ref id="CR41"><label>41.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Julien</surname><given-names>N</given-names></name><name><surname>Laurent</surname><given-names>J</given-names></name><name><surname>Senn</surname><given-names>E</given-names></name><name><surname>Martin</surname><given-names>E</given-names></name></person-group><article-title xml:lang="en">Power consumption modeling and characterization of the TI C6201</article-title><source>IEEE Micro</source><year>2003</year><volume>23</volume><issue>5</issue><fpage>40</fpage><lpage>49</lpage><pub-id pub-id-type="doi">10.1109/MM.2003.1240211</pub-id></mixed-citation></ref><ref id="CR42"><label>42.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Elléouet</surname><given-names>D</given-names></name><name><surname>Savary</surname><given-names>Y</given-names></name><name><surname>Julien</surname><given-names>N</given-names></name></person-group><article-title xml:lang="en">An FPGA power aware design flow</article-title><source>Lecture Notes in Computer Science</source><year>2006</year><volume>4148</volume><fpage>415</fpage><lpage>424</lpage><pub-id pub-id-type="doi">10.1007/11847083_40</pub-id><comment>Proceedings of the 16th International Workshop on Power and Timing Modeling, Optimization and Simulation (PATMOS '06), Montpellier, France</comment></mixed-citation></ref><ref id="CR43"><label>43.</label><mixed-citation publication-type="other">Meteociel <ext-link xlink:href="http://www.meteociel.fr/" ext-link-type="uri">http://www.meteociel.fr/</ext-link></mixed-citation></ref><ref id="CR44"><label>44.</label><mixed-citation publication-type="other">Meteo-France <ext-link xlink:href="http://france.meteofrance.com/" ext-link-type="uri">http://france.meteofrance.com/</ext-link></mixed-citation></ref><ref id="CR45"><label>45.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Park</surname><given-names>C</given-names></name><name><surname>Chou</surname><given-names>PH</given-names></name></person-group><article-title xml:lang="en">Power utility maximization for multiple-supply systems by a load-matching switch</article-title><source>Proceedings of the International Symposium on Lower Power Electronics and Design (ISLPED '04)</source><year>2004</year><fpage>168</fpage><lpage>173</lpage><comment>Newport Beach, Calif, USA</comment></mixed-citation></ref><ref id="CR46"><label>46.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Irani</surname><given-names>S</given-names></name><name><surname>Shukla</surname><given-names>S</given-names></name><name><surname>Gupta</surname><given-names>R</given-names></name></person-group><article-title xml:lang="en">Online strategies for dynamic power management in systems with multiple power-saving states</article-title><source>ACM Transactions on Embedded Computing Systems</source><year>2003</year><volume>2</volume><issue>3</issue><fpage>325</fpage><lpage>346</lpage><pub-id pub-id-type="doi">10.1145/860176.860180</pub-id></mixed-citation></ref><ref id="CR47"><label>47.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Benini</surname><given-names>L</given-names></name><name><surname>Macii</surname><given-names>A</given-names></name><name><surname>Macii</surname><given-names>E</given-names></name><name><surname>Poncino</surname><given-names>M</given-names></name></person-group><article-title xml:lang="en">Discharge current steering for battery lifetime optimization</article-title><source>Proceedings of the International Symposium on Low Power Electronics and Design</source><year>2002</year><fpage>118</fpage><lpage>123</lpage><pub-id pub-id-type="doi">10.1145/566408.566441</pub-id><comment>August</comment></mixed-citation></ref><ref id="CR48"><label>48.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Erdinc</surname><given-names>O</given-names></name><name><surname>Vural</surname><given-names>B</given-names></name><name><surname>Uzunoglu</surname><given-names>M</given-names></name></person-group><article-title xml:lang="en">A dynamic lithium-ion battery model considering the effects of temperature and capacity fading</article-title><source>Proceedings of the International Conference on Clean Electrical Power (ICCEP '09)</source><year>2009</year><fpage>383</fpage><lpage>386</lpage><comment>June</comment></mixed-citation></ref><ref id="CR49"><label>49.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Renner</surname><given-names>C</given-names></name><name><surname>Jessen</surname><given-names>J</given-names></name><name><surname>Turau</surname><given-names>V</given-names></name></person-group><article-title xml:lang="en">Lifetime predictionfor Supercapacitor-powered wireless sensor nodes</article-title><source>Proceedings of the 8th GI/ITG KuVS Fachgespräch "Drahtlose Sensornetze" (FGSN '09)</source><year>2009</year><comment>Hamburg, Germany</comment></mixed-citation></ref><ref id="CR50"><label>50.</label><mixed-citation publication-type="book"><person-group person-group-type="author"><collab>National instruments</collab></person-group><source>NI LabVIEW.</source><year>2010</year><comment>http://www.ni.com/labview/</comment></mixed-citation></ref><ref id="CR51"><label>51.</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gao</surname><given-names>L</given-names></name><name><surname>Liu</surname><given-names>S</given-names></name><name><surname>Dougal</surname><given-names>RA</given-names></name></person-group><article-title xml:lang="en">Dynamic lithium-ion battery model for system simulation</article-title><source>IEEE Transactions on Components and Packaging Technologies</source><year>2002</year><volume>25</volume><issue>3</issue><fpage>495</fpage><lpage>505</lpage><pub-id pub-id-type="doi">10.1109/TCAPT.2002.803653</pub-id></mixed-citation></ref></ref-list></ref-list></back></article></records><facets><facet name="subject"><facet-value count="1">Circuits and Systems</facet-value><facet-value count="1">Control Structures and Microprogramming</facet-value><facet-value count="1">Electronic Circuits and Devices</facet-value><facet-value count="1">Engineering</facet-value><facet-value count="1">Signal,Image and Speech Processing</facet-value></facet><facet name="keyword"><facet-value count="1">Energy Storage System</facet-value><facet-value count="1">Fire Brigade</facet-value><facet-value count="1">Maximum Power Point Tracking</facet-value><facet-value count="1">Power Consumption</facet-value><facet-value count="1">Solar Panel</facet-value></facet><facet name="pub"><facet-value count="1">EURASIP Journal on Embedded Systems</facet-value></facet><facet name="year"><facet-value count="1">2011</facet-value></facet><facet name="country"><facet-value count="1">France</facet-value></facet><facet name="type"><facet-value count="1">Journal</facet-value></facet></facets></response>
