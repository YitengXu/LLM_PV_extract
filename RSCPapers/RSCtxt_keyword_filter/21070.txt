Accelerated discovery of defect tolerant organo-halide perovskites   - Journal of Materials Chemistry C (RSC Publishing) DOI:10.1039/D2TC03236H View PDF VersionPrevious ArticleNext Article  DOI: 10.1039/D2TC03236H
(Paper)
J. Mater. Chem. C, 2022, 10, 18385-18392Accelerated discovery of defect tolerant organo-halide perovskites†

        
          
            N. 
            Işleyen
          
        
      , 
      
        
          
            A. 
            Corcor
          
        
      , 
      
        
          
            S. 
            Çakirefe
          
        
      , 
      
        
          
            N. 
            Ormanli
          
        
      *, 
      
        
          
            E. N. 
            Kanat
          
        
      * and 

        
          
            I. 
            Yavuz
          
        
      *
      Department of Physics, Marmara University, 34722, Ziverbey, Istanbul, Turkey. E-mail: ilhan.yavuz@marmara.edu.tr
Received 
      1st August 2022
    , Accepted 13th November 2022First published on 21st November 2022AbstractOne of the most effective ways to increase power conversion efficiency and maintain stability in hybrid organic–inorganic perovskite (HOIP) semiconductor materials is to avoid defect formation. A rapid screening of defects and trap-states of many HOIP candidate materials is required. For this, we have implemented an “accelerated” material discovery strategy to predict the electronic structures and defects of HOIP-candidate materials by using artificial intelligence and density functional theory. We rationalize material classification and structure–property relationships. With this strategy, we were able to propose previously undiscovered HOIP materials that are defect-tolerant and active candidates for perovskite solar cells. We found that HOIPs are more sensitive to halide interstitial defects rather than halide vacancy defects. Semiconductor HOIPs typically form relatively unstable/shallow halide vacancy defects and stable/deep halide interstitial defects.
1 Introduction
Due to a rapid increase in reported power conversion efficiencies (PCEs) of solar cells with perovskite semiconductor active layer materials, they emerged as a promising, next-generation renewable photovoltaic technology.1,2 Hybrid organic–inorganic perovskite (HOIP) semiconductor materials have specifically attracted a lot of attention due to their potential properties such as strong light absorption, excellent carrier diffusion lengths, high open-circuit voltages, low electron and hole effective masses, bipolar charge transport, etc.3 Although the PCEs reported for HOIP solar cells have been over 25%4–6 to date, they are known to be below the single-junction Schokley–Queisser PCE limit of 33.7%. One of the major reasons for this is the inevitable, shallow or deep level defects that occur in the HOIPs during crystal formation.7,8 Such unavoidable defects cause non-radiative charge recombination, charge mobility restriction and ion diffusion, which adversely affect the device performance and stability.9–13 However, it is also known that the nature of such internal defects is quite challenging to probe experimentally. Therefore, characterizing the defects of HOIP materials with computational methods is of great importance.9,14–16
Organo-halide perovskites, which can be defined as hybrid structures, are cubic-like crystal structures described by the formula ABX3, where X is a halide anion (X = F, Cl, Br, and I) and A and B are cations of different sizes. Their crystallographic stability and possible structure can be deduced by considering a tolerance factor (Tf) and an octahedral factor (Of): (1)where RA, RB, and RX are the ionic radii of the A, B, and X ions, respectively. They are typically in the range of 0.8 < Tf < 1.2 and 0.4 < Of < 0.8 for stable HOIPs. If the Tf value is in the narrower range from 0.89 to 1.00, a cubic structure is likely observed; for lower t values less symmetrical tetragonal, hexagonal or orthorhombic structures are observed.
Lab-based high-performance material discovery greatly benefited from traditional techniques such as trial-and-error and/or based on experiences gained from early promising material reports (or even intuition), even though such procedures can be costly, time-consuming and, occasionally, can cause frustration. Developments in the scientific world are progressing very rapidly; thus, it is important to achieve fast, reliable and lower cost results via high-precision theoretical calculations with a hope to design and discover promising materials. In recent years, material discovery based on artificial intelligence (AI), more specifically, machine learning (ML), has attracted immense attention.17–19 ML can rapidly process a huge number of data and learn the patterns and eventually provide valuable information about the system of interest. In the field of perovskite materials, ML tools are widely used for promising materials design by the accelerated screening of various existing material properties.20 Some of which areas follows: Lu et al. and Wu et al. used a QM/ML methodology (ML coupled with DFT) to engineer the bandgap and to identify promising environmentally friendly HOIPs.21,22 Yu et al. studied the compatibility of amine treatment in MAPbI3 based on ML.23 Odabaş et al. performed ML analysis to predict the long-term stability of HOIPs.24
Here, we designed a rapid screening/classification method based on ML algorithms to save cost and time for large-scale defect-engineering problems. We aimed to screen defect-tolerant HOIPs and investigate the relationship between defect formation, charge trap states and chemical/structural conditions and we proposed design rules for achieving a better performance in HOIP-based solar cells. We solely focused on X-site halide defects of the interstitial (Xi) and vacancy (VX) nature, since they are some of the primary sources of imperfections in HOIPs.10,16 Since our target is to search for materials for solar cell applications, we classified HOIP materials with (1) unstable defects or (2) stable but shallow-level defects as “good” semiconducting HOIP materials.
Our workflow for accelerated defect-tolerant HOIP discovery based on QM/ML is as follows: we generated an initial library of potential HOIP structures with ABX3 from the combination of various organic cations for the A-site, cations for the B-site and anions for the X-site (Fig. 1A and Table S1, ESI†). Tf and Of values within a range are considered to screen stable HOIP structures (Fig. 1B). Then, for the ML train/test procedure, we randomly selected 240 HOIPs within those HOIP candidates and performed DFT calculations; we calculated relaxed geometries (with and without defects), bandgaps (Eg), defect-formation energies (DFE) and transition-levels (TL) (Fig. 1C). A total of 1464 DFT calculations (240 ABX3 neutral defect-free, 480 neutral/charged Xi and 480 neutral/charged VX, and 264 DFT optimizations for chemical potential predictions, see the ESI†) were performed. Once the test/train data sets of Eg, DFE and TL were obtained, we trained our ML using various algorithms (Fig. 1D). The properties of the rest of the HOIP candidates are predicted from the trained ML algorithm. We finally performed property classification to propose new defect-tolerant HOIP semiconductors.
 Fig. 1  Workflow of our accelerated discovery of defect tolerant perovskite semiconductors based on a QM/ML approach. (A) Input data set for possible B and X sites we considered from the periodic table and A site molecular cations (32 in total, but 12 are shown for clarity). (B) All possible combinations making up the ABX3 type structures and then the screening procedure based on their appropriate Tf and Of values. (C) Construction of the randomly selected ABX3 perovskite-candidate and electronic structure calculations with and without halide-related defects (i.e., VX and Xi). (D) The machine learning diagram showing the ML predictions of bandgap, defect formation energy and transition levels and then material classification based on the feature selection and test/train data. 
2 Methods
HOIP library
HOIPs can accommodate a wide variety of elements in the A, B, and X positions. As shown in Fig. 1A, we produced HOIPs from 32 organic cations A+ for the A-site, 43 metallic cations B2+ for the B-site, and 4 halide anions X− for the X-site.21,25–27 This indicates that there were 5504 possible HOIPs in total. Among these possible HOIP structures, those with a tolerance factor in the range 0.8 < Tf < 1.2 and an octahedral factor in the range 0.4 < Of < 0.8 were determined as possible HOIP structures, and the rest as non-HOIP structures (Fig. 2A). For this, we used the ionic radius values reported in ref. 28–30 for B- and X-sites and for the A site we used a spherical modeling. 2700 possible HOIP structures with suitable octahedral and tolerance factors were determined. We then selected 240 structures randomly among these 2700 structures to calculate the “actual” data (Eg, DFE and TL) based on DFT for the next ML train/test procedure.
 Fig. 2  (A) Histograms of the tolerance and octahedral factors we calculated for 5504 HOIP candidate ABX3 systems. Systems in the shaded region were taken as the HOIP-candicate material. (B) Crystal structures of perovskites with the ABX3 structure. Generally, A: an organic or inorganic cation, B: metal, and X: halide. (C) Two, representative, supercell crystal structures we considered with and without VX and Xi defects (X = F, Cl, Br, and I). 
Property calculations
Since the systems we are considering are periodic and the atoms forming the stacks are inorganic, the most appropriate method is to use the plane-wave density functional theory (DFT), in which the solid-state properties are calculated structurally and electronically. Although there are high throughput first principle studies27,31 that deposit the crystal structures and bandgaps as the input data, we decided to generate all inputs, including bandgaps, with our own means in this study. The input supercell geometries of the 240 HOIP structures were generated using the python programming language (see Table S6 for full HOIP list, ESI†). We introduced Xi and VX point defects, appropriately, on these supercells, as presented with two examples in Fig. 2C, for defect calculations. The VX defect is generated by removing a single X from a BX6 octahedron in the supercell, whereas the Xi defect is generated by adding an extra X onto the BX2 face. We performed DFT calculations using the Vienna ab initio simulation package (VASP).32,33 We used the generalized gradient approximation (GGA) of the Perdew–Burke–Ernzerhof (PBE) type functional for electron–electron interactions and we employed the projector augmented wave method (PAW) for electron–ion interactions.34 We considered a cut-off energy of 300 eV for the plane-wave basis set. A supercell with a 2 × 2 × 2 periodicity was used in all cases. A structural relaxation for both ionic positions and cell dimensions is performed to obtain most stable geometry until the residual forces become smaller than 0.05 eV Å−1. We calculated the defect formation energy (DFE) from ΔHd,q = Ed,q − E0 + μΔn + q(εvbm + εF) + Ecorr,(2)where E0 is the electronic energy of the pristine material, Ed,q is the electronic energy of the defective material in the charge state, q. μ is the chemical potential of the ion, Δn is the number of ions added or removed from the supercell to form a defect. εvbm and εF are the energy in the valence band maximum and Fermi energy, respectively. Ecorr is the energy correction due to finite-size electrostatic interactions. The computational details of chemical potential and energy correction calculations are provided in the note S1 and note S2, respectively, and Fig. S1 and S2 (ESI†). The defect charge transition energy level ε(q/q′) is then found from (3)We used ε(q/q′) to determine whether a defect has shallow- or deep-level defect charge traps. Since we are interested in the Xi and VX defects, in which the former is an acceptor and the latter is a donor defect, we calculated the ε(0/−) and ε(0/+) TLs, respectively. Defects with shallow traps are expected to be ε(0/+) ≥ Eg for donors and ε(0/−) ≤ 0 for acceptors. Otherwise, they will be classified as deep-level traps.
Machine learning methods
In this study, we employed Gradient Boosting Regression (GBR),35 Kernel Ridge Regression (KRR)36 and Decision Tree Regression (DTR)37 algorithms for ML training. For the implementation of the ML, we employed the open-source scikit-learn python module.38,39 Based on the generic learning performances of these ML algorithms, we select the best performing algorithm for ML property predictions and for the characterization of structure–property relationships. Each algorithm has a huge number of different flexible hyperparameters that can be controlled to maximize the learning performances of each algorithm. For GBR, to evaluate the estimator performance, the cross-validation is set to be 3, the Huber loss function is used and the number of estimators is chosen between 80 and 120. For KRR, regularization strength (α) is chosen within the range of 0.1–0.25, the γ parameter for Kernels within the range of 5–8 is selected, the degree of the polynomial kernel is selected within 2–5. For DTR, the function to measure the quality of a split, the number of features to consider when looking for the best split and the strategy used to choose the split at each node are all listed in Table S1 (ESI†) for each ML training. For other chosen function types and the values of the parameters we chose for each property prediction together with the performances are listed in Tables S2–S4 (ESI†). Otherwise stated, the default values of the hyperparameters in ref. 39 are used throughout. We performed additional cross validations for each training run to assess the reliability of the ML methods and we observed that the learning performance of the methods is typically within 2–5%.
3 Results and discussion
Computational data set
After generating 5504 possible HOIP candidate materials with the ABX3 crystal structure over the A, B and X site points shown in Fig. 1, we calculated the tolerance factor (Tf) and the octahedral factor (Of) for each system with the help of eqn (1). The histograms of the results obtained are shown in Fig. 2A. With a quick screening, we determined the HOIP candidate materials such that the total number of materials remaining in this range is 2700. After 2700 HOIP structures were determined, in the next step, we predicted bandgaps, crystal formation energies (CFE), DFEs and charge TLs using DFT methods for the train/test reference dataset in ML algorithms by choosing 240 structures randomly among these structures. For DFE calculations, we generate the initial structure data set with no defect, halide interstitial and halide vacancy defects (240 × 3 = 720 structures in total). Example structures are shown in Fig. 2C. DFT calculated CFE, bandgap and X-site halide DFE results of the 240 train/test set are shown in Fig. 3. Here, we only present our DFE results under B-rich growth conditions. The other cases (i.e., X-rich and moderate growth conditions) are shown in the ESI.†Fig. 3A shows that vast majority of the HOIP test/train structures are energetically stable in their orthorhombic ABX3 configurations. As presented in Fig. 3B, among the 240 HOIP structures, majority of them (i.e., 75%) are metals and semi-metals. About 13% of them are found to be semiconductors (based on 0.5 < Eg < 3.5 eV) and the remaining (12%) are insulators. After obtaining the electronic energies and chemical potentials of pristine and VX- or Xi-defected structures using DFT methods, in this step, for each of 240 structures we calculated the “actual” defect formation energies of neutral defects. Our results are shown in Fig. 3C and D and Fig. S3 (ESI†). We found that under the B-rich conditions, the X-vacancy defect VX has a neutral DFE value of +0.53 eV on average (see Fig. 3C). A few of the HOIPs have negative DFE values. A negative DFE indicates that the HOIP material prefers to be imperfect rather than perfect in the neutral charge state. When we shift from the B-rich to the X-rich condition, the DFE values generally shift to more positive regions and average DFE becomes +2.0 eV. This makes sense, since the X-rich state indicates that X atoms are abundant; so the VX, or lacking site, in simple terms, should be less likely to occur. With the reduction of X atoms, that is, going from rich to poor, the DFEs of the VX defect should be more negative (i.e., their probability of occurrence increases). This is what we observed. Under the moderate growth conditions, the DFE values on average are +1.27 eV. As shown in Fig. 3D, the X-interstitial defect, Xi, spans in a more broader range compared to the X-vacancy defect case. This suggests that HOIPs are more sensitive to Xi than VX. An average DFE value of −0.37 eV is found for the Xi defect under the B-rich growth conditions. This average value decreases to −1.86 eV under the X-rich conditions. We thus observed that the neutral Xi defect in HOIPs is in general more stable than the neutral VX defect. The DFT calculated TLs ε(0/−) of Xi and ε(0/+) of VXvs. the bandgaps of 240 HOIPs are shown in Fig. S3 (ESI†). We observed that a large portion of HOIPs have shallow-level VX and deep-level Xi defects. The average TLs of 240 HOIPs are found to be 〈ε(0/−)〉 = 0 and 〈ε(0/+)〉 = 0.95 eV for Xi and VX, respectively.
 Fig. 3  Distributions of DFT calculations: (A) formation energies (B) bandgaps, and neutral DFEs of (C) VX and (D) Xi defects under B-rich growth conditions. Unit-cell structures, defect position of some selected HOIP materials are shown in the figure. 
Feature engineering
The bandgap and formation energies that we aim to calculate using ML algorithms depend on the structural properties of the materials. These properties not only constitute the input set of each material, but are also directly related to the physical and chemical properties of the material to be obtained from. Feature identification is then based on an effort to adequately describe each material in the input data set. During feature selection, the number of features should be relevant and reasonable. The most rational strategy would be to supply features such that it is maximally representative of material properties but sufficiently less than the total number in the input data set to avoid over-prediction. In this study, we collected a relatively large feature set (70), but we tried to maintain the feature sub-set as minimal as possible for the training of ML of any input data set (i.e., bandgap, formation energy, transition-level, etc.). These features include atomic properties such as ionic radius, ionization energy, work functions, chemical potential, atomic mass, ionic charge, etc. and atomic/molecular properties, such as polarizability, molar mass, electronic energy, zero-point energy, etc., all of which are either obtained from various online databases or from in-house DFT calculations (see Table S5, ESI† for the complete feature list). The heat-map of the Pearson correlation coefficient matrix of 70 properties for HOIP materials is shown in Fig. S4 (ESI†). It is seen that the features form feature pairs that are largely un-correlated with each other. This is advantageous for the ML procedure in terms of using as little unnecessary features as possible. In order for the ML method to make high-quality predictions, we first calculated the score (i.e. R2) and MSE values for the bandgaps, CFE, DFE (under different growth conditions) and TL using the GBR method according to the test set sizes and the number of features selected from among these 70 features. We based the selection of test set ratio and the number of features on the maximum score and minimum MSE criteria as success criteria. In addition, we determined that, for ML, the 8% test set ratio for both CFE and neutral DFE and 14% for TL and feature size of around 20–30 were found to be the optimal values in terms of training/test reliability of ML (see Fig. S5, ESI†). For the bandgaps, we chose the test set ratio to be even higher (i.e., 20%). This is because there are not much non-metallic structures at hand, such that there is a possibility that ML algorithms may experience unreliable learning. Finally, for completeness, we also performed ML train/test calculations for different algorithms, such as KRR and DTR.
Learning performance of ML models
We examined the learning performances of GBR, KRR and DTR algorithms by subjecting them to the training/testing processes based on the DFT-calculated, actual, results. We trained the bandgaps, CFE, neutral DFE and TL. Based on the results obtained, we will use the most successful method to predict the properties of the entire 2700 HOIP materials. We first estimated the bandgaps with the GBR, KRR and DTR algorithms using the feature selection procedure we mentioned earlier. For this, we compared the actual bandgap obtained by DFT with the bandgap estimated by the ML model. Our GBR performance results for the bandgap are shown in Fig. S6 (ESI†). We achieved high quality bandgap training results, consistent with the results obtained by Lu et al.21 The training of GBR yields a test score of R2 = 0.99 and MSE = 0.014 eV, whereas KRR and DTR's test scores are R2 = 0.963 and MSE = 0.053 eV and R2 = 0.959 and MSE = 0.093 eV, respectively (see Fig. S6, ESI†). Similarly, the learning performance of GBR in CFE is high; R2 = 0.98 and MSE = 0.15 eV. Using DTR and KRR, we also found reasonably good ML performances (see Tables S2–S4, ESI†). Considering the high R2 and low MSE values among the algorithms we use, it can be seen that GBR is the best performing model for the bandgap prediction. We then trained/tested the neutral DFEs of VX and Xi using the GBR, KRR and DTR methods under three different growth conditions (B-rich, X-rich and moderate). The DFE and TL learning performances we obtained using GBR are shown in Fig. 4A and B (see also Tables S2–S4 for the GBR, KRR and DTR results, ESI†). The GBR's test scores are found to be R2 = 0.84–0.89 and MSE = 0.25–0.32 for the VX and near R2 = 0.90–0.93 and MSE = 0.61–0.89 eV for Xi. Similar to the bandgap performance, the neutral DFE prediction performance of GBR also seems remarkable. The relatively larger MSE in the neutral DFE of Xi compared to those of VX is attributed to the extensive energy range (i.e., ∼12 eV) of the former. Finally, we performed training/testing of TLs of VX (Fig. 4A) and Xi (Fig. 4B) defects and found R2 = 0.97, MSE = 0.07 eV and R2 = 0.88, MSE = 0.02 eV using GBR, respectively. The performance of KRR and DTR for TLs is also appreciably good (see Tables S2–S4, ESI†). In light of these train/test findings in ML, in the next step, we made ML predictions on the remaining HOIP systems (whose features are known but whose real bandgaps, DFEs and TLs are unknown) using the GBR method.
 Fig. 4  Learning performance of the ML model (GBR). DFT vs. ML test results for the defect formation energy (DFE) and transition level (TL) of (A) VX and (B) Xi defects. For DFEs, three different growth conditions (B-rich, X-rich and moderate) are considered. For a few selected HOIPs, comparison of the ML test results (dashed lines) with DFT calculations (solid lines) for the Fermi energy dependence of (C) VX and (D) Xi defect formation energies. 
Predictions with ML and material classification
Since the main goal of this study is to predict the defect properties of semiconductor (approximately 0.5 < Eg < 3.5 eV) HOIP materials, we examined these materials in particular detail. We performed ML predictions on the Eg, CFE, neutral DFE and TL of VX and Xi of our complete HOIP candidate set. We employed the GBR algorithm for predictions, since we observed it to be the best performing ML method. The ML prediction results are shown in Fig. 5 and Fig. S7, S8 (ESI†). As shown in Fig. S7 (ESI†), we found that only 1.5% of the predicted materials are unstable and all of these unstable crystals are metal and metal-like perovskites. With very few exceptions, all CFEs in the semiconductor region are considerably negative; therefore, they are found to be very stable. In Fig. 5, only B-rich condition is considered for DFE predictions. X-rich and moderate condition results are shown in Fig. S8 (ESI†). In Fig. 5, we distinguished the results based on the X-site ion and used one colour for each ion. Based on their DFEs and TLs, we have classified materials as defect-tolerant if DFE > 1.5 eV and TL to be roughly outside the deep-trap region (i.e., harmless defect) and defect-intolerant for DFE < 1.5 eV and TL to be within the deep-trap region. We determined that a total of 444 of the materials in the HOIP set are semiconductors. As shown in Fig. 5A, we found that for the VX defect, most of the very stable defects are metal HOIPs. Also, metal HOIPs lie on a very broad DFE range, in contrast to the narrow range of semiconductor and insulator HOIPs. We see that VX of semiconductor HOIPs are usually stable (89% of 444 HOIPs) under the B-rich conditions. I, Br and Cl containing VCl, VBr and VI HOIP defects are almost equally (i.e., roughly 30%) scattered within this stable DFE region. As shown in Fig. 5B, most of the VX defects have TL above the bandgap (about 72%) suggesting that semiconductor HOIPs usually have shallow-level VX traps. Most of the deep-level VX traps, however, are VI. As shown in Fig. 5C, Xi of metal HOIPs are almost always the most stable ones. Similar to VX, Xi of metal HOIPs lies in a very broad energy range. 58% of the semiconductor HOIPs are found to have stable Xi defects. Within these semiconductor HOIPs, Cli defects are generally stable, whereas Ii defects are generally unstable. In Fig. 5D, we see that most of the semiconductor HOIPs have shallow-level Xi defects (about 67%). Ii and Bri defects typically form relatively deep-level traps, whereas Cli defects are nearly shallow-level traps. Of all the 444 semiconductor HOIP materials we considered, we observed that 43% (190 HOIPs) of them form both VX and Xi shallow-level traps, regardless of the growth condition and they are listed in the ESI.†Fig. 6 shows the TL diagrams of 8 selected semiconductor HOIPs that are found to have both VX and Xi shallow-level traps, in which ε(0/+) of VX within the conduction band (i.e. above the bandgap) and ε(0/−) of Xi roughly within the valence band (i.e. below zero). These materials are specifically chosen, since for solar cell applications a bandgap value within the range 0.9 < Eg < 1.7 eV are considered to be ideal. However, we found that there is in total 71 ideal semiconductor HOIP candidates which can be considered for solar-cell applications (see Table S7, ESI†). Interestingly, 53 of these 71 materials are Pb-free and a very large number of these materials are Sn-based semiconductor HOIPs.
 Fig. 5  ML calculated (A) VX defect formation energies and (B) transition levels vs. bandgap of 2700 HOIP materials. ML calculated (C) Xi defect formation energies and (D) transition levels vs. bandgap of 2700 HOIP materials. Shaded areas in (B and D) represent the deep level trap regions, i.e., 0 < ε(q/q′) < Eg. (E) ML calculated the representative formation energies of 3 selected HOIPs with shallow level defects (left figure) and 3 selected HOIPs with deep level defects (right figure). Short vertical dashed lines show the position of the cbm for each material. 
 Fig. 6  Transition-levels of VX and Xi defects of 8 selected defect tolerant semiconductor HOIPs following the ML prediction. For VX and Xi, only ε(0/+) and ε(0/−) are considered, respectively. White areas represent the pristine bandgap region for each material. The numbers below and above the level are the ML predicted neutral DFE values for the corresponding VX and Xi defects under the B-rich growth conditions. The numbers on the top show the ML predicted CFE per number of atoms of each material. 
4 Summary
In this study, using the combination of density functional theory and machine learning, we focused on predicting formation energies and charge trap states of bulk X-site (i.e. halide) vacancies and interstitial defects in HOIP materials. By doing so, we were able to screen thousands of HOIP materials likely to be good candidates for different device applications and were able to save a huge amount of resources. We were specifically interested in screening semiconductor HOIP materials for solar-cell applications. Through ML, we screened 190 defect-tolerant materials out of 5504 HOIP candidates for semiconductor applications. The procedure is self-formative, indicating that new materials can be suggested and alternative quantities can be trained for future studies. We anticipate that the procedure we employed provides a rational basis for accelerated defect-free HOIP material discovery and influences future discussions.
Data availability
Data generated and analysed during this study are available upon reasonable request from the corresponding author.
Author contributions
IY conceived the project. NI and AC contributed equally to the work. NI, AC and IY performed material screening and DFT and ML calculations. SÇ, NO and ENK contributed to the ML training and testing. NI, AC and IY co-wrote the paper and all the authors contributed to the discussions.
Conflicts of interest
There are no conflicts to declare.
Acknowledgements
This project was supported by the Scientific and Technological Research Council of Turkey (TÜBİTAK) with project number 120F321. Computing resources used in this work were provided by the National Center for High Performance Computing of Turkey (UHeM) under grant number: 5010402021. S. Ç. acknowledges support from the 2247-C Intern Researcher Scholarship Program (STAR) of TÜBİTAK.
References
A. K. Jena, A. Kulkarni and T. Miyasaka, Chem. Rev., 2019, 119, 3036–3103 CrossRef CAS PubMed .
J. Y. Kim, J.-W. Lee, H. S. Jung, H. Shin and N.-G. Park, Chem. Rev., 2020, 120, 7867–7918 CrossRef CAS PubMed .
J. S. Manser, J. A. Christians and P. V. Kamat, Chem. Rev., 2016, 116, 12956–13008 CrossRef CAS PubMed .
Best Research-Cell Efficiencies Chart, https://www.nrel.gov/pv/assets/pdfs/best-research-cell-efficiencies.20200925.pdf., accessed: 2021-04-09.
J. Jeong, M. Kim, J. Seo, H. Lu, P. Ahlawat, A. Mishra, Y. Yang, M. A. Hope, F. T. Eickemeyer and M. Kim, 
            et al.
          , Nature, 2021, 592, 381–385 CrossRef CAS PubMed .
Z. Zheng, S. Wang, Y. Hu, Y. Rong, A. Mei and H. Han, Chem. Sci., 2022, 13, 2167–2183 RSC .
J. M. Ball and A. Petrozza, Nat. Energy, 2016, 1, 1–13 Search PubMed .
R. Wang, J. Xue, Y. Zhao, R. Zheng and Y. Yang, Acc. Mater. Res., 2021, 2, 447–457 CrossRef CAS .
R. Wang, J. Xue, K.-L. Wang, Z.-K. Wang, Y. Luo, D. Fenning, G. Xu, S. Nuryyeva, T. Huang and Y. Zhao, 
            et al.
          , Science, 2019, 366, 1509–1513 CrossRef CAS PubMed .
B. Chen, P. N. Rudd, S. Yang, Y. Yuan and J. Huang, Chem. Soc. Rev., 2019, 48, 3842–3867 RSC .
S. Akin, N. Arora, S. M. Zakeeruddin, M. Graetzel, R. H. Friend and M. I. Dar, Adv. Energy Mater., 2020, 10, 1903090 CrossRef CAS .
S. Tan, I. Yavuz, N. De Marco, T. Huang, S.-J. Lee, C. S. Choi, M. Wang, S. Nuryyeva, R. Wang and Y. Zhao, 
            et al.
          , Adv. Mater., 2020, 32, 1906995 CrossRef CAS PubMed .
S. Tan, T. Huang, I. Yavuz, R. Wang, T. W. Yoon, M. Xu, Q. Xing, K. Park, D.-K. Lee and C.-H. Chen, 
            et al.
          , Nature, 2022, 1–6 Search PubMed .
X. Zheng, B. Chen, J. Dai, Y. Fang, Y. Bai, Y. Lin, H. Wei, X. C. Zeng and J. Huang, Nat. Energy, 2017, 2, 1–9 Search PubMed .
H. Tan, A. Jain, O. Voznyy, X. Lan, F. P. Garcia de Arquer, J. Z. Fan, R. Quintero-Bermudez, M. Yuan, B. Zhang and Y. Zhao, 
            et al.
          , Science, 2017, 355, 722–726 CrossRef CAS PubMed .
S. Tan, I. Yavuz, M. H. Weber, T. Huang, C.-H. Chen, R. Wang, H.-C. Wang, J. H. Ko, S. Nuryyeva and J. Xue, 
            et al.
          , Joule, 2020, 4, 2426–2442 CrossRef CAS .
K. T. Butler, D. W. Davies, H. Cartwright, O. Isayev and A. Walsh, Nature, 2018, 559, 547–555 CrossRef CAS PubMed .
J. Wei, X. Chu, X.-Y. Sun, K. Xu, H.-X. Deng, J. Chen, Z. Wei and M. Lei, InfoMat, 2019, 1, 338–358 CrossRef CAS .
S. M. Moosavi, K. M. Jablonka and B. Smit, J. Am. Chem. Soc., 2020, 142, 20273–20287 CrossRef CAS PubMed .
L. Zhang, M. He and S. Shao, Nano Energy, 2020, 78, 105380 CrossRef CAS .
S. Lu, Q. Zhou, Y. Ouyang, Y. Guo, Q. Li and J. Wang, Nat. Commun., 2018, 9, 1–8 CrossRef .
T. Wu and J. Wang, Nano Energy, 2019, 66, 104070 CrossRef CAS .
Y. Yu, X. Tan, S. Ning and Y. Wu, ACS Energy Lett., 2019, 4, 397–404 CrossRef CAS .
Ç. Odabaş and R. Yıldırım, Sol. Energy Mater. Sol. Cells, 2020, 205, 110284 CrossRef .
G. Kieslich, S. Sun and A. K. Cheetham, Chem. Sci., 2014, 5, 4712–4715 RSC .
B. Saparov and D. B. Mitzi, Chem. Rev., 2016, 116, 4558–4596 CrossRef CAS PubMed .
C. Kim, T. D. Huan, S. Krishnan and R. Ramprasad, Sci. Data, 2017, 4, 1–11 Search PubMed .
R. D. Shannon, Acta Crystallogr., Sect. A: Cryst. Phys., Diffr., Theor. Gen. Crystallogr., 1976, 32, 751–767 CrossRef .
Y. Jia, J. Solid State Chem., 1991, 95, 184–187 CrossRef CAS .
G. Kieslich, S. Sun and A. K. Cheetham, Chem. Sci., 2015, 6, 3430–3433 RSC .
T. Nakajima and K. Sawada, J. Phys. Chem. Lett., 2017, 8, 4826–4831 CrossRef CAS PubMed .
G. Kresse and J. Hafner, Phys. Rev. B, 1993, 47, 558–561 CrossRef CAS PubMed .
G. Kresse, Phys. Rev. B: Condens. Matter Mater. Phys., 1996, 54, 11–169 CrossRef PubMed .
G. Kresse and D. Joubert, Phys. Rev. B: Condens. Matter Mater. Phys., 1999, 59, 1758 CrossRef CAS .
J. H. Friedman, Ann. Stat., 2001, 1189–1232 Search PubMed .

          K. P. Murphy, Machine learning: a probabilistic perspective, MIT press,  2012 Search PubMed .

          O. Z. Maimon and L. Rokach, Data mining with decision trees: theory and applications, World scientific,  2014, vol. 81 Search PubMed .
F. Pedregosa, G. Varoquaux, A. Gramfort, V. Michel, B. Thirion, O. Grisel, M. Blondel, P. Prettenhofer, R. Weiss, V. Dubourg, J. Vanderplas, A. Passos, D. Cournapeau, M. Brucher, M. Perrot and E. Duchesnay, J. Mach. Learn. Res., 2011, 12, 2825–2830 Search PubMed .

          https://scikit-learn.org/stable/supervised_learning.html
        .

Footnote† Electronic supplementary information (ESI) available. See DOI: https://doi.org/10.1039/d2tc03236hThis journal is © The Royal Society of Chemistry 2022
Table Content:
	(1)

 	Fig. 1  Workflow of our accelerated discovery of defect tolerant perovskite semiconductors based on a QM/ML approach. (A) Input data set for possible B and X sites we considered from the periodic table and A site molecular cations (32 in total, but 12 are shown for clarity). (B) All possible combinations making up the ABX3 type structures and then the screening procedure based on their appropriate Tf and Of values. (C) Construction of the randomly selected ABX3 perovskite-candidate and electronic structure calculations with and without halide-related defects (i.e., VX and Xi). (D) The machine learning diagram showing the ML predictions of bandgap, defect formation energy and transition levels and then material classification based on the feature selection and test/train data.	 

 	Fig. 2  (A) Histograms of the tolerance and octahedral factors we calculated for 5504 HOIP candidate ABX3 systems. Systems in the shaded region were taken as the HOIP-candicate material. (B) Crystal structures of perovskites with the ABX3 structure. Generally, A: an organic or inorganic cation, B: metal, and X: halide. (C) Two, representative, supercell crystal structures we considered with and without VX and Xi defects (X = F, Cl, Br, and I).	 
ΔHd,q = Ed,q − E0 + μΔn + q(εvbm + εF) + Ecorr,	(2)
	(3)

 	Fig. 3  Distributions of DFT calculations: (A) formation energies (B) bandgaps, and neutral DFEs of (C) VX and (D) Xi defects under B-rich growth conditions. Unit-cell structures, defect position of some selected HOIP materials are shown in the figure.	 

 	Fig. 4  Learning performance of the ML model (GBR). DFT vs. ML test results for the defect formation energy (DFE) and transition level (TL) of (A) VX and (B) Xi defects. For DFEs, three different growth conditions (B-rich, X-rich and moderate) are considered. For a few selected HOIPs, comparison of the ML test results (dashed lines) with DFT calculations (solid lines) for the Fermi energy dependence of (C) VX and (D) Xi defect formation energies.	 

 	Fig. 5  ML calculated (A) VX defect formation energies and (B) transition levels vs. bandgap of 2700 HOIP materials. ML calculated (C) Xi defect formation energies and (D) transition levels vs. bandgap of 2700 HOIP materials. Shaded areas in (B and D) represent the deep level trap regions, i.e., 0 < ε(q/q′) < Eg. (E) ML calculated the representative formation energies of 3 selected HOIPs with shallow level defects (left figure) and 3 selected HOIPs with deep level defects (right figure). Short vertical dashed lines show the position of the cbm for each material.	 

 	Fig. 6  Transition-levels of VX and Xi defects of 8 selected defect tolerant semiconductor HOIPs following the ML prediction. For VX and Xi, only ε(0/+) and ε(0/−) are considered, respectively. White areas represent the pristine bandgap region for each material. The numbers below and above the level are the ML predicted neutral DFE values for the corresponding VX and Xi defects under the B-rich growth conditions. The numbers on the top show the ML predicted CFE per number of atoms of each material.	 
Footnote
† Electronic supplementary information (ESI) available. See DOI: https://doi.org/10.1039/d2tc03236h

This journal is © The Royal Society of Chemistry 2022
