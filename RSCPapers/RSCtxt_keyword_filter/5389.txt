Critical roles of potassium in charge-carrier balance and diffusion induced defect passivation for efficient inverted perovskite solar cells   - Journal of Materials Chemistry A (RSC Publishing) DOI:10.1039/C8TA11782A View PDF VersionPrevious ArticleNext Article  DOI: 10.1039/C8TA11782A
(Paper)
J. Mater. Chem. A, 2019, 7, 5666-5676Critical roles of potassium in charge-carrier balance and diffusion induced defect passivation for efficient inverted perovskite solar cells†

        
          
            Xuewen 
            Yin
          
        
      a, 
      
        
          
            Jianhua 
            Han
          
        
      a, 
      
        
          
            Yu 
            Zhou
          
        
      a, 
      
        
          
            Youchen 
            Gu
          
        
      a, 
      
        
          
            Meiqian 
            Tai
          
        
      a, 
      
        
          
            Hui 
            Nan
          
        
      a, 
      
        
          
            Yangying 
            Zhou
          
        
      a, 
      
        
          
            Jianbao 
            Li
          
        
      ab and 

        
          
            Hong 
            Lin
          
        
      *a
aState Key Laboratory of New Ceramics & Fine Processing, School of Materials Science and Engineering, Tsinghua University, Beijing 100084, P. R. China. E-mail: hong-lin@mail.tsinghua.edu.cn
bKey Laboratory of Ministry of Education for Advanced Materials in Tropical Island Resources, Materials and Chemical Engineering Institute, Hainan University, Haikou 570228, P. R. China
Received 
      7th December 2018
    , Accepted 3rd February 2019First published on 5th February 2019AbstractNiO is a well-known hole transporting material (HTM) for hysteresis-free inverted perovskite solar cells (PSCs) due to its wide optical bandgap resulting in low absorption losses, and its high conduction band edge resulting in an efficient electron blocking effect. Nevertheless, the photovoltaic performance of PSCs based on solution-processed NiO is still not pleasing owing to their relatively low short-circuit current density (Jsc) or fill factor (FF), which originates from the relatively low conductivity of NiO and the enormous difference in the mobility of the electron transporting layer (ETL) fullerene and hole transporting layer (HTL) NiO. In this work, K is firstly introduced into NiO to improve its conductivity, carrier extraction capacity and mobility, and thus largely improve its Jsc and FF. Consequently, a best PCE of 18.05% based on K-doped NiO is obtained, resulting in an increment of approximately 15% compared with 15.77% of the device based on pure NiO. The improved conductivity and mobility of NiO by extrinsic dopant K are believed to achieve charge-carrier transport balance from the perovskite to the ETL and HTL, which can effectively avoid charge accumulation within the perovskite or at the interface of the perovskite and HTL. Moreover, the partial diffusion of K induced a moderate excess of PbI2, thus forming type II band alignment between PbI2 and the perovskite, which can passivate the surface or grain boundaries of the perovskite. This work demonstrates that K-doped NiO is a promising HTM for highly efficient inverted PSCs. Meanwhile, this article illustrates a novel defect-passivation mechanism by diffusion.
1. Introduction
Perovskite solar cells (PSCs) have already been proved to be a potential candidate for silicon solar cells and organic photovoltaics owing to their high performance, low cost and simple fabrication process.1–7 However, the performance of PSCs can be greatly limited due to charge recombination caused by unbalanced charge-carrier transport in devices.8,9 In the normal planar structure of FTO/TiO2/MAPbI3/PTAA:tBP + Li-TFSI/Au, Sang et al. revealed that charge carriers generated in MAPbI3 are transported at a rate of 10−2−100 cm2 V−1 s−1. Meanwhile, holes are transported to the Au electrode and electrons are transported to the FTO electrode at a rate of 10−3−10−1 cm2 V−1 s−1 and 10−4 cm2 V−1 s−1, respectively.8,10,11 Significant differences in carrier transport rate lead to charge accumulation at the interface of TiO2/MAPbI3 or inside the TiO2/MAPbI3 layer. To balance electron flux Je (flux represents the number of charge carriers per unit area and per unit time under conditions of similar interface area) and hole flux Jh, mesoscopic TiO2 has been introduced to achieve charge-carrier transport balance by providing an extended effective surface area to ensure effective charge transportation, and thus improve photovoltaic performance and reduce hysteresis.2 From the above analysis, two conditions are required to achieve charge-carrier transport balance and thus obtain high performance. The first aspect is to balance the charge-carrier diffusion length within the perovskite, which can avoid internal charge accumulation. The second aspect is to balance the charge-carrier transfer capacity. To solve the problem of unbalanced charge-carrier transport in devices, some effective methods have been employed to improve charge-carrier transport balance by choosing a high quality perovskite with a long diffusion length and lifetime or increasing charge-carrier collection by interface engineering.12–15 Nevertheless, it is more difficult to balance Je and Jh in inverted PSCs by interface engineering due to the limited interface area. So far, optimizing charge-carrier selective contacts by means of doping has been proved to be an effective method to improve charge-carrier transport balance in inverted PSCs.16–18
Moreover, in view of stability and cost, inorganic NiO has been chosen as a hole transporting material (HTM). NiO is a well-known p-type semiconductor with a rhombohedral crystal structure. It possesses a wide optical bandgap of around 3.4–4.0 eV resulting in low absorption losses, and a high conduction band edge resulting in an efficient electron blocking effect.19–23 In addition, NiO has already been used as an efficiency-enhancing anode interfacial layer in organic solar cells.24,25 Manders et al. used NiO as a HTM in organic solar cells and obtained an average PCE of 7.8%, which is a 15% improvement over devices utilizing a PEDOT:PSS HTM.26 Nowadays, PSCs based on the NiO HTM have already been widely considered.27 However, the photovoltaic performance of PSCs based on solution-processed NiO is still not pleasing as a result of their relatively low short-circuit current density (Jsc) or fill factor (FF), which originates from the enormous difference in the mobility of the electron transporting layer (ETL) and hole transporting layer (HTL) NiO. The electron mobility of the PCBM:C60 mixed fullerene ETL is 4.71 × 10−3 cm2 V−1 s−1 according to our previous paper, while the hole mobility of pure NiO processed in air is about ∼10−4 cm2 V−1 s−1.28–30 Holes will be accumulated at the interface of perovskite/NiO or within the NiO layer owing to the relatively low mobility of NiO. From the equation σ = neμ, it is found that the low mobility is equivalent to the intrinsic conductivity of NiO at a certain carrier concentration, whereas, the conductivity of NiO depends on the stoichiometric ratio. It has been revealed that stoichiometric NiO is insulating with a conductivity of 10−13 S cm−1, which is many orders of magnitude lower than that of an undoped (10−8 S cm−1) or doped spiro-OMeTAD (10−4 S cm−1).15,31 This means that once holes are injected into the NiO layer, their mobility is below the detection limit of the instrument. Theoretically speaking, the p-type conductivity of NiO can be improved by introducing nickel vacancies  under oxygen-rich conditions. Nevertheless, the improvement of hole density is greatly limited to the large ionization energy associated with . For this reason, extrinsic dopants with more shallow acceptor levels are delightful to increase the hole mobility. Nowadays, the common extrinsic dopant used for NiO is Li,17 although other dopants such as Cu,32 Ag33 and Cs17 have been reported. By contrast, potassium is abundant in the Earth's crust compared with the above dopants. In the meantime, K has been proved to passivate the grain boundary or surface defects and reduce hysteresis within perovskites.34
Herein, PSCs with structures of FTO/NiO or K-doped NiO/perovskite/fullerene /BCP/Ag are fabricated to investigate the influence of K on crystal structures, optoelectronic properties and photovoltaic performances, during which diffusion phenomena, trap states and interfacial charge transfer properties are analyzed by using Time of Flight Secondary Ion Mass Spectrometry (ToF-SIMS), space-charge-limited-current (SCLC) measurements, electrochemical impedance spectroscopy (EIS) and photoluminescence (PL) measurements. K is chosen as the extrinsic dopant for NiO to enhance its conductivity and carrier mobility, which can eventually improve the Jsc and FF of devices. Meanwhile, the grain boundary or surface passivation effect within the perovskite caused by the partial diffusion of extrinsic dopant K induced moderate excess PbI2 is observed and discussed in this paper.
2. Results and discussion
To increase the conductivity and hole mobility of pure NiO, K is firstly selected as an extrinsic dopant with a more shallow acceptor level. The benefit of doping K into NiO for improving the photovoltaic performance of devices is demonstrated. Pure NiO films are prepared by a simple solution based process, while K-doped NiO films are fabricated by adding K precursors at different volume ratios (see more details in the Experimental section). Standard p–i–n devices with structures of FTO/NiO or K-doped NiO/perovskite/PCBM:C60/BCP/Ag are fabricated in this work. J–V curves of the above devices measured under AM 1.5 simulated sun light (100 mW cm−2) are displayed in Fig. 1a. Meanwhile, photovoltaic parameters are summarized in Table 1. The device based on pure NiO displays a Jsc of 21.50 mA cm−2, an open-circuit voltage (Voc) of 1.071 V, and a FF of 68.44%, resulting in a power conversion efficiency (PCE) of 15.77%. In contrast, the device based on the NiO:5K HTM presents a Jsc of 22.77 mA cm−2, a Voc of 1.014 V, and a FF of 78.16%, resulting in a best PCE of 18.05% coming from large increases in Jsc and FF. The increase in Jsc can also be proved by the IPCE spectra in Fig. 1b. In addition, steady-state PCE measurements (converted from steady-state photocurrent) at the maximum power point are shown in Fig. S1.† The devices based on pure NiO and NiO:5K yield a stable efficiency of about 15.81% and 18.06%, respectively, which are in agreement with PCE values derived from J–V curves. From Table 1, it is found that the PCE of the top-performance device has an increment by 15% compared with that of the pristine device due to a reduced series resistance (Rs) and increased shunt resistance (Rsh). To reveal the reasons for the prominent improvement in photovoltaic performance, especially increases in Jsc and FF, we then moved to deeply investigate the optoelectronic properties of HTLs and charge-carrier transport balances of devices by doping K into NiO.
 Fig. 1  (a) J–V curves and (b) IPCE spectra of devices based on different HTLs. 
Table 1 Photovoltaic parameters of devices based on different HTLs




Device



J
sc/mA cm−2

V
oc/V
FF/%
PCE/%

R
s/Ω

R
sh/Ω




NiO
Average
20.93 ± 0.57
1.068 ± 0.003
67.60 ± 0.84
15.11 ± 0.66
4.43
1460


Best
21.50
1.071
68.44
15.77


NiO:3K
Average
21.74 ± 0.23
1.038 ± 0.005
75.33 ± 0.94
17.00 ± 0.47
3.79
5530


Best
21.97
1.043
76.27
17.47


NiO:5K
Average
22.59 ± 0.18
1.011 ± 0.003
77.98 ± 0.18
17.81 ± 0.24
2.80
6580


Best
22.77
1.014
78.16
18.05


NiO:7K
Average
21.62 ± 0.37
0.978 ± 0.008
77.13 ± 0.19
16.31 ± 0.45
2.83
1880


Best
21.99
0.986
77.32
16.76


NiO:10K
Average
20.91 ± 0.46
0.898 ± 0.002
74.98 ± 0.69
14.08 ± 0.47
3.42
840


Best
21.37
0.900
75.67
14.55




Optical properties of different HTLs are determined from UV-vis transmittance spectra, as depicted in Fig. 2a. It is clearly seen that HTLs exhibit a high transmittance of over 80% from 400 to 800 nm. Meanwhile, the transmittance of NiO:5K has a near 1% increase from 550 to 700 nm compared with that of pure NiO as the reflectance of films reduces as confirmed by diffuse reflectance spectra in Fig. S2a.† Kubelka–Munk spectra transformed from diffuse reflectance spectra (Fig. S2b†) and ultraviolet photoelectron emission spectra (PESA) (Fig. S3†) of different HTLs are utilized to estimate the band levels of HTLs, where schematic energy level diagrams of different HTLs are presented in Fig. S4.† The valence bands (VB) of the perovskite and pure NiO film are −5.50 and −5.34 eV, respectively. Intriguingly, the increasing content of K dopants shifts the surface ionization potential to values above that of pure NiO. When changing the content of K from 3 vol% to 10 vol%, VB levels are found to shift from −5.31 to −5.21 eV, which means that the mismatch of VB levels between HTLs and the perovskite gradually increases with the content of K. This will greatly degrade the Voc of devices. In fact, when further increasing the content of K to 10 vol%, the Voc of the device decreases to 0.980 V as shown in Fig. 1a and Table 1, causing an unsatisfactory PCE of 14.55%.
 Fig. 2  (a) Transmittance spectra and zoomed in images of transmittance spectra of different HTLs; (b) Wide survey XPS spectra and deconvolution of Ni 2p XPS spectra of (c) NiO and (d) NiO:5K films on FTO; (e) deconvolution of K 2p XPS spectra of different HTLs; (f) current–voltage curves, obtained by linear-sweep voltammetry, of different HTLs. 
To confirm the doping effect of K, wide survey XPS spectra, and the deconvolution of Ni 2p, O 1s and K 2p XPS spectra of pure NiO and K-doped NiO films are illustrated in Fig. 2b–e and S5.† Backgrounds are subtracted using a Shirley-type background and all peaks are fitted by a Gaussian function. Peaks at 861.0 eV in Fig. 2c–d can be ascribed to shake-up peaks. From the deconvolution of Ni 2p and O 1s XPS spectra, it is found that the films obtained are composed of several components, including NiO (Ni 2p3/2 at 853.7 eV and O 1s at 529.2 eV) and Ni2O3 (Ni 2p3/2 at 855.6 eV and O 1s at 531.1 eV). From the deconvolution of K 2p XPS spectra in Fig. 2e, two different peaks centered at 293.0 and 295.9 eV are observed, corresponding to K 2p3/2 and K 2p1/2 groups, respectively. In contrast, no characteristic peaks of K are detected in the XPS spectra of pure NiO, showing the successful element doping effect. Meanwhile, the peak intensity of K increases with the content of K, which can also be determined by atomic ratios of Ni to K derived from the XPS spectra of different HTLs listed in Table 2. More importantly, the ratio of Ni3+ to Ni2+ obtained by peak-splitting treatment for Ni 2p peaks also shows an upward trend from 1.13 to 2.55 with the content of K. The Ni3+ state (occurring in Ni2O3) is an indication of oxygen-rich conditions in NiO and thus the presence of nickel vacancies. There is no doubt that increasing nickel vacancies, namely the Ni3+ acceptor, is an effective way to render NiO more conductive. However, large ionization energy is required to form nickel vacancies (see eqn (1)). Therefore, extrinsic dopants with more shallow acceptor levels are delightful to increase conductivities. Furthermore, the high conductivity of K-doped NiO originates from increased Ni3+ acceptors. In detail, K dopants can either substitute Ni atoms or go into the interstitial sites. However, the atomic radius of K (243 pm) is larger than that of Ni (149 pm), and thus the former seems to be dominant.35 To demonstrate the specific form and position of K within NiO, we recorded the XRD patterns of NiO or K-doped NiO films prepared by spin-coating precursors 5 times on glasses. As displayed in Fig. S6,† Bragg peaks at 37.24° and 43.28° could be attributed to the typical diffractions of the (111) and (200) planes of NiO with a cubic Fm3m crystal structure (PDF#47-1049), respectively. Except for NiO, no other phases are found in the figure. Meanwhile, Bragg peaks shift towards lower angles by incorporation of K into NiO. From Bragg's law 2dsinθ = nλ, the lower θ means the larger inter-planar crystal spacing d. Thus, K dopants can either substitute Ni atoms (Situation 1, Fig. S7a†) or go into interstitial sites (Situation 2, Fig. S7b†). We obtain the formation energies of the above situations through first-principles calculation.36–38 Formation energies for Situation 1 and Situation 2 are −0.313 and 0.884 eV per atom, respectively. Situation 1 with lower formation energy indicates that K is more likely to substitute Ni atoms. In fact, the positive formation energies of Situation 2 indicate that this structure doesn't exist and K can't go into interstitial sites due to the big atomic radius of K atoms. This will collapse the lattice of NiO as shown in Fig. S7c.† Therefore, K dopants substitute Ni atoms. This might induce lattice distortion and thus increase the disorder of the NiO structure, causing a more amorphous phase in K-doped NiO compared to pure NiO, which would improve Ni3+ acceptor ratios in agreement with results from XPS, and consequently increase hole conductivity (see eqn (2)). These results are consistent with results of the literature.15,17,32,33 (1) (2)
Table 2 Atomic ratios of NiO and K-doped NiO derived from wide survey XPS spectra




ID
Ni:K
Ni3+/Ni2+(peak area)




Pure NiO
100:0
1.13


NiO:3K
97.34:2.66
1.52


NiO:5K
96.98:3.20
1.63


NiO:7K
96.21:3.79
2.17


NiO:10K
93.82:6.18
2.55




To further validate our hypothesis of improved Jsc caused by increased conductivities of HTLs, current–voltage curves with structures of FTO/undoped or K-doped NiO/Ag are also explored to assess the conductivities of the films by linear sweep voltammetry as illustrated in Fig. 2f. To determine the effect of K on the electrical conductivity of NiO, the conductivities of the films are obtained using the following equation: σ = d/(AR)(3)where σ is the conductivity, d is the thickness of NiO films (∼40 nm), A is the active area (0.6 × 0.2 cm2), and R is the resistance determined from current–voltage curves. Conductivities of different NiO films with different K doping concentrations are estimated to be 2.9 × 10−6 S cm−1 (NiO), 4.2 × 10−6 S cm−1 (NiO:3K), 4.3 × 10−6 S cm−1 (NiO:5K), 5.1 × 10−6 S cm−1 (NiO:7K), and 5.5 × 10−6 S cm−1 (NiO:10K). It is found that K-doped NiO shows enhanced conductivity compared to the undoped NiO film. Hence, the enormous improvement in Jsc is attributed to the huge improvement of the conductivity of HTLs.
Moreover, the morphology and microstructure of different HTLs and perovskite films on different HTLs are comprehensively measured by SEM as shown in Fig. 3 and S8.† Uniform and smooth HTLs formed by many small NiO nanoparticles with a size of several nanometers are obtained, facilitating the formation of continuous, full coverage and flat perovskite films with a grain size of several hundred nanometers. Besides, the average grain size of the perovskite on NiO:5K becomes larger than that on pure NiO. Fig. 3e–f exhibit the typical cross-sectional SEM images of devices based on pure NiO and NiO:5K, where the thickness of the HTL, perovskite, PCBM, and silver is about 40, 430, 65, and 90 nm, respectively.
 Fig. 3  SEM images of (a) pure NiO and (b) NiO:5K. SEM images of the perovskite on (c) pure NiO and (d) NiO:5K. Cross-sectional SEM images of devices based on pure (e) NiO and (f) NiO:5K. 
To further confirm the doping effect and explore the state of K, ToF-SIMS is employed to obtain elemental depth distribution information, especially for key elements with extremely low doping ratios.39 ToF-SIMS is a sensitive technique for the detection of traceable elements or groups, and has been proved to be versatile, notably for extremely low doping ratios. The elemental depth profile of the device based on NiO:5K is displayed in Fig. 4, and different layers are distinguished according to the intensities of ion counts. Pb+, PbI+, I+ and CH3+ ions are attributed to the existence of the perovskite, while Ni+ and K+ ion come from HTLs. In the depth profiles, the signal of K+ obtained in HTLs matches well with that of Ni+, which also shows a homogeneous doping of K into NiO, consistent with XPS results. Surprisingly, a remarkable peak of K+ ions (sputtering time from 69 to 91 s) within the perovskite is observed obviously, and at the same time, the peak intensity of the K+ ion has a gradual decrease as the sputtering time decreases, indicating that the content of K gradually decreased within the perovskite, which can be probably ascribed to K+ partial diffusion from HTLs to the perovskite during thermal annealing. The effect of potassium diffusion on the properties of devices is worth studying. In CIGS solar cells, the passivation effect of alkaline metal ions on grain boundaries has already been explicit.40 In our opinion, the K+ partial diffusion effect can passivate defects within the perovskite. Nevertheless, the passivation mechanism is different, which will be discussed below.
 Fig. 4  ToF-SIMS elemental depth profile of the device with a structure of FTO/NiO:5K/perovskite/fullerene/BCP/Ag (Pb+, PbI+, I+ and CH3+ ions are attributed to the existence of the perovskite; Ni+ and K+ ions come from NiO:5K. The Ag+ ion represents the silver electrode. The Sn+ ion is ascribed to the existence of FTO. The C+ ion is derived from the fullerene). 
To study phase composition and crystallization in the films, XRD patterns of the perovskite on different HTLs are illustrated in Fig. 5a. The strong Bragg peaks at 14.26°, 20.25°, 24.65°, 28.72°, 32.07° and 35.31° could be ascribed to the (110), (200), (202), (220), (310) and (312) planes of the perovskite with an orthorhombic Pnma crystal structure, respectively. Very impressively, the ratio of the (110) plane peak intensity increases to 1.23 for NiO:5K compared with pure NiO, which indicates an improvement of perovskite crystallization after doping K into NiO. More importantly, it is found that the relative intensity of the PbI2 peak (2θ = 12.8°) gradually increases with K content as shown in Fig. 5b, which is ascribed to the K partial diffusion effect from HTLs to light absorption layers as proved in Fig. 4. In detail, considering the ionic radius of K+ (RK, VI = 0.138 nm) and Pb2+ (RPb, VI = 0.119 nm),41 the crystal structure of the perovskite will collapse if numerous K+ cations substitute A sites due to the smaller ionic radius of K+ than MA+ (Goldschmidt tolerance factor < 0.8),42 whereas, other possibilities emerge that K+ ions may occupy B and/or interstitial sites due to their smaller ionic radius. Interestingly, the (110) plane peaks of the perovskite shift towards lower angles by the incorporation of K into NiO as depicted in Fig. 5c. From Bragg's law, the lower θ means the larger inter-planar crystal spacing d. Combined with the above results, only one possibility seems possible that K+ substitutes the B site (Pb), thus increasing the d value and improving the intensity of PbI2 within the perovskite.34 Therefore, it's entirely possible that K+ may occupy B sites due to their smaller ionic radius. To balance the charge, some defects, such as iodine vacancies, are required. The residual lead and iodine can form lead iodide. Thus, an increased intensity of PbI2 within the perovskite after incorporation of K is observed in the XRD pattern in Fig. 5c. The above possibility where K+ ions occupy Pb sites is verified by first-principles calculation.43 Bader charges of Pb, I, N, C, MA and K atoms in orthorhombic perovskite CH3NH3PbI3 crystals and the incorporation of K into the perovskite based on the pseudo valence density are listed in Fig. S9.† After incorporation of K into the perovskite, Bader atomic charges of MA and I are similar due to approximately equal Bader charges of K (0.78) and Pb (0.88). Therefore, it is feasible to substitute Pb with K because it doesn't damage the perovskite structure. Moreover, this substitution can largely improve polarization in MA groups as the difference in Bader atomic charges of C and N becomes larger (from C (−0.01), N (−1.17) to C (0.15), N (−1.23)). Meanwhile, the Bader atomic charge of I changes from −0.55 to −0.51, which indicates that fewer iodine atoms are needed to form the perovskite structure, proving that iodine vacancies are formed after K occupies Pb atoms. This could explain the increase in the PbI2 content.44 In addition, it has been proved that the moderate excess of PbI2 could form type II band alignment within perovskite layers and passivate surface or grain boundaries, thus improving photovoltaic performance.45 In order to accurately assess trap densities in these devices, hole-only devices with structures of FTO/NiO or NiO:5K/perovskite/spiro-OMeTAD/Ag are fabricated and typical dark J–V characteristics of hole-only devices with different HTLs are demonstrated in Fig. 5d. The linear region at low bias signifies the ohmic response, while the marked increase of the current injection in the intermediate region is related to a trap filling process. The trap density levels are filled by increasing the bias until reaching the trap filling limit voltage (VTFL).46,47 The trap density can be calculated from the following equation: (4)where e is the elementary charge of the electron (1.6 × 10−19 C), L represents the thickness of perovskite films, nt is the trap-state density, and ε0 (8.85 × 10−12 F m−1) and ε (equal to 28.8 for the perovskite) are the vacuum permittivity and relative dielectric constant, respectively. The hole trap density is calculated to be 1.99 × 1018 and 4.62 × 1017 cm−3 for the perovskite on pure NiO and NiO:5K, respectively. We consider that this reduced trap density is attributed to the grain boundary or surface passivation caused by excess PbI2 coming from K partial diffusion. Here, steady-state PL spectra of the perovskite on different substrates are recorded to evaluate the effect of K dopants on the charge transfer capacity as shown in Fig. 5e. The perovskite on glass shows a luminescence peak at 760 nm. Surprisingly, the luminescence peak has a blue-shift from 760 nm of perovskite on glass to 756 nm of perovskite on NiO:5K as shown in Fig. 5f. These results indicate fewer in-gap defects and recombination centers within perovskite films enabling the recovery of the bandgap after incorporating K into NiO, which is in agreement with that derived from the above results. Meanwhile, the perovskite on NiO:5K has the lowest PL intensity among those investigated films. A significant quenching effect is observed when the perovskite is coated on K-doped NiO. The time resolved photoluminescence (TRPL) spectra of the perovskite on different HTLs are displayed in Fig. 5g. We fitted the TRPL curves to an exponential decay function: y = Aexp(−t/τ)(5)
 Fig. 5  (a) XRD patterns of the perovskite on different HTLs. Zoomed in figures of XRD patterns at (b) PbI2 and (c) the (110) plane. (d) J–V traces and trap densities of perovskite films on NiO and NiO:5K as determined by the SCLC method with hole-only devices of FTO/NiO or NiO:5K/perovskite/spiro-OMeTAD/Ag. (e) Steady-state PL spectra, (f) normalized steady-state PL spectra and (g) TRPL spectra of different samples including glass/perovskite, FTO/NiO/perovskite, FTO/NiO:3K/perovskite, FTO/NiO:5K/perovskite, FTO/NiO:7K/perovskite, and FTO/NiO:10K/perovskite. 
The fitting results are presented in Table S1.† The lifetime continues to reduce from 245.55 ns of perovskite on glass to 40.88 ns of that on NiO:5K, consistent with the tendency obtained from steady-state PL spectra. The quenching effect of steady-state PL and shorter decay times derived from TRPL can be attributed to the interaction between the improved hole extraction capacity of HTLs and the grain boundary or interface passivation effect within the perovskite after incorporating K. In detail, hole extraction plays a key role in shorter decay times when the K content is low (≤5 vol%). When further increasing the K content, the grain boundary or surface passivation effect is dominant, which leads to increases of decay times and steady-state PL intensity. However, there is no regular improvement in photovoltaic performance as expected, which is mainly ascribed to the obvious loss in Voc caused by large mismatches of VB at a high doping content of K (Fig. S4†).
To explain the enhancement of FF after doping K into NiO, the charge-carrier transport balance model is proposed as presented in Fig. 6a. To achieve charge-carrier transport balance, two conditions are required. The first aspect is to balance the charge-carrier diffusion length, which can avoid internal charge accumulation in the perovskite. Thus, we first determine the carrier diffusion length of the perovskite used in the present study. TRPL is employed to evaluate the diffusion length in perovskite films by investigating TRPL with and without the quenching layer, where PCBM and spiro-OMeTAD are applied as electron and hole quenching layers, respectively (Fig. S10†).48,49 The diffusion length, LD, can be gained by applying a 1D diffusion equation to the TRPL results and can be calculated from the following equation: (6) (7) (8)
 Fig. 6  (a) Schematic of the charge-carrier transport balance model. (b) SCLC measurements of different HTLs with hole-only structures of FTO/NiO or NiO:5K/spiro-OMeTAD/Ag. (c) EIS Nyquist plots of devices based on different HTLs (inset shows the equivalent circuit employed to Nyquist fitting and the zoomed in figure of the EIS Nyquist plot). (d) Dark J–V curves of devices based on pure NiO and NiO:5K. 
The diffusion coefficient (D) can be estimated as,50 (9)where n represents the carrier density, D is the carrier diffusion coefficient, and k is the original charge carrier consumption rate without quenching layers. τHeterojunction is the effective TRPL lifetime of the perovskite with the quenching layer, τperovskite is the effective TRPL lifetime of the perovskite without the quenching layer, and τCT is the charge-carrier transfer time.51ω is the film thickness. From the above equations, we obtain both the electron diffusion length Le−D (275 nm) and hole diffusion length Lh+D (277 nm) of the perovskite used in this study, both of which are longer than those of pure MAPbI3 due to the incorporation of Br and reduced defects caused by passivation of PbI2.49,51,52 In consequence, the charge-carrier diffusion length has already been balanced in the perovskite MAPb(I0.9Br0.1)3 we used. Under the above conditions, balancing charge-carrier transfer capacity is the key point to achieve charge-carrier transport balance in devices, which means that the hole and electron mobility of charge extraction layers employed should be balanced. The hole mobility of HTLs is approximated using SCLC measurements with hole-only device structures of FTO/NiO or NiO:5K/spiro-OMeTAD/Ag.53,54 The J–V characteristics of devices are shown in Fig. 6b and the hole mobility can be calculated from the Mott–Gurney equation: (10)where d is the thickness of the photoactive layer, and ε0 (8.85 × 10−12 F m−1) and εr (equal to 11.9 for NiO) are the vacuum permittivity and relative permittivity, respectively.55μ is the hole mobility. According to the above equation, the hole mobility of pure NiO is 2.49 × 10−4 cm2 V−1 s−1. After incorporating 5 vol% K into NiO, hole mobility has a ten-fold increase to 1.94 × 10−3 cm2 V−1 s−1, which indicates that hole transfer capacity is improved after doping with K. Meanwhile, the electron mobility of PC61BM and PC61BM/C60 mixed fullerene is 2.15 × 10−3 and 4.71 × 10−3 cm2 V−1 s−1, respectively, according to our previous paper.29 The hole mobility of NiO:5K and the electron mobility of PC61BM/C60 are similar, which contributes to charge-carrier transport balance and high FF of devices based on NiO:5K. The internal charge transport and recombination of devices are investigated by EIS measurements at a bias of 0.7 V in the dark. Nyquist plots of devices are displayed in Fig. 6c. Only one semicircle could be distinguished from Nyquist plots, which delivers information about charge transfer resistances (RCT) between HTLs and the perovskite. It is apparent that an efficient charge transfer process will lead to a small RCT, which shows a small semicircle in Nyquist plots.56,57 By fitting Nyquist plots using the simulative equivalent circuit model, we obtained total series resistances (RSR) of 9.11 and 6.92 Ω for the devices based on NiO and NiO:5K, respectively. Meanwhile, obviously different fitted RCT values of 3974 and 898 Ω correspond to PSCs based on NiO and NiO:5K, respectively. The smaller RSR of the balanced devices (devices based on NiO:5K) is attributed to an increased conductivity of HTLs, while reduced RCT implies an accelerated charge transport after incorporating K into NiO, thus reducing loss and boosting performance.28 Suppressed charge-carrier recombination is also investigated using dark J–V curves as demonstrated in Fig. 6d. Both devices show a typical diode behavior. The balanced devices display a leakage current of one order of magnitude lower than those of devices based on pure NiO. The ideality factor (n) was determined from the equation:58,59 (11)where k is the Boltzmann constant (1.38 × 10−23 J K−1), q is the elementary charge (1.6 × 10−19 C) and T is the operating temperature. From the equation, it is found that the value of n decreases from 2.56 of devices based on pure NiO to 1.80 of the balanced devices. When band-to-band recombination is dominant, n should be close to unity, while n > 1 indicates that Shockley–Read–Hall (SRH) recombination (e.g., interfacial recombination or trap-assisted recombination) within the space-charge region (or depletion region) is involved.60 The balanced device displays a smaller n value, indicating that the balanced device presents the best SRH recombination suppression, which is ascribed to the PbI2 trap-passivating effect coming from partial diffusion of K. The reduced leakage current and ideality factor are in good agreement with the improved Jsc and FF of devices achieved by doping K into NiO.
Finally, we did the stability test of our devices based on NiO or K-doped NiO HTLs as suggested. The device stability was evaluated through measuring the devices without encapsulation stored in an ambient environment with 15% ± 5% humidity. As illustrated in Fig. S11,† for the device based on NiO:5K, more than 90% of the initial PCE value was maintained after 240 hours of exposure to air. However, the PCE of the devices based on NiO degraded to 86% under the same conditions. These results indicate that the stability of devices can be improved to a certain extent after incorporation of K into NiO.
3. Conclusion
In summary, we firstly introduced K into NiO to improve the conductivity, carrier extraction capacity and mobility of the HTM. Consequently, a best PCE of 18.05% based on NiO:5K is achieved. Compared with devices based on undoped NiO, the performance of the best devices improves by approximately 15% (from 15.77% to 18.05%) with extraordinarily improved Jsc (from 21.50 to 22.77 mA cm−2) and FF (from 68.44% to 78.16%). To explain the improved performance, two reasons are presented. Firstly, the charge-carrier transport balance model is shown in the article. The conductivity and mobility of NiO optimized by extrinsic dopant K are equivalent to those of electron transport layers, thus avoiding charge accumulation and achieving charge-carrier transport balance. Secondly, the partial diffusion of extrinsic dopant K induced increased PbI2 within the perovskite, while the moderate excess of PbI2 could passivate surface or grain boundaries of the perovskite by forming type II band alignment between PbI2 and the perovskite. The partial diffusion induced passivation mechanism proposed in this paper will give a new approach to achieve defect passivation. Meanwhile, this work demonstrates that K is an effective extrinsic dopant to improve the hole extraction capacity of HTLs for highly efficient inverted PSCs.
4. Experimental section
4.1 Materials

N,N-Dimethylformamide (DMF), chlorobenzene, PbI2 and PbBr2 were supplied by Alfa-Aesar. Nickel(II) acetylacetonate and dimethyl sulfoxide (DMSO) were purchased from Sigma-Aldrich. CH3NH3I (MAI) was provided by GreatCell Solar. [6,6]-Phenyl C61 butyric acid methyl ester (PC61BM) and C60 were purchased from Luminescence Technology Corp. Spiro-OMeTAD was provided by Borun Chemical Co., Ltd. The remainder of the chemicals were supplied by Aladdin Co. Ltd China. All the chemicals were used without any further purification.
4.2 Materials synthesis

Preparation of HTLs. 
0.1 M nickel(II) acetylacetonate ethanol solution with adding 10 μL HCl (38 wt%) (solution I) and 0.1 M potassium nitrate aqueous solution (solution II) was stirred overnight and filtered with 0.22 μm PTFE filters before use. Five different precursor solutions [pristine NiO (NiO), 3 vol% K doped NiO (NiO:3K), 5 vol% K doped NiO (NiO:5K), 7 vol% K doped NiO (NiO:7K), and 10 vol% K doped NiO (NiO:10K)] were prepared. Take NiO:5K solution for example, solutions I and II were mixed together in a 1:0.05 volume ratio and stirred for 2 h.


Perovskite precursor solutions. 
The perovskite precursor solutions were prepared by dissolving MAI (1.55 M), PbI2 (1.4 M) and PbBr2 (0.15 M) in anhydrous solution with DMF:DMSO in a 4:1 volume ratio.


Fabrication of solar cells. 
Substrates (Youxuan Tech.) were cleaned in the solvents of deionized water, ethanol, acetone and isopropyl alcohol subsequently. Then conductive glasses were treated with O2-plasma for 5 min to remove organic contamination and introduce a hydrophilic surface. Subsequently, the NiO precursor solution obtained was spun on the cleaned fluorine-doped tin oxide-coated glass substrate (FTO) at 3000 rpm for 30 s, followed by annealing at 400 °C for 40 min with a ramping rate of 5 °C min−1. The perovskite was deposited by using a one step program at 6000 rpm for 30 s with a ramping rate of 2000 rpm per s. Chlorobenzene (150 μL) was dropped onto the center of the substrate at 20 s before the end of the procedure.61 The substrates were then heated at 100 °C for 30 min. Subsequently, mixed fullerene electron transporting materials (ETMs) were spin coated on the obtained films at 1000 rpm for 30 s, followed by the spin coating of the BCP saturated solution in isopropanol at 5000 rpm. Finally, 100 nm silver electrodes were deposited on substrates by thermal evaporation.

4.3 Characterization
X-ray diffraction (XRD) pattern data were collected on a Bruker D8 Advance Diffractometer (40 kV, 40 mA, Cu Kα1, λ = 1.5406 Å). XPS spectra were recorded using an X-ray photoelectron spectrometer (ESCALAB 250Xi, Thermo Fisher SCIENTIFIC INC., UK). Photoelectron spectroscopy in air (PESA) was performed with an AC-2 instrument (AC-2, RIKEN Instruments, Japan). The morphology of the samples was determined using a scanning electron microscope (Merlin, Zeiss, Germany). Static and dynamic emission spectra were recorded using an Edinburgh FLS 920 instrument (Livingston, WL, UK). A picosecond pulsed diode laser with an excitation wavelength of 405 nm was available to record the emission decay curves for lifetimes in the range of 50–1000 ns. Ultraviolet-visible transmittance spectra and diffuse reflectance spectra were acquired using a Lambda 950 spectrophotometer (PerkinElmer, USA). The photocurrent–voltage (J–V) characteristics of the devices were obtained with a digital source meter (2400, Keithley Instruments, USA) under AM 1.5G illumination (100 mW cm−2), which was realized using a solar simulator (Oriel, USA, calibrated with a standard crystalline silicon solar cell). The incident photon to current efficiency spectra (IPCE) were obtained by using a QEX10 solar cell quantum efficiency measurement system (QEX10, PV measurements, USA). EIS were recorded at potentials of −0.7 V in the dark at frequencies ranging from 0.1 Hz to 100 kHz by using a Zahner system (Zahner, Zahner-Electrik GmbH&Co. KG, Germany); the oscillation potential amplitudes were adjusted to 10 mV. The ToF-SIMS measurements (model ToF-SIMS 5, ION-ToF GmbH) were performed with the pulsed primary ions from a O2+ (2 keV) liquid-metal ion gun for the sputtering and a Bi+ pulsed primary ion beam for the analysis (30 keV). The analysis area was centered inside the raster area, and the sputtering rate was calibrated with the SiO2 substrate on each batch of samples. It should be noted that the thickness of each layer depends on the erosion rate of the cesium primary ion beam in different materials and therefore cannot be simply decided by the sputtering time. Also, because of the extremely high sensitivity of ToF-SIMS and the inevitable roughness of each layer, all the ion intensity curves extended their regions and overlapped at the interfaces.
4.4 First-principles calculations
First-principles calculations are performed based on density functional theory as implemented in the Vienna ab initio simulation package code. The projector augmented wave (PAW) pseudopotential was adopted and the GGA exchange correlation function was described by the Perdew–Burke–Ernzerhof (PBE) method. The kinetic energy cutoff for plane wave expansion is set at 520 eV. The criterion for force convergence during the optimization was −0.01 eV Å−1 or smaller. Ancillary GGA calculations within the Perdew–Burke–Ernzerhof method revealed no dependence of our major conclusions on the choice of the exchange correlation functional. The crystal structures investigated were obtained from the Inorganic Crystal Structure Database and Materials Project.
Conflicts of interest
There are no conflicts to declare.
Acknowledgements
This work was supported by the National Natural Science Foundation of China (NSFC, 51772166), the Projects of International Cooperation and Exchanges NSFC (51561145007), the Ministry of Science & Technology, P. R. China: Sino-Italy International Cooperation on Innovation (2016YFE0104000) and the National Energy Novel Materials Center (NENMC-II-1705)
References
J. Burschka, N. Pellet, S. Moon, R. Humphry-Baker, P. Gao, M. K. Nazeeruddin and M. Grätzel, Nature, 2013, 499, 316–319 CrossRef CAS PubMed .
N. J. Jeon, H. Na, E. H. Jung, T. Yang, Y. G. Lee, G. Kim, H. Shin, S. Il Seok, J. Lee and J. Seo, Nat. Energy, 2018, 3, 682–689 CrossRef CAS .
H. Tsai, R. Asadpour, J. C. Blancon, C. C. Stoumpos, O. Durand, J. W. Strzalka, B. Chen, R. Verduzco, P. M. Ajayan, S. Tretiak, J. Even, M. A. Alam, M. G. Kanatzidis, W. Nie and A. D. Mohite, Science, 2018, 360, 67–70 CrossRef CAS PubMed .
W. S. Yang, B. W. Park, E. H. Jung, N. J. Jeon, Y. C. Kim, D. U. Lee, S. S. Shin, J. Seo, E. K. Kim, J. H. Noh and S. I. Seok, Science, 2017, 356, 1376–1379 CrossRef CAS PubMed .
J. Han, X. Yin, H. Nan, Y. Zhou, Z. Yao, J. Li, D. Oron and H. Lin, Small, 2017, 13, 1700953 CrossRef PubMed .
J. Han, S. Luo, X. Yin, Y. Zhou, H. Nan, J. Li, X. Li, D. Oron, H. Shen and H. Lin, Small, 2018, 14, 1801016 CrossRef PubMed .
M. Tai, X. Zhao, H. Wei, G. Wang, F. Hao, X. Li, X. Yin, Y. Zhou, J. Han, Y. Wei, K. Jiang and H. Lin, ACS Appl. Mater. Interfaces, 2018, 10, 26206–26212 CrossRef CAS PubMed .
J. H. Heo, H. J. Han, D. Kim, T. K. Ahn and S. H. Im, Energy Environ. Sci., 2015, 8, 1602–1608 RSC .
K. Chen, Q. Hu, T. Liu, L. Zhao, D. Luo, J. Wu, Y. Zhang, W. Zhang, F. Liu, T. P. Russell, R. Zhu and Q. Gong, Adv. Mater., 2016, 28, 10718–10724 CrossRef CAS PubMed .
C. Wehrenfennig, G. E. Eperon, M. B. Johnston, H. J. Snaith and L. M. Herz, Adv. Mater., 2014, 26, 1584–1589 CrossRef CAS PubMed .
W. Zhang, J. Smith, R. Hamilton, M. Heeney, J. Kirkpatrick, K. Song, S. E. Watkins, T. Anthopoulos and I. McCulloch, J. Am. Chem. Soc., 2009, 131, 10814–10815 CrossRef CAS PubMed .
Y. Cho, B. Hou, J. Lim, S. Lee, S. Pak, J. Hong, P. Giraud, A. Jang, Y. Lee, J. Lee, J. E. Jang, H. J. Snaith, S. M. Morris, J. I. Sohn, S. Cha and J. M. Kim, ACS Energy Lett, 2018, 3, 1036–1043 CrossRef CAS PubMed .
A. Armin, G. Juska, M. Ullah, M. Velusamy, P. L. Burn, P. Meredith and A. Pivrikas, Adv. Energy Mater., 2014, 4, 1300954 CrossRef .
C. Wang, C. Li, G. Wang, C. Wang, P. Ma, L. Huang, S. Wen, W. Guo, L. Shen and S. Ruan, J. Phys. Chem. C, 2018, 122, 17110–17117 CrossRef CAS .
W. Chen, Y. Wu, Y. Yue, J. Liu, W. Zhang, X. Yang, H. Chen, E. Bi, I. Ashraful, M. Gratzel and L. Han, Science, 2015, 350, 944–948 CrossRef CAS PubMed .
C. Bi, Q. Wang, Y. Shao, Y. Yuan, Z. Xiao and J. Huang, Nat. Commun., 2015, 6, 7747 CrossRef CAS PubMed .
W. Chen, F. Liu, X. Feng, A. B. Djurišić, W. K. Chan and Z. He, Adv. Energy Mater., 2017, 7, 1700722 CrossRef .
Y. Wu, X. Yang, W. Chen, Y. Yue, M. Cai, F. Xie, E. Bi, A. Islam and L. Han, Nat. Energy, 2016, 1, 16148 CrossRef CAS .
S. S. Mali, H. Kim, H. H. Kim, S. E. Shim and C. K. Hong, Mater. Today, 2018, 21, 483–500 CrossRef CAS .
S. Sajid, A. M. Elseman, H. Huang, J. Ji, S. Dou, H. Jiang, X. Liu, D. Wei, P. Cui and M. Li, Nano Energy, 2018, 51, 408–424 CrossRef CAS .
W. Zhou, Z. Wen and P. Gao, Adv. Energy Mater., 2018, 8, 1702512 CrossRef .
M. A. Haque, A. D. Sheikh, X. Guan and T. Wu, Adv. Energy Mater., 2017, 7, 1602803 CrossRef .
Z. Zhu, Y. Bai, T. Zhang, Z. Liu, X. Long, Z. Wei, Z. Wang, L. Zhang, J. Wang, F. Yan and S. Yang, Angew. Chem. Int. Edit., 2014, 53, 12571–12575 CAS .
M. D. Irwin, D. B. Buchholz, A. W. Hains, P. H. C. Robert and T. J. Marks, Proc. Natl. Acad. Sci. U. S. A., 2008, 105, 2783–2787 CrossRef CAS .
K. X. Steirer, P. F. Ndione, N. E. Widjonarko, M. T. Lloyd, J. Meyer, E. L. Ratcliff, A. Kahn, N. R. Armstrong, C. J. Curtis, D. S. Ginley, J. J. Berry and D. C. Olson, Adv. Energy Mater., 2011, 1, 813–820 CrossRef CAS .
J. R. Manders, S. Tsang, M. J. Hartel, T. Lai, S. Chen, C. M. Amb, J. R. Reynolds and F. So, Adv. Funct. Mater., 2013, 23, 2993–3001 CrossRef CAS .
Y. Zhou, X. Yin, Q. Luo, X. Zhao, D. Zhou, J. Han, F. Hao, M. Tai, J. Li, P. Liu, K. Jiang and H. Lin, ACS Appl. Mater. Interfaces, 2018, 10, 31384–31393 CrossRef CAS PubMed .
X. Yin, Z. Yao, Q. Luo, X. Dai, Y. Zhou, Y. Zhang, Y. Zhou, S. Luo, J. Li, N. Wang and H. Lin, ACS Appl. Mater. Interfaces, 2017, 9, 2439–2448 CrossRef CAS PubMed .
X. Yin, J. Han, Y. Zhou, H. Nan, Z. Yao, M. Tai, X. Li, J. Li, N. Wang and H. Lin, ChemistrySelect, 2018, 3, 6802–6809 CrossRef CAS .
A. J. Bosman and C. Crevecoeur, Phys. Rev., 1966, 144, 763 CrossRef CAS .
M. A. Wittenauer and L. L. Van Zandt, Philos. Mag. B, 1982, 46, 659–667 CAS .
W. Chen, Y. Wu, J. Fan, A. B. Djurišić, F. Liu, H. W. Tam, A. Ng, C. Surya, W. K. Chan, D. Wang and Z. He, Adv. Energy Mater., 2018, 8, 1703519 CrossRef .
J. Zheng, L. Hu, J. S. Yun, M. Zhang, C. F. J. Lau, J. Bing, X. Deng, Q. Ma, Y. Cho, W. Fu, C. Chen, M. A. Green, S. Huang and A. W. Y. Ho-Baillie, ACS Appl. Energy Mater., 2018, 1, 561–570 CrossRef CAS .
Z. Tang, S. Uchida, T. Bessho, T. Kinoshita, H. Wang, F. Awai, R. Jono, M. M. Maitani, J. Nakazaki, T. Kubo and H. Segawa, Nano Energy, 2018, 45, 184–192 CrossRef CAS .
E. Clementi, D. L. Raimondi and W. P. Reinhardt, J. Chem. Phys., 1967, 47, 1300–1307 CrossRef CAS .
W. Geng, C. Tong, J. Liu, W. Zhu, W. Lau and L. Liu, Sci. Rep., 2016, 6, 20131 CrossRef CAS PubMed .
F. Brivio, A. B. Walker and A. Walsh, APL Mater., 2013, 1, 42111 CrossRef .
E. Mosconi, A. Amat, M. K. Nazeeruddin, M. Grätzel and F. De Angelis, J. Phys. Chem. C, 2013, 117, 13902–13913 CrossRef CAS .
J. Li, Q. Dong, N. Li and L. Wang, Adv. Energy Mater., 2017, 7, 1602922 CrossRef .
C. Heske, R. Fink, E. Umbach, W. Riedl and F. Karg, Appl. Phys. Lett., 1996, 68, 3431–3433 CrossRef CAS .
R. D. Shannon, Acta Crystallogr., Sect. A, 1976, 32, 751–767 CrossRef .
M. Saliba, T. Matsui, K. Domanski, J. Y. Seo, A. Ummadisingu, S. M. Zakeeruddin, J. P. Correa-Baena, W. R. Tress, A. Abate, A. Hagfeldt and M. Gratzel, Science, 2016, 354, 206–209 CrossRef CAS PubMed .
X. Zheng, B. Chen, J. Dai, Y. Fang, Y. Bai, Y. Lin, H. Wei, X. C. Zeng and J. Huang, Nat. Energy, 2017, 2, 17102 CrossRef CAS .
Y. Wang, T. Gould, J. F. Dobson, H. Zhang, H. Yang, X. Yao and H. Zhao, Phys. Chem. Chem. Phys., 2014, 16, 1424–1429 RSC .
Q. Chen, H. Zhou, T. B. Song, S. Luo, Z. Hong, H. S. Duan, L. Dou, Y. Liu and Y. Yang, Nano Lett., 2014, 14, 4158–4163 CrossRef CAS PubMed .
T. Bu, X. Liu, Y. Zhou, J. Yi, X. Huang, L. Luo, J. Xiao, Z. Ku, Y. Peng, F. Huang, Y. Cheng and J. Zhong, Energy Environ. Sci., 2017, 10, 2509–2515 RSC .
X. Yin, Y. Zhou, J. Han, H. Nan, M. Tai, Y. Gu, J. Li and H. Lin, J. Mater. Chem. A, 2018, 6, 20702–20711 RSC .
Q. Dong, Y. Fang, Y. Shao, P. Mulligan, J. Qiu, L. Cao and J. Huang, Science, 2015, 347, 967–970 CrossRef CAS PubMed .
S. D. Stranks, G. E. Eperon, G. Grancini, C. Menelaou, M. J. P. Alcocer, T. Leijtens, L. M. Herz, A. Petrozza and H. J. Snaith, Science, 2013, 342, 341–344 CrossRef CAS PubMed .
H. J. Snaith and M. Grätzel, Adv. Mater., 2007, 19, 3643–3647 CrossRef CAS .
G. Xing, N. Mathews, S. Sun, S. S. Lim, Y. M. Lam, M. Gratzel, S. Mhaisalkar and T. C. Sum, Science, 2013, 342, 344–347 CrossRef CAS PubMed .
L. Yuan, Z. Wang, R. Duan, P. Huang, K. Zhang, Q. Chen, N. K. Allam, Y. Zhou, B. Song and Y. Li, J. Mater. Chem. A, 2018, 6, 19696–19702 RSC .
M. Eizenberg and H. J. Hovel, J. Appl. Phys., 1991, 69, 2256–2263 CrossRef CAS .
Z. He, C. Zhong, X. Huang, W. Wong, H. Wu, L. Chen, S. Su and Y. Cao, Adv. Mater., 2011, 23, 4636–4643 CrossRef CAS PubMed .
H. P. R. Frederikse, CRC Handbook of Chemistry & Physics, 1998, 12–50 Search PubMed .
Z. Wei, H. Chen, K. Yan, X. Zheng and S. Yang, J. Mater. Chem. A, 2015, 3, 24226–24231 RSC .
X. Xu, Z. Liu, Z. Zuo, M. Zhang, Z. Zhao, Y. Shen, H. Zhou, Q. Chen, Y. Yang and M. Wang, Nano Lett., 2015, 15, 2402–2408 CrossRef CAS PubMed .
L. Hu, K. Sun, M. Wang, W. Chen, B. Yang, J. Fu, Z. Xiong, X. Li, X. Tang, Z. Zang, S. Zhang, L. Sun and M. Li, ACS Appl. Mater. Interfaces, 2017, 9, 43902–43909 CrossRef CAS PubMed .
C. Ding, Y. Zhang, F. Liu, Y. Kitabatake, S. Hayase, T. Toyoda, K. Yoshino, T. Minemoto, K. Katayama and Q. Shen, Nano Energy, 2018, 53, 17–26 CrossRef CAS .
C. M. Chuang, A. Maurano, R. E. Brandt, G. W. Hwang, J. Jean, T. Buonassisi, V. Bulović and M. G. Bawendi, Nano Lett., 2015, 15, 3286–3294 CrossRef CAS PubMed .
H. Zhang, H. Wang, H. Zhu, C. Chueh, W. Chen, S. Yang and A. K. Y. Jen, Adv. Energy Mater., 2018, 8, 1702762 CrossRef .

Footnote† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ta11782aThis journal is © The Royal Society of Chemistry 2019
Table Content:

 	Fig. 1  (a) J–V curves and (b) IPCE spectra of devices based on different HTLs.	 

NiO	Average	20.93 ± 0.57	1.068 ± 0.003	67.60 ± 0.84	15.11 ± 0.66	4.43	1460
Best	21.50	1.071	68.44	15.77
NiO:3K	Average	21.74 ± 0.23	1.038 ± 0.005	75.33 ± 0.94	17.00 ± 0.47	3.79	5530
Best	21.97	1.043	76.27	17.47
NiO:5K	Average	22.59 ± 0.18	1.011 ± 0.003	77.98 ± 0.18	17.81 ± 0.24	2.80	6580
Best	22.77	1.014	78.16	18.05
NiO:7K	Average	21.62 ± 0.37	0.978 ± 0.008	77.13 ± 0.19	16.31 ± 0.45	2.83	1880
Best	21.99	0.986	77.32	16.76
NiO:10K	Average	20.91 ± 0.46	0.898 ± 0.002	74.98 ± 0.69	14.08 ± 0.47	3.42	840
Best	21.37	0.900	75.67	14.55

 	Fig. 2  (a) Transmittance spectra and zoomed in images of transmittance spectra of different HTLs; (b) Wide survey XPS spectra and deconvolution of Ni 2p XPS spectra of (c) NiO and (d) NiO:5K films on FTO; (e) deconvolution of K 2p XPS spectra of different HTLs; (f) current–voltage curves, obtained by linear-sweep voltammetry, of different HTLs.	 
	(1)
	(2)

Pure NiO	100:0	1.13
NiO:3K	97.34:2.66	1.52
NiO:5K	96.98:3.20	1.63
NiO:7K	96.21:3.79	2.17
NiO:10K	93.82:6.18	2.55
σ = d/(AR)	(3)

 	Fig. 3  SEM images of (a) pure NiO and (b) NiO:5K. SEM images of the perovskite on (c) pure NiO and (d) NiO:5K. Cross-sectional SEM images of devices based on pure (e) NiO and (f) NiO:5K.	 

 	Fig. 4  ToF-SIMS elemental depth profile of the device with a structure of FTO/NiO:5K/perovskite/fullerene/BCP/Ag (Pb+, PbI+, I+ and CH3+ ions are attributed to the existence of the perovskite; Ni+ and K+ ions come from NiO:5K. The Ag+ ion represents the silver electrode. The Sn+ ion is ascribed to the existence of FTO. The C+ ion is derived from the fullerene).	 
	(4)
y = Aexp(−t/τ)	(5)

 	Fig. 5  (a) XRD patterns of the perovskite on different HTLs. Zoomed in figures of XRD patterns at (b) PbI2 and (c) the (110) plane. (d) J–V traces and trap densities of perovskite films on NiO and NiO:5K as determined by the SCLC method with hole-only devices of FTO/NiO or NiO:5K/perovskite/spiro-OMeTAD/Ag. (e) Steady-state PL spectra, (f) normalized steady-state PL spectra and (g) TRPL spectra of different samples including glass/perovskite, FTO/NiO/perovskite, FTO/NiO:3K/perovskite, FTO/NiO:5K/perovskite, FTO/NiO:7K/perovskite, and FTO/NiO:10K/perovskite.	 
	(6)
	(7)
	(8)

 	Fig. 6  (a) Schematic of the charge-carrier transport balance model. (b) SCLC measurements of different HTLs with hole-only structures of FTO/NiO or NiO:5K/spiro-OMeTAD/Ag. (c) EIS Nyquist plots of devices based on different HTLs (inset shows the equivalent circuit employed to Nyquist fitting and the zoomed in figure of the EIS Nyquist plot). (d) Dark J–V curves of devices based on pure NiO and NiO:5K.	 
	(9)
	(10)
	(11)
Footnote
† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ta11782a

This journal is © The Royal Society of Chemistry 2019
