Trap engineering using oxygen-doped graphitic carbon nitride for high-performance perovskite solar cells   - Journal of Materials Chemistry C (RSC Publishing) DOI:10.1039/D3TC01711G View PDF Version  DOI: 10.1039/D3TC01711G
(Paper)
J. Mater. Chem. C, 2023, Advance Article Trap engineering using oxygen-doped graphitic carbon nitride for high-performance perovskite solar cells†
Yaling Leia, 
Xiaoyan Lia, 
Jingying Lianga, 
Junzhe Shia, 
Yunhao Weia, 
Pingli Qin*b, 
Hong Taoc, 
Jianjun Chena, 
Zuojun Tan*a and 
Hongwei Lei*a
aCollege of Science, Huazhong Agricultural University, Wuhan, 430070, China. E-mail: leihw@mail.hzau.edu.cn; tzj@mail.hzau.edu.cn
bHubei Key Laboratory of Optical Information and Pattern Recognition, School of Optical Information and Energy Engineering, Wuhan Institute of Technology, Wuhan, 430205, China. E-mail: qpl2015@wit.edu.cn
cHubei Key Laboratory of Plasma Chemistry and Advanced Materials, School of Materials Science and Engineering, Wuhan Institute of Technology, Wuhan 430205, China
Received 
17th May 2023
, Accepted 19th June 2023First published on 19th June 2023AbstractTrap-assisted non-radiative recombination is one of the main energy loss pathways in metal halide perovskite solar cells (PVSCs). Here in this work, oxygen-doped graphitic carbon nitride (g-C3N4-O) is introduced into the commonly used SnO2 electron transport layer (ETL) as an additive to engineer the traps at the ETL/perovskite interface. The interaction between g-C3N4-O and SnO2 could effectively and simultaneously mitigate the uncoordinated Sn dangling bonds and the –OH groups, which are the two dominant deep-traps at the ETL/perovskite interface. Trap-engineered PVSCs show optimized electrical properties with matched energy band alignment, improved electron transport and extended carrier lifetime. As a result, binary PVSCs modified with g-C3N4-O achieve a champion power conversion efficiency of over 21% and demonstrate high environmental stability.
1. Introduction
Organic–inorganic hybrid perovskite solar cells (PVSCs) have drawn enormous attention due to their simple low-temperature preparation process, superior optoelectronic properties, and remarkably high photo-to-electricity power conversion efficiencies (PCEs). PVSCs have a typical sandwich structure, in which the electron transport layers (ETLs) can effectively extract the photo-induced charge carriers and are very important to achieve high efficiency.1–6 At present, SnO2 has become one of the most widely used ETLs for high-performance planar PVSCs owing to its high transparency, high electron mobility, and superior band alignment with the perovskite.7,8 Since the first report of using SnO2 as an electron transport layer for low-temperature planar PVSCs in 2015, we have witnessed a rapid efficiency increment for PVSCs and now the record efficiency has been achieved in PVSCs based on the SnO2 ETL using a phase-stabilized perovskite as an absorber.9–11 Despite the rapid development of the SnO2 ETL, it still suffers from the ETL/perovskite interface recombination issues which would determine the key solar cell parameters for the state-of-the-art PVSCs.12 The SnO2/perovskite recombination mainly originates from two parts: (1) the uncoordinated Sn dangling bonds or the oxygen vacancies and (2) the –OH groups formed on the ETL surface during the solution fabrication process. Both are unfavourable traps and would cause non-radiative carrier recombination and deteriorate the device performance.13–16 To solve these problems, researchers have focused on improving the ETL quality by modifying the fabrication process or introducing additives to optimize the interfaces. For example, Liu et al. used EDTA-complexed SnO2 for planar-type PVSCs and increased the PCE to 21.60% with negligible hysteresis.17 Kim et al. utilized polyacrylic SnO2 quantum dots as an ETL to enhance light capture and suppress non-radiative recombination at the ETL/perovskite interface.18 Although enormous approaches have been reported, most of the methods can only partially tackle the problems, it is still important to find a cost-effective way to simultaneously resolve those two issues.
Graphitic carbon nitride (g-C3N4) is an n-type semiconductor with numerous advantages such as nontoxicity, low cost, simple preparation process, and tuneable bandgaps.19,20 More importantly, g-C3N4 offers a versatile platform to modulate the optoelectronic properties of the host materials because of the multifunctional organic groups in its chemical structure. Therefore, g-C3N4 has now been used in optoelectronic devices or applications beyond the photocatalysis fields.21–26 Wu et al. recently utilized g-C3N4 to improve the ETL quality, and improved efficiency has been realized after the incorporation of g-C3N4.27 However, considering that pure g-C3N4 usually shows insufficient charge carrier transport efficiency and can only partially heal the ETL or ETL/perovskite interface, it is still important to further modify g-C3N4 to minimize the electron trap-assisted non-radiative recombination in PVSCs.
In this work, oxygen-doped g-C3N4 (henceforth referred to as g-C3N4-O) was prepared and employed to engineer the traps in SnO2 ETLs for planar PVSCs. The oxygen was successfully doped into g-C3N4 and substituted the N atom position in the form of an N–CO/NC–O structure. Compared with the SnO2 ETLs without or with the pure g-C3N4 additive, the novel additive of g-C3N4-O can more efficiently suppress the formation of the traps including passivating the oxygen vacancies in SnO2 ETLs through the chemical bonding with the Sn atom under an oxygen-rich environment and reducing the –OH groups through the formation of the water molecule with the H atoms in g-C3N4-O. Binary MA0.7FA0.3PbI3 PVSCs with trap-engineered ETLs delivered a high PCE of 21.14% with good stability, showing an obvious improvement over that of the control devices. This method of using g-C3N4-O as an ETL additive provides an efficient way to simultaneously reduce the traps including the Sn dangling bonds and the –OH groups in SnO2 ETLs, inhibit the non-radiative recombination and enhance the photovoltaic performance and stability of PVSCs.
2. Experimental section
2.1 Materials
N,N-dimethylformamide (DMF), dimethyl sulfoxide (DMSO), chlorobenzene (CB), and SnO2 quantum dots solution were obtained from Alfa Aesar. 2,2′,7,7′-tetrakis (N,N-di-p-methoxyphenylamine)-9,9′-spirobi-fluorene (Spiro-OMeTAD) (99.8%), bis(trifuloromethanesulfonyl)imide lithium (Li-TFSI), 4-tert-butylpyridine (t-BP), methylammonium iodide (MAI), formamidinium iodide (FAI) and acetonitrile(C2H3N) were purchased from Xi’an polymer Light Technology Crop. PbI2 was purchased from TCI. Melamine, ammonia monohydrate (NH3·H2O) and hydrogen peroxide (H2O2) (30%) were obtained from Sinopharm Chemical Reagent Co, Ltd. All the materials were used as received without further purification.
2.2 Preparation of g-C3N4 and g-C3N4-O
First, bulk g-C3N4 was prepared by keeping the melamine in a crucible with a cover at 550 °C for 4 h. After heating, the bulk-g-C3N4 was ground into power for use. Then, 0.1 g of pure g-C3N4 and 30 mL of H2O2 (30%) were put into the flask and the suspension was stirred continuously for 30 min at room temperature. The mixture was further transferred into a reactor of Teflon and the reaction was carried out at 120 °C for 4 h. After the reaction, the obtained product, denoted as g-C3N4-O, was washed with distilled water and dried in an oven.
2.3 Device fabrication
Fluorine-doped tin oxide (FTO) substrates were sequentially cleaned with deionized water, acetone, and ethanol detergent in an ultrasonicator for 30 min, and dried with nitrogen. The dried substrates were treated in an UV-ozone cleaner for 15 min. Then, SnO2 precursors were spin-coated onto the treated FTO substrate and annealed on a hot plate at 150 °C and 180 °C for 30 min, respectively. Note that SnO2 precursors were prepared by diluting the SnO2 colloid precursor in NH3·H2O with a volume ratio of 1:3. The g-C3N4 or g-C3N4-O additive was added into tin oxide precursors. After the ETL cooled down, the substrates were moved to the glove box to deposit the perovskite and hole transport layer films. MA0.7FA0.3PbI3 perovskite precursor solution was prepared by dissolving 113 mg of MAI, 51.6 mg of FAI, and 461 mg of PbI2 in mixed DMF and DMSO (4:1, volume/volume). The precursor solution was spin-coated onto FTO/SnO2 at 4500 rpm for 40 s, and during the spin-coating, chlorobenzene was added dropwise in the last 9 s onto the spinning substrates. All the perovskite films were annealed at 60 °C for 3 min and then at 100 °C for 10 min in the glove box. Afterward, the hole transport material (HTM) was deposited by spin-coating a 72.3 mg mL−1 solution of Spiro-OMeTAD doped with 28.8 μL of t-BP and 17.5 μL of Li-TFSI (520 mg in 1 mL of acetonitrile) at 3000 rpm for 30 s. Finally, a layer of 80 nm silver electrode (Ag) was coated as a counter electrode by thermal evaporation.
2.4 Characterization
The crystal structure of the perovskite films was characterized by X-ray diffraction (XRD). Conventional XRD in the Bragg–Brentano configuration was performed using a Bruker D8 Advance diffraction meter with Cu Kα radiation at 40 kV and 40 mA. X-ray photoelectron spectroscopy (XPS) was performed on a Thermo Scientific Escalab 250Xi instrument. The absorption of powder (g-C3N4 and g-C3N4-O) was measured by UV-Vis diffuse reflection spectroscopy (UV-Vis DRS, Lambda650). The absorption and transmittance of the films were measured using a UV-vis-NIR spectrophotometer (UV2450, SHIMADZU) at RT. The surface morphologies were obtained using a scanning electron microscope (SEM, Hitachi SU8000). Photoluminescence (PL) and time-resolved PL (TRPL) measurements were carried out under a 475 nm laser at RT, and the emissions were collected via an Edinburgh FLS1000. Fourier transform infrared (FTIR) spectra were recorded with a reflectance (ATR) instrument (Nicolet iS 50) from 4000 to 525 cm−1 with a resolution of 2 cm−1 at RT. The contact angle was measured using a contact angle tester (SCA20, DATA PHYSICS). Ultraviolet photoelectron spectroscopy (UPS, Thermo Scientific, ESCLAB 250Xi) was carried out using Helium Iα radiation from a discharge lamp operated at 90 W, a pass energy of 10 eV, and a channel width of 25 meV. A −5 V bias was applied to the samples, in order to separate the sample and analyse low-kinetic-energy cutoffs. Solid-state 13C MAS nuclear magnetic resonance (NMR) spectra were obtained using a Bruker AVANCE III 400 MHz NMR spectrometer with a rate of 18 kHZ. Elemental analysis (EA) was performed on a Elementar vario MICRO Cube. The emission of additives (g-C3N4 and g-C3N4-O) was measured using a fluorescence spectrophotometer (RF-6000, Shimadzu Equipment Co., Ltd) with parameters involving an excitation wavelength of 350 nm. For OVCD measurements, the cell is illuminated at an open circuit to establish a photo-stationary state. The light is then switched off, and the decay in VOC is monitored as a function of time. The J–V curves of the photovoltaic cells were measured using a computer-controlled Keithley2450 Source Meter Unit at RT under simulated one-sun AM 1.5G illumination with an output intensity of 100 mW cm−2. The light intensity was calibrated using a standard silicon reference cell. The J–V measurements were carried out in a dry environment. The cell area is 0.045 cm2 defined by the shadow mask. The incident photon-to-electron conversion efficiency (IPCE) spectrum was obtained with a QE/IPCE measurement system (Enli Technology Co. Ltd).
3. Results and discussion
3.1 Preparation of novel additives
Melamine was used as the precursor to synthesize pure g-C3N4 powder at 550 °C in a temperature-controlled muffle furnace and the schematic diagram of the preparation process is shown in Fig. S1 (ESI†). To fabricate novel oxygen-doped g-C3N4, the pre-synthesized g-C3N4 powder was dissolved in 30% H2O2 solution and then was transferred to a sealed autoclave which was kept at 120 °C for 4 h.
Fig. 1a shows the optical absorbance spectra of g-C3N4 and g-C3N4-O. We noted that g-C3N4-O shows higher and wider light absorption than g-C3N4 in visible-light regions, suggesting that oxygen doping has reduced the bandgap values. The absorption edge near 460 nm was identified as the intrinsic electron transition (π → π*), and compared with g-C3N4, g-C3N4-O shows a new absorption peak at around 490 nm, which was attributed to the electron transition of n → π*. The generation of this n → π* is due to the distortion of the tris-s-triazine unit and the distortion of the pairwise plane of g-C3N4, which is beneficial for enhancing the optical absorption and exciton dissociation.28 This result indicates that the doping of O atoms would improve the photoresponse region of the material and facilitate the separation of excitons. Powder X-ray diffraction (XRD) spectra of g-C3N4 and g-C3N4-O are shown in Fig. 1b. The peaks located at 13.1° and 27.5° proved the successful synthesis of g-C3N4, and they are attributed to the (100) planes corresponding to the in-plane ordering of the nitrogen-linked heptazine units and the interlayer stacking of the (002) melem planes, respectively.26,29–31 We noticed that the peak intensity at 13.1° becomes weaker after doping with O atoms, indicating that the crystallinity of the repeating unit of g-C3N4 was decreased during thermal oxidation.32 This can be mutually confirmed with the conclusion drawn in Fig. 1a considering the distortion of the structure. No obvious phase peak shift was observed after oxygen doping, as shown in the inset of Fig. 1b, which is probably because the amount of oxygen in the lattice is quite small. To analyze the chemical structure of g-C3N4-O, the Fourier transform infrared (FTIR) spectra were recorded and are presented in Fig. 1c. Both g-C3N4 and g-C3N4-O displayed typical patterns of the graphitic carbon nitride. The breathing modes of the s-triazine ring system are all well detected at 807 cm−1.33,34 The broad peak between 3600 and 3000 cm−1 is caused by the N–H and O–H stretching vibrations.35–37 The peaks at 1242, 1322, 1412, 1563, and 1634 cm−1 are the typical stretching vibration modes of CN and C–N heterocycles.35–38 It is reported that the C–O, C–OH, and C–O–C groups are located at around 1410 and 1220 cm−1, respectively.39 This means the O-containing species in g-C3N4-O would be in the same region of aromatic CN and C–N. Hence, the low-intensity peak of C–O, C–OH, and C–O–C within g-C3N4-O may be covered, which leads to the difficulty of the O atom to be distinguished in g-C3N4-O.40–42 Fig. 1d shows the photoluminescence (PL) spectra of g-C3N4 and g-C3N4-O samples excited at 350 nm at room temperature. The emission peak of g-C3N4-O is slightly blue-shifted from 439 nm for pure g-C3N4 to 434 nm. This phenomenon also suggests that the oxygen is successfully doped, and the minimal downshift is believed to be caused by the quantum confinement effect.35,40,42 The intensity of the emission peak is significantly decreased after oxygen doping, which indicates that the recombination of electrons and holes is inhibited and implies a higher charge carrier transport efficiency in g-C3N4-O.40,42 The transmission electron microscopy (TEM) images of pure g-C3N4 and g-C3N4-O are shown in Fig. 1e and f. g-C3N4 presents a thick, irregular, and sheet-like appearance, while g-C3N4-O shows a much thinner layer than g-C3N4. This result suggested that g-C3N4-O has better solubility in polar solvents and may have more functional groups at the surface.
 Fig. 1  Typical (a) absorbance, (b) powder XRD patterns, (c) FTIR, and (d) photoluminescence spectra of g-C3N4 and g-C3N4-O powder; TEM images of (e) g-C3N4 and (f) g-C3N4-O. 
To investigate the surface elemental composition and chemical states of g-C3N4 and g-C3N4-O, X-ray photoelectron spectroscopy (XPS) measurement was performed. The corresponding whole scan spectra are shown in Fig. S2 (ESI†) and only three elements (C, N, and O) are detected in the samples. The high-resolution O 1s spectra are shown in Fig. 2a. For g-C3N4, it has two kinds of oxygens located at 533.5 and 532.3 eV, respectively. The former is described as the intermediates (O–N) of melamine thermal polymerization and the latter is attributed to the hydroxyl groups (–OH) from the absorbed water molecules on the surface.43 g-C3N4-O shows a small binding energy upshift for the –OH group, suggesting that the surface –OH group tends to be absorbed with higher electronegativity O atoms rather than N atoms (ion electronegativity: O, 3.5, N, 3.0, C, 2.5). Moreover, a new O 1s peak cored at 531.1 eV appeared and was ascribed to the N–CO/NC–O species in the lattice.40,44 This evidence proves that oxygen atoms have been doped into the g-C3N4-O lattice and substituted the N atom's position. The C 1s spectra are shown in Fig. 2b. The spectrum of g-C3N4-O has been deconvoluted into four peaks with binding energies at approximately 284.8, 286.4, 288.0, and 288.6 eV corresponding to the adventitious type of carbon sp3 C–C, C–N, NC–N, and N–CO/NC–O, respectively.45–48 The binding energy of C 1s at 288.0 eV of g-C3N4-O shifted to a lower binding energy after oxidation, showing the existence of electron transfer within the material.49 The new peak at 288.6 eV in g-C3N4-O suggests that the oxidation occurred at the tri-s-triazine of g-C3N4. Fig. 2c shows the N 1s spectra of g-C3N4 and g-C3N4-O. The N 1s spectrum of g-C3N4-O consists of four peaks at 398.1 eV (for CN–C), 398.9 eV (for N–(C)3), 400.6 eV (for amino functional groups), and 404.4 eV (for π–π), respectively.48,49 Both g-C3N4 and g-C3N4-O show the same peak position with different peak proportions. Notably, compared with g-C3N4, the quantitative analysis proved that the N–H ratio decreased from 28% to 22% after oxidation, implying that the N atom was partially replaced by the O atom.
 Fig. 2  The high-resolution XPS spectra of g-C3N4 and g-C3N4-O: (a) O 1s scan, (b) C 1s scan, and (c) N 1s scan and (d) NMR spectra of g-C3N4 and g-C3N4-O. 
We performed elemental analysis (EA) on the g-C3N4 materials before and after oxidation. The results showed a slight increase of the C/N ratio from 0.483 (g-C3N4) to 0.486 (g-C3N4-O), indicating that the amount of doped-oxygen was low, and also proving that the N atoms are partially substituted by the O atoms. Solid-state nuclear magnetic resonance (NMR), as shown in Fig. 2d, can further support this conclusion. From the spectra, it can be observed that the 13C spectra of the g-C3N4 samples show two peaks at 156.37 and 164.80 ppm, respectively, indicating the existence of two types of carbon atoms in g-C3N4 and g-C3N4-O samples. The peak at 156.37 ppm is attributed to C–NHx, while the peak at 164.8 ppm is attributed to NC–N.50 Compared with g-C3N4, both two types of carbon atoms in the 13C NMR spectra of g-C3N4-O have shifted to a slightly higher value, suggesting the formation of NC–O/OC–N bonds. This finding further demonstrates that the oxygen atom has been doped into the bulk material of g-C3N4 and substituted the position of the N, which is consistent with the above XPS and EA analysis.
3.2 Photovoltaic performance of PVSCs based on novel ETL additives
Considering that g-C3N4-O has multifunctional chemical groups at the surface such as the C–O and N–H, we introduced g-C3N4-O into SnO2 precursors as additives with the motivation of passivating the traps in the ETL or at the ETL/perovskite surface and enhancing the carrier transport. Fig. S3a (ESI†) shows the optical transmission spectra of the FTO substrates coated with SnO2 and SnO2/pure g-C3N4 (or g-C3N4-O) (shortened to g-SnO2 (g-O-SnO2) hereafter) films with the same thickness. The additive incorporation causes a negligible effect on the light incidence. The absorption spectra of the perovskite film on different ETLs also have similar absorption intensities, as shown in Fig. S3b (ESI†). To study if the incorporation of additives in the ETL would affect the crystallization of the perovskite film, we compared the surface morphologies of perovskite films on SnO2, g-SnO2, and g-O-SnO2 ETLs in Fig. 3a, b, and c, respectively. We notice that the grains of perovskites deposited on the g-O-SnO2 ETL are more uniform and smoother. Small pinholes are observed in the control films and the porosities of the perovskite films are 18.29% (SnO2), 10.90% (g-SnO2), and 5.67% (g-O-SnO2), respectively. The higher quality of perovskite films deposited on the g-O-SnO2 ETL implies that the additive is beneficial for the homogeneous nucleation of the perovskite films.
 Fig. 3  Surface morphologies of MA0.7FA0.3PbI3 perovskite films deposited on (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs; (d) J–V curves of the best-performing devices based on different ETLs; (e) steady-state photocurrent and efficiency at the maximum power output point; (f) IPCE of the corresponding PVSCs. 
To investigate the effect of g-C3N4-O on solar cell performance, g-C3N4 and g-C3N4-O were incorporated into SnO2 and PVSCs with a structure of FTO/ETL (SnO2)/perovskite/HTL (spiro-OMeTAD)/Ag were fabricated. The photocurrent density–voltage (J–V) characteristic curves of the champion devices are shown in Fig. 3d, and the corresponding parameters are summarized in Table S1 (ESI†). It is obvious that the additives increase the overall performance of PVSCs, especially the open-circuit voltage (VOC) and short-circuit current density (JSC). The best performing devices are based on g-O-SnO2 ETLs and delivered a PCE of 21.14% with a VOC of 1.11 V, a JSC of 24.44 mA cm−2 and a fill factor (FF) of 77.94% under AM 1.5 G reverse scan. Note that this efficiency is among the high-efficiency levels for the binary MA-dominant MA0.7FA0.3PbI3 PVSCs (the PCEs are summarized in Table S2 in the ESI†) and further improvement is expected by passivating the perovskite top surfaces to minimize the energy losses. We also measured the steady-state photocurrent and efficiency at the maximum power point and the results are shown in Fig. 3e. The devices based on the g-O-SnO2 ETL exhibited a steady efficiency of 19.94% throughout the 60 s at a bias of 0.86 V, outperforming the devices based on pure SnO2 and g-SnO2 ETLs. The incident photon-to-electron conversion efficiency (IPCE) of the three types of solar cells is shown in Fig. 3f. It can be seen from the figure that the IPCE of the g-C3N4-O group device is significantly higher than that of the control group and the g-C3N4 group. The integrated values of the IPCE calculation correspond to 23.27 mA cm−2, 22.96 mA cm−2, and 24.32 mA cm−2, respectively, which correspond well to the JSC results in the J–V curves. It is noted that the light response in the long wavelength range is improved after incorporation of g-C3N4-O, and this is because the trap-induced non-radiative carrier recombination is reduced by the additive as will be proved in the following section. By performing forward and reverse scans on the three kinds of solar cells, the hysteresis effect of the device can be determined. As shown in Fig. S4 (ESI†), the devices based on g-O-SnO2 show reduced hysteresis and further optimization is needed to fully eliminate the hysteresis of the planar devices. Besides, the statistical efficiency results are presented in Fig. S5 (ESI†), representing the high reproducibility of the performance enhancement.
To explore the impact of the additives on device stability, we prepared perovskite films with the same thickness on different ETLs and recorded their moisture stability (humidity∼60%) after varying storage times. Fig. 4a shows the XRD patterns of perovskite films deposited on SnO2 without additives. It is observed that the diffraction peak of PbI2 starts to show up after 3 days of storage, and the intensity of the PbI2 phase becomes much higher than that of the perovskite (110) phase after 15 days. For the perovskite films deposited on the SnO2 ETL with g-C3N4, we note that the PbI2 phase also appears after 3 days (Fig. 4b). While after 15 days the intensity of the PbI2 phase exceeds slightly that of the perovskite phase. Fig. 4c displays the XRD patterns of perovskite films deposited on the SnO2 ETL with the g-C3N4-O additive. We can find that the perovskite layer is quite stable and shows no lead iodide precipitation, and after 15 days, the intensity ratio (1.041) between the lead iodide and the perovskite peak is much smaller than that of the films based on SnO2 (2.747) and g-SnO2 (1.134) ETLs. We further measured the water contact angle of the perovskite films deposited on different ETLs and the results are shown in the inset of Fig. 4a, b, and c, respectively. It reveals that the water contact angles slightly increased from 51.3° (perovskite on the SnO2 layer) to 63° (perovskite on the g-SnO2 layer) and 72° (perovskite on the g-O-SnO2 layer). This result proves that g-C3N4-O can change the hydrophobic nature of the perovskite film and improve the moisture stability of the perovskite films and solar cell devices. To further study the thermal stability of the devices based on different ETLs, unencapsulated PVSCs were kept at 100 °C in ambient air under 40% humidity for 120 min and the solar cell performance was monitored and the related thermal stability is shown in Fig. 4d. It shows that the PCEs of PVSCs based on g-O-SnO2 can remain at nearly 80% of its initial efficiency after high-temperature aging, which is better than those of both the control device and the device based on g-SnO2. The above results indicate that g-C3N4-O additives can greatly increase the moisture and thermal stability of the perovskite. The enhancement of stability is understandable because the –NH groups in g-C3N4 and g-C3N4-O can efficiently passivate the defects of halide vacancies which are regarded as part of the origins of the perovskite instability and facilitate the formation of high-quality perovskite films with improved stability.26 The phenomenon can be proved from the XPS spectra of perovskite layers covered on different ETLs, which show a slight peak shift of the I 3d signal (Fig. S6 in the ESI†), and this shift originates from the interaction of lone pairs of electrons in g-C3N4 and g-C3N4-O with the iodine vacancies in the perovskite layer.
 Fig. 4  The monitored crystallinity evolution for perovskite films deposited on (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs, respectively. The inset shows the water contact angle on the corresponding perovskite surface; (d) the tracked thermal stability of PVSCs based on different ETLs aged upon continuous heating at 100 °C in ambient air. 
3.3 Mechanism understanding of the novel additives
We now turn to understand the mechanism of the performance improvement after the incorporation of the g-C3N4-O additive in PVSCs. We first studied the XPS spectra of the SnO2 ETLs with different additives. Fig. 5a–c present the O 1s scan of SnO2, g-SnO2, and g-O-SnO2 ETLs, respectively. The peaks at 531.18 eV directly proved the formation of the –OH group on the surface of SnO2, and the other peaks located at 529.88 eV correspond well to the Sn–O bonds in SnO2.13,51 Notably, the intensity ratio of the –OH to the saturated oxide (IOH/ISn–O) is reduced from 0.85 (SnO2 ETL) to 0.66 (g-SnO2 ETL) and 0.57 (g-O-SnO2 ETL). This result demonstrates that the –OH traps at the SnO2 surface are partially removed after the incorporation of the additives.52,53 The –OH traps at the SnO2 surface are more likely to be bonded with the incompletely paired Sn terminal or bridge groups in SnO2. We speculate that the additive can efficiently remove the –OH groups from the SnO2 surface through the dehydration reaction, as expressed using the formula: 
Sn–OH + HO-g-C3N4-O → Sn–O-g-C3N4-O + H2O
(1)
 Fig. 5  XPS patterns of O1 s scan for (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs, and (d) Sn 3d scan for different ETLs; (e) dark J–V curves of the electron-only devices; (f) time-resolved PL spectra of perovskite films deposited on FTO/ETL substrates. 
It is also noted that the g-O-SnO2 ETL has even fewer –OH groups, this is because the above dehydration reaction is easier than that between the SnO2 and g-C3N4 considering the higher electronegativity of O than N atoms. Another reason is the additional reduction of the incomplete paired Sn atoms induced by g-C3N4-O, as they are the possible –OH bonding sites and this conclusion will be discussed shortly. It is known that the –OH groups of SnO2 can generate deep trap states near the valence band and thus reducing the –OH groups will decrease the non-radiative recombination at the SnO2/perovskite interface.54 Meanwhile, we find that the peak of Sn 3d for the g-O-SnO2 ETL film has a 0.2 eV downshift toward lower binding energy compared to that of pristine SnO2, suggesting an increasing electron cloud density around the Sn atoms (Fig. 5d). While for the g-SnO2 ETL, the peak shift is negligible. This indicates a change in the electron cloud density around the Sn atoms because of the strong bonding between O and Sn when g-C3N4-O is introduced into pure SnO2.55 Since the electronegativity of oxygen is stronger than that of the nitrogen atom, after elemental substitution, the electron cloud density of the aromatic ring of carbon nitride increases, and an electrophilic substitution reaction is more likely to occur, attacking the dangling bond of the positively charged Sn atom. As a result, the vacancy of Sn is reduced, and a new chemical bond (Sn–O) is formed between the O atom in g-C3N4-O and Sn from SnO2. The electron-rich oxygen atom will transfer a part of the electrons to the Sn atom, which well explains the shift of the XPS spectrum of the Sn element for the g-O-SnO2 ETL. Therefore, we demonstrate that the g-C3N4 additive can only reduce the –OH group but turns out to be powerless to heal the Sn dangling bonds. While for g-C3N4-O additives, apart from reducing the –OH groups in SnO2, the O atoms in g-C3N4-O can additionally be bonded with the incomplete paired Sn atoms. So, both the hydroxyl group and the uncoordinated Sn dangling bonds, which are generally regarded as deep trap centers, can be effectively eliminated, or inhabited through g-C3N4-O additive incorporation. Moreover, we also analysed the XPS peak of Sn 3d and found that g-O-SnO2 has a larger ratio of Sn4+/Sn2+ than g-SnO2, with the results shown in Fig. S7 and Table S3 (ESI†). The presence of a higher Sn4+ oxidation state ratio in g-O-SnO2 indicates the formation of SnO2 with a better stoichiometry.
Furthermore, we use the space charge limited current (SCLC) method to quantitatively measure the trap density in solar cell devices. Electron-only devices with the structure of FTO/ETL/perovskite absorber/PCBM/Ag were fabricated, and the tested J–V curves of the electron-only devices are shown in Fig. 5e. The trap density (Nt) can be obtained using the following equation: 
(2)where Nt is the trap state density, ε0 presents the vacuum permittivity (8.8542 × 10–14 F cm−1), ε stands for the relative dielectric constant, VTFL is the applied voltage between the Ohmic and trap-filled limit region inflection point, e is the elementary charge and L is the thickness of the perovskite film. Accordingly, the electron trap densities of the devices based on SnO2, g-SnO2, and g-O-SnO2 ETLs were calculated to be 7.295 × 1016 cm−3, 4.418 × 1016 cm−3 and 1.768 × 1016 cm−3, respectively. The reduced densities prove the effectiveness of the newly synthesized additive of g-C3N4-O in healing the traps on the ETL surface and at ETL/perovskite interfaces. The greatly reduced leakage current of the device based on g-C3N4-O, as shown in Fig. S8 (ESI†), also indicates that the trap-induced recombination of charge carriers is significantly suppressed.56 We also measured the corresponding carrier dynamics of the MA0.7FA0.3PbI3 perovskite films deposited on different ETLs. The steady-state photoluminescence (PL) and time-resolved PL (TRPL) decay results are shown in Fig. S9 (ESI†) and Fig. 5f, respectively. All the samples were prepared on FTO/SnO2 substrates. From the PL spectra, we can see that the samples doped with carbon nitride exhibited reduced fluorescence intensity compared with the control sample, indicating that g-C3N4 and g-C3N4-O can effectively promote the photogenerated carrier transport and thus suppress the radiative recombination in perovskites.29 The TRPL decay curves are fitted using a bi-exponential decay function, yielding a fast (τ1) and slow (τ2) decay component. The corresponding fitted parameters are shown in Table S4 (ESI†). The widely accepted photophysical interpretation for ETL/perovskite interfaces is that τ1 originates from the quenching of the charge carried by the ETL, and τ2 is attributed to the radiative recombination of free charge carriers in the perovskite. The fast decay time of perovskites decreased from 46.82 ns (SnO2) and 42.54 ns (g-SnO2) to 35.38 ns (g-O-SnO2) when g-C3N4-O was introduced into the ETL, showing more efficient charge carrier extraction.57,58 The enhanced charge carrier extraction and reduced traps are beneficial for improving the solar cell performance.
Given the conclusion that the additive can reduce the traps and thus enhance the charge extraction, we then investigate the carrier lifetime in practical solar cell devices. The open circuit voltage decay (OCVD) curves of planar PVSCs based on different ETLs are shown in Fig. 6a. We observed three voltage dependent regions, i.e., the high voltage region under illumination related to free electrons, the exponential region under dark, reflecting trapping and detrapping processes, and the third region at a relatively low photovoltage related to surface states. We can investigate the recombination process by analysing the exponential region using the formula: 
(3)where kB is the Boltzmann constant, T is the temperature, and e is the positive elementary charge. Therefore, as shown in the inset of Fig. 6a, the PVSCs based on g-O-SnO2 presented the longest electron lifetime. This result further proves that the trap-induced recombination is greatly reduced after the incorporation of g-C3N4-O into the SnO2 ETLs.
 Fig. 6  (a) OCVD curves of the PVSCs based on SnO2, g-SnO2, and g-O-SnO2 ETLs, respectively. The inset shows the electron lifetime as a function of VOC; (b) the UPS spectra display the work function (left) and the difference between the Fermi level and valence band maximum (right) for the PVSCs; (c) energy level alignment of the PVSCs; (d) the trap engineering mechanism of the novel g-C3N4-O additive for PVSCs. 
The next remaining question is whether the interaction between g-C3N4-O and SnO2 would influence the electrical properties of ETLs. We first studied the charge transport or injection properties of devices with a structure of FTO/SnO2/Ag. The results are shown in Fig. S10 (ESI†). A higher injection current indicates better charge transport properties. The conductivity (σ) of the three ETL films (SnO2, g-SnO2 and g-O-SnO2) were calculated to be 1.78 × 10−2 S cm−1, 1.95 × 10−2 S cm−1, and 2.24 × 10−2 S cm−1, respectively. This is reasonable considering that the interaction between g-C3N4-O and SnO2 effectively alleviates two main deep traps of non-coordinated Sn dangling bonds and –OH groups at the interface, and thus the conductivity and the electron transport ability of the ETLs are improved.59 Ultraviolet photoelectron spectroscopy (UPS) was then performed to study the effect of g-C3N4 and g-C3N4-O on the energy band levels of ETLs, as shown in Fig. 6b. The results and the calculation method are shown in Table S5 (ESI†). The band gap values (Eg) are determined by using ultraviolet-visible (UV-vis) absorption spectroscopy (Fig. S11, ESI†). Note that the bandgap of SnO2 did not change after the addition of additives (g-C3N4 and g-C3N4-O). It was found that the work function of the ETL has decreased from 4.01 eV to 3.95 eV and then to 3.69 eV for SnO2, g-SnO2 and g-O-SnO2, respectively. This is consistent with the higher conductivity which implies an upshift of the Fermi level. Fig. 6c shows the energy-level alignment of PVSCs. The conduction band minimum (ECBM) of SnO2 moves towards that of the perovskite after the modification, forming a smaller CBM offset and better matched energy alignment. This optimized energy-level alignment enables the additive modification or interaction allows the photogenerated electrons to be extracted from the perovskite layer to the ETL with slighter energy loss, which would not only benefit the separation, transport, and collection of carriers, but also help to increase the open-circuit voltage of the device.60
We have understood the bifunctional trap engineering mechanism of the SnO2 ETL and elucidated the trap engineering effect on the electronic properties of the ETL and PVSCs; we now present this novel strategy in Fig. 6d. All the proposed and experimentally verified interactions are marked in this schematic. g-C3N4-O has multiple functional groups such as –NH, the addition of this additive can repair part of the defects in SnO2 (ETL) through the interaction of functional groups with the –OH in SnO2. Through one-step oxidation, O atoms are further introduced into the host material, substitute the N atom position, and stay in the lattice in the form of the –NC–O group and terminal –OH group, forming a new additive of g-C3N4-O, and the incorporation of this kind of additive can heal the traps of the SnO2 ETL by a dehydration reaction between the functional groups (–NH, –OH) and the –OH group on the SnO2 surface. More importantly, the N–CO/NC–O groups in g-C3N4-O can eliminate the uncoordinated Sn dangling bonds through the interaction between the Sn and O atoms. Therefore, g-C3N4-O can simultaneously reduce the Sn dangling bonds and the –OH groups in SnO2 ETLs which are commonly regarded as the trap centers in PVSCs. This trap engineering strategy has positive effects on the electrical properties of the ETLs and perovskite films and devices. Additionally, the –NH group can also be bonded with the I atoms in the perovskite, preventing the formation of I vacancies and facilitating the perovskite film growth process. So, g-C3N4-O can efficiently inhibit non-radiative recombination, improve charge carrier transport, and enhance the photovoltaic performance and stability of PVSCs.
4. Conclusions
In summary, we used novel oxygen-doped g-C3N4 as an additive to engineer the traps in SnO2 ETLs and PVSCs. The systematic characterization demonstrates that oxygen has been doped into the g-C3N4 lattice and substituted the nitride position in the form of the N–CO/NC–O or –OH structure. These multifunctional groups make g-C3N4-O a promising candidate for tailoring the traps in optoelectronic materials and devices. We proved that PVSCs based on novel SnO2 ETLs with an oxygen-doped g-C3N4 additive would deliver enhanced performance with higher PCE and improved humidity and thermal stability than PVSCs based on pure SnO2 ETLs or SnO2 ETLs with a g-C3N4 additive. This is because g-C3N4-O can reduce the Sn dangling bonds in SnO2 ETLs through the interaction between N–CO/NC–O and the uncoordinated Sn atom. And simultaneously it can eliminate the –OH groups in SnO2 ETLs by a dehydration reaction. Therefore, these two kinds of deep trap centers in SnO2 ETLs and PVSCs, which would cause non-radiative recombination and energy losses, are effectively healed and thus the electrical properties of ETLs and PVSCs are greatly optimized. Our study provides an innovative method of using g-C3N4-O to tailor the traps and other electrical properties for realizing high-performance and stable perovskite solar cells.
Author contributions
Y. Lei and H. Lei conceived and designed this study. Y. Lei performed the experiments. X. Li and Y. Wei helped to synthesize the additives and fabricate the PVSCs. J. Liang, J. Shi and H. Tao assisted in the characterization of films and devices. Y. Lei and H. Lei wrote the manuscript. J. Chen, P. Qin and Z. Tan reviewed and edited the manuscript. All the authors read and approved the manuscript.
Conflicts of interest
There are no conflicts to declare.
AcknowledgementsThis work was financially supported by the National Natural Science Foundation of China (Grant No. 11904115 and 12004289), the Open Foundation of Hubei Key Laboratory of Optical Information and Pattern Recognition of Wuhan Institute of Technology (Grant No. 202103), and the Fundamental Research Funds for the Central Universities (Grant No. 2662023LXPY006 and 2662020LXPY008).
Notes and referencesA. Kojima, K. Teshima, Y. Shirai and T. Miyasaka, J. Am. Chem. Soc., 2009, 131, 6050–6051 CrossRef CAS PubMed .W. S. Yang, B.-W. Park, E. H. Jung, N. J. Jeon, Y. C. Kim, D. U. Lee, S. S. Shin, J. Seo, E. K. Kim and J. H. Noh, Science, 2017, 356, 1376–1379 CrossRef CAS PubMed .P. V. Kamat, K. Tvrdy, D. R. Baker and E. J. Radich, Chem. Rev., 2010, 110, 6664–6688 CrossRef CAS PubMed .J. Xi, C. Piao, J. Byeon, J. Yoon, Z. Wu and M. Choi, Adv. Energy Mater., 2019, 9, 1901787 CrossRef .Q. Jiang, Y. Zhao, X. Zhang, X. Yang, Y. Chen, Z. Chu, Q. Ye, X. Li, Z. Yin and J. You, Nat. Photonics, 2019, 13, 460–466 CrossRef CAS .M. Kim, G.-H. Kim, T. K. Lee, I. W. Choi, H. W. Choi, Y. Jo, Y. J. Yoon, J. W. Kim, J. Lee and D. Huh, Joule, 2019, 3, 2179–2192 CrossRef CAS .Q. Jiang, X. Zhang and J. You, Small, 2018, 14, 1801154 CrossRef PubMed .Q. Jiang, Z. Chu, P. Wang, X. Yang, H. Liu, Y. Wang, Z. Yin, J. Wu, X. Zhang and J. You, Adv. Mater., 2017, 29, 1703852 CrossRef PubMed .W. Ke, G. Fang, Q. Liu, L. Xiong, P. Qin, H. Tao, J. Wang, H. Lei, B. Li and J. Wan, J. Am. Chem. Soc., 2015, 137, 6730–6733 CrossRef CAS PubMed .G. Yang, F. Yao, Z. Chen, Q. Zhang, X. Zheng, J. Ma, H. Lei, P. Qin, L. Xiong, W. Ke, G. Li, Y. Yan and G. Fang, Adv. Mater., 2018, 30, 1706023 CrossRef PubMed .Y. Zhao, F. Ma, Z. Qu, S. Yu, T. Shen, H.-X. Deng, X. Chu, X. Peng, Y. Yuan and X. Zhang, Science, 2022, 377, 531–534 CrossRef CAS PubMed .X. Yang, L. Li, J. Wu, Q. Hu, Y. Wang, T. P. Russell, Y. Tu and R. Zhu, Sol. RRL, 2021, 5, 2100457 CrossRef CAS .S. Huang, N. Ali, Z. Huai, J. Ren, Y. Sun, X. Zhao, G. Fu, W. Kong and S. Yang, Org. Electron., 2020, 78, 105555 CrossRef CAS .J. Tao, Z. Yu, X. Liu, J. Xue, J. Shen, H. Guo, W. Kong, G. Fu and S. Yang, J. Mater. Chem. C, 2022, 10, 8414–8421 RSC .G. Yang, C. Wang, H. Lei, X. Zheng, P. Qin, L. Xiong, X. Zhao, Y. Yan and G. Fang, J. Mater. Chem. A, 2017, 5, 1658–1666 RSC .J. Chen, X. Zhao, S. G. Kim and N. G. Park, Adv. Mater., 2019, 31, 1902902 CrossRef PubMed .D. Yang, R. Yang, K. Wang, C. Wu, X. Zhu, J. Feng, X. Ren, G. Fang, S. Priya and S. F. Liu, Nat. Commun., 2018, 9, 1–11 CrossRef PubMed .M. Kim, J. Jeong, H. Lu, T. K. Lee, F. T. Eickemeyer, Y. Liu, I. W. Choi, S. J. Choi, Y. Jo and H.-B. Kim, Science, 2022, 375, 302–306 CrossRef CAS PubMed .S. Patnaik, S. Martha and K. Parida, RSC Adv., 2016, 6, 46929–46951 RSC .G. Dong, Y. Zhang, Q. Pan and J. Qiu, J. Photochem. Photobiol., C, 2014, 20, 33–50 CrossRef CAS .X. Chen, Q. Liu, Q. Wu, P. Du, J. Zhu, S. Dai and S. Yang, Adv. Funct. Mater., 2016, 26, 1719–1728 CrossRef CAS .T. R. Chetia, M. S. Ansari and M. Qureshi, J. Mater. Chem. A, 2016, 4, 5528–5541 RSC .L. Zhou, Y. Xu, W. Yu, X. Guo, S. Yu, J. Zhang and C. Li, J. Mater. Chem. A, 2016, 4, 8000–8004 RSC .Q. Gao, S. Sun, X. Li, X. Zhang, L. Duan and W. Lü, Nanoscale Res. Lett., 2016, 11, 1–9 CrossRef CAS PubMed .A. Rb. M. Yusoff and M. K. Nazeeruddin, J. Phys. Chem. Lett., 2016, 7, 851–866 CrossRef CAS PubMed .L. L. Jiang, Z. K. Wang, M. Li, C. C. Zhang, Q. Q. Ye, K. H. Hu, D. Z. Lu, P. F. Fang and L. S. Liao, Adv. Funct. Mater., 2018, 28, 1705875 CrossRef .J. B. Chen, H. Dong, L. Zhang, J. R. Li, F. H. Jia, B. Jiao, J. Xu, X. Hou, J. Liu and Z. X. Wu, J. Mater. Chem. A, 2020, 8, 2644–2653 RSC .S. An, G. Zhang, K. Li, Z. Huang, X. Wang, Y. Guo, J. Hou, C. Song and X. Guo, Adv. Mater., 2021, 33, 2104361 CrossRef CAS PubMed .L. Wang, L. Fu, B. Li, H. Li, L. Pan, B. Chang and L. Yin, Sol. RRL, 2021, 5, 2000720 CrossRef CAS .Y.-C. Pu, H.-C. Fan, T.-W. Liu and J.-W. Chen, J. Mater. Chem. A, 2017, 5, 25438–25449 RSC .A. Thomas, A. Fischer, F. Goettmann, M. Antonietti, J.-O. Müller, R. Schlögl and J. M. Carlsson, J. Mater. Chem., 2008, 18, 4893–4908 RSC .P. Niu, L. Zhang, G. Liu and H. M. Cheng, Adv. Funct. Mater., 2012, 22, 4763–4770 CrossRef CAS .X. Li, J. Zhang, L. Shen, Y. Ma, W. Lei, Q. Cui and G. Zou, Appl. Phys. A., 2009, 94, 387–392 CrossRef CAS .Y. Xu, H. Xu, J. Yan, H. Li, L. Huang, J. Xia, S. Yin and H. Shu, Colloids Surf., A, 2013, 436, 474–483 CrossRef CAS .X. She, H. Xu, Y. Xu, J. Yan, J. Xia, L. Xu, Y. Song, Y. Jiang, Q. Zhang and H. Li, J. Mater. Chem. A, 2014, 2, 2563–2570 RSC .H. Xu, J. Yan, X. She, L. Xu, J. Xia, Y. Xu, Y. Song, L. Huang and H. Li, Nanoscale, 2014, 6, 1406–1415 RSC .X. She, L. Liu, H. Ji, Z. Mo, Y. Li, L. Huang, D. Du, H. Xu and H. Li, Appl. Catal., B, 2016, 187, 144–153 CrossRef CAS .Y. Li, J. Zhang, Q. Wang, Y. Jin, D. Huang, Q. Cui and G. Zou, J. Phys. Chem. B, 2010, 114, 9429–9434 CrossRef CAS PubMed .G. Liao, S. Chen, X. Quan, H. Yu and H. Zhao, J. Mater. Chem., 2012, 22, 2721–2726 RSC .J. Li, B. Shen, Z. Hong, B. Lin, B. Gao and Y. Chen, Chem. Commun., 2012, 48, 12017–12019 RSC .Y. Wang, J. Zhang, X. Wang, M. Antonietti and H. Li, Angew. Chem., Int. Ed., 2010, 49, 3356–3359 CrossRef CAS PubMed .H.-J. Li, B.-W. Sun, L. Sui, D.-J. Qian and M. Chen, Phys. Chem. Chem. Phys., 2015, 17, 3309–3315 RSC .J. Fu, B. Zhu, C. Jiang, B. Cheng, W. You and J. Yu, Small, 2017, 13, 1603938 CrossRef PubMed .Z.-F. Huang, J. Song, L. Pan, Z. Wang, X. Zhang, J.-J. Zou, W. Mi, X. Zhang and L. Wang, Nano Energy, 2015, 12, 646–656 CrossRef CAS .Y. Wen, D. Qu, L. An, X. Gao, W. Jiang, D. Wu, D. Yang and Z. Sun, ACS Sustainable Chem. Eng., 2018, 7, 2343–2349 CrossRef .W. Ma, N. Wang, Y. Guo, L. Yang, M. Lv, X. Tang and S. Li, Chem. Eng. J., 2020, 388, 124288 CrossRef CAS .Q. Liang, Z. Li, X. Yu, Z. H. Huang, F. Kang and Q. H. Yang, Adv. Mater., 2015, 27, 4634–4639 CrossRef CAS PubMed .Z. Li, S. Wu, J. Zhang, Y. Yuan, Z. Wang and Z. Zhu, Sol. RRL, 2020, 4, 1900413 CrossRef CAS .X. Wang, Y. Zhao, M. Gao, N. Cao, K. Liu, C. Li, X. Zhao, Y. Ren, J. Feng and T. Wei, Sep. Purif. Technol., 2021, 264, 118424 CrossRef CAS .Y. Zhang, Z. Chen, J. Li, Z. Lu and X. Wang, J. Energy Chem., 2021, 54, 36–44 CrossRef .X. Shi, R. Chen, T. Jiang, S. Ma, X. Liu, Y. Ding, M. Cai, J. Wu and S. Dai, Sol. RRL, 2020, 4, 1900198 CrossRef CAS .F. Guo, X. Sun, B. Liu, Z. Yang, J. Wei and D. Xu, Angew. Chem., 2019, 131, 18631–18636 CrossRef .G. Gaggiotti, A. Galdikas, S. Kačiulis, G. Mattogno and A. Setkus, J. Appl. Phys., 1994, 76, 4467–4471 CrossRef CAS .J. Jia, C. Qian, Y. Dong, Y. F. Li, H. Wang, M. Ghoussoub, K. T. Butler, A. Walsh and G. A. Ozin, Chem. Soc. Rev., 2017, 46, 4631–4644 RSC .J. Zhuang, P. Mao, Y. Luan, N. Chen, X. Cao, G. Niu, F. Jia, F. Wang, S. Cao and J. Wang, Adv. Funct. Mater., 2021, 31, 2010385 CrossRef CAS .Y. Zhang, L. Xu, Y. Wu, Q. Zhou, Z. Shi, X. Zhuang, B. Liu, B. Dong, X. Bai and W. Xu, Nano Energy, 2021, 90, 106610 CrossRef CAS .J. Tian, Q. Xue, X. Tang, Y. Chen, N. Li, Z. Hu, T. Shi, X. Wang, F. Huang and C. J. Brabec, Adv. Mater., 2019, 31, 1901152 CrossRef PubMed .M. M. Elsenety, A. Stergiou, L. Sygellou, N. Tagmatarchis, N. Balis and P. Falaras, Nanoscale, 2020, 12, 15137–15149 RSC .R. Keshtmand, M. R. Zamani-Meymian, F. Mohamadkhani and N. Taghavinia, Sol. Energy, 2021, 228, 253–262 CrossRef CAS .J. Tao, Z. Yu, X. Liu, J. Xue, J. Shen, H. Guo, W. Kong, G. Fu and S. Yang, J. Mater. Chem. C, 2022, 10, 8414–8421 RSC .
Footnote† Electronic supplementary information (ESI) available. See DOI: https://doi.org/10.1039/d3tc01711gThis journal is © The Royal Society of Chemistry 2023
Table Content:

 	Fig. 1  Typical (a) absorbance, (b) powder XRD patterns, (c) FTIR, and (d) photoluminescence spectra of g-C3N4 and g-C3N4-O powder; TEM images of (e) g-C3N4 and (f) g-C3N4-O.	 

 	Fig. 2  The high-resolution XPS spectra of g-C3N4 and g-C3N4-O: (a) O 1s scan, (b) C 1s scan, and (c) N 1s scan and (d) NMR spectra of g-C3N4 and g-C3N4-O.	 

 	Fig. 3  Surface morphologies of MA0.7FA0.3PbI3 perovskite films deposited on (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs; (d) J–V curves of the best-performing devices based on different ETLs; (e) steady-state photocurrent and efficiency at the maximum power output point; (f) IPCE of the corresponding PVSCs.	 

 	Fig. 4  The monitored crystallinity evolution for perovskite films deposited on (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs, respectively. The inset shows the water contact angle on the corresponding perovskite surface; (d) the tracked thermal stability of PVSCs based on different ETLs aged upon continuous heating at 100 °C in ambient air.	 

Sn–OH + HO-g-C3N4-O → Sn–O-g-C3N4-O + H2O
	(1)

 	Fig. 5  XPS patterns of O1 s scan for (a) SnO2, (b) g-SnO2, and (c) g-O-SnO2 ETLs, and (d) Sn 3d scan for different ETLs; (e) dark J–V curves of the electron-only devices; (f) time-resolved PL spectra of perovskite films deposited on FTO/ETL substrates.	 

	(2)

	(3)

 	Fig. 6  (a) OCVD curves of the PVSCs based on SnO2, g-SnO2, and g-O-SnO2 ETLs, respectively. The inset shows the electron lifetime as a function of VOC; (b) the UPS spectra display the work function (left) and the difference between the Fermi level and valence band maximum (right) for the PVSCs; (c) energy level alignment of the PVSCs; (d) the trap engineering mechanism of the novel g-C3N4-O additive for PVSCs.	 
Footnote
† Electronic supplementary information (ESI) available. See DOI: https://doi.org/10.1039/d3tc01711g

This journal is © The Royal Society of Chemistry 2023
