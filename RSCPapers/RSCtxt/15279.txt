Valence and conduction band tuning in halide perovskites for solar cell applications   - Journal of Materials Chemistry A (RSC Publishing) DOI:10.1039/C6TA04949D View PDF VersionPrevious ArticleNext Article  DOI: 10.1039/C6TA04949D
(Paper)
J. Mater. Chem. A, 2016, 4, 15997-16002Valence and conduction band tuning in halide perovskites for solar cell applications†

        
          
            Simone 
            Meloni‡
a, 
      
        
          
            Giulia 
            Palermo§
a, 
      
        
          
            Negar 
            Ashari-Astani¶
a, 
      
        
          
            Michael 
            Grätzel
          
        
      b and 

        
          
            Ursula 
            Rothlisberger
          
        
      *a
aÉcole Polytechnique Fédérale de Lausanne, Laboratory of Computational Chemistry and Biochemistry (LCBC), Lausanne, CH-1015, Switzerland. E-mail: ursula.roethlisberger@epfl.ch;  Fax: +41 21 69 30320;   Tel: +41 21 69 30321  Tel: +41 21 69 30325
bÉcole Polytechnique Fédérale de Lausanne, Laboratory of Photonics and Interfaces (LPI), Lausanne, CH-1015, Switzerland
Received 
      13th June 2016
    , Accepted 24th August 2016First published on 25th August 2016AbstractWe performed density functional calculations aimed at identifying the atomistic and electronic structure origin of the valence and conduction band, and band gap tunability of halide perovskites ABX3 upon variations of the monovalent and bivalent cations A and B and the halide anion X. We found that the two key ingredients are the overlap between atomic orbitals of the bivalent cation and the halide anion, and the electronic charge on the metal center. In particular, lower gaps are associated with higher negative antibonding overlap of the states at the valence band maximum (VBM), and higher charge on the bivalent cation in the states at the conduction band minimum (CBM). Both VBM orbital overlap and CBM charge on the metal ion can be tuned over a wide range by changes in the chemical nature of A, B and X, as well as by variations of the crystal structure. On the basis of our results, we provide some practical rules to tune the valence band maximum, respectively the conduction band minimum, and thus the band gap in this class of materials.
1 Introduction
Mixed organic/inorganic and fully inorganic halide perovskites of the formula ABX3 (A = organic or inorganic monovalent cation, B = bivalent cation, X = halogen anion) (see Fig. 1), have recently emerged as highly efficient light harvesting and charge carrier transport materials for solar cells.1–3 Power Conversion Efficiencies (PCE), i.e. the percentage of solar light converted into electric current, as high as a certified 22.1% have been reported for perovskite based solar cells.4
 Fig. 1  Configurations of the equilibrium structure of several perovskites. Images are ordered in such a way that the corresponding structures can be thought of as a series of structural or alchemical alterations starting from the CsPbI3 cubic structure (A), with a lattice parameter a = 6.38 Å as a reference. In panels (B) and (C) the tetragonal and orthorhombic structures of CsPbI3 are shown, respectively. They can be obtained from the cubic analogue by tilting the PbI6 octahedra along their axis parallel to the tetragonal axis (tetragonal structure) or along all of their three axes (orthorhombic). Tetragonal CsSnI3 is characterized by a tilting angle θ1 = 14.3° and a pseudocubic lattice parameter  (where V is the volume of the unit cell). In the orthorhombic CsSnI3, θ1 ∼ θ2 ∼ θ3 = 8.5° and a* = 6.30 Å. (D) is obtained from the cubic CsPbI3 by replacing Pb with Sn and I with Cl (θ1 = θ3 = θ3 = 0° and a = 5.85 Å). (E–G) are obtained from the cubic, tetrahedral and orthorhombic CsPbI3, respectively, by replacing Cs with Li. The corresponding tilting angle and pseudocubic lattice parameters are: (E) a = 6.32 Å; (F) θ1 = 20.3°, a = 6.12 Å; (G) θ1 = 20.5°, θ2 = 18.8°, θ3 = 10.8°, a = 5.81 Å. (H) and (I) are obtained by replacing Cs+ in the cubic CsPbI3 with NH4+ and PH4+, respectively. While PH4PbI3 preserves the original cubic symmetry (a = 6.32 Å), NH4PbI3 is triclinic (α = β = 85.8°, γ = 87.1°, α = 6.38 Å) and the PbI6 octahedra are highly distorted. 
Several strategies have been attempted to increase the PCE of halide perovskites, some targeting the quality of perovskite films, e.g. its uniformity1 and defect passivation,5 others focusing on the intrinsic optical and electronic properties, such as tuning of the band gap, Eg.6–10 In the latter case, the objective is obtaining a compound with a band gap close to the ideal value of 1.3 eV.11 Seok and coworkers have shown that in mixed I/Br perovskites, ABX3−xBrx, Eg can be tuned by changing the halide composition, x.7 In particular, in methyl ammonium lead iodide/bromide perovskites, MAPbI3−xBrx, (MA = methyl ammonium), the band gap widens with increasing x. It has also been shown that12 employing larger cations, which favor a more cubic-like structure, the band gap can be reduced. Different hypotheses have been put forward trying to explain the origin of band gap variation. Amat et al.12 suggested the structural variations of the PbI framework (e.g. the X–B–X angle) as the main parameter determining the band gap and in particular justified the effect of larger cations with lower octahedral tilting angles. Filip et al.13 further investigated this idea and studied the band gap dependence as a function of the orientation of PbI6 octahedra in a Platonic orthorhombic PbI3 perovskite, i.e. an orthorhombic lead iodide perovskite in which the monovalent cations are replaced by a background charge. They have shown that rotating the octahedra around the equatorial and apical bond angles in the domain consistent with the other structural constraints it is possible to change the band gap in the range 1.1–1.9 eV. They have also shown that by changing the monovalent cation one can tune the orientation of PbI6 octahedra, and through them the band gap. Kanatzidis and coworkers14 studied the dependence of the valence band maximum (VBM) and conduction band minimum (CBM) as a function of chemical composition, and concluded that in MASnI3−xBrx the widening of the band gap with the amount of Br is due to an increase in CBM rather than a lowering of VBM. Snaith and coworkers confirmed the findings of Seok and coworkers,7 and showed that a correlation exists between Eg and the pseudocubic lattice parameter of the crystalline sample.9 This relation inspired them to use the size of the monovalent cation, A, as a tuning parameter for changing Eg. An analogous strategy has been developed in parallel by Grätzel and coworkers,3,15,16 who also explored the effect of using a mixture of MA and formamidinium (FA) cations. While each of the aforementioned models is valid in the scope of the specific system under study, generalizations and extensions to other compounds are not so straight forward. For example, the conclusions of Amat et al.,12 are somewhat counterintuitive in the light of the results of Snaith and coworkers,9 where it is shown that FASnBr3, which has a cubic structure and smaller lattice constant, has a larger band gap than the tetragonal FASnI3. This apparently conflicting results suggest that there is a significant interplay between changes in the chemical composition and variations of the structure of the perovskite, and the combined effect of these two parameters on the band gap is non trivial.
The intricacy of the relation between chemical composition (beyond the substitution of monovalent cations), crystal structure and the electronic properties of perovskites calls for a comprehensive theory. Such a theory should aim at rationalizing experimental and computational results in terms of the effect of all essential variables, such as chemical composition, lattice size, as well as distortions in the form of tilting angles, on the electronic structure, and thus on the optical properties of perovskites. This is the objective of the present work. We consider a wide range of perovskites, differing in the chemical nature of the bivalent (Pb and Sn) and monovalent (Na, Li and Cs) cations, halogen composition (I, Br, Cl), and crystal symmetry (cubic, tetragonal and orthorhombic). We also considered lead-iodide perovskites with A = NH4+versus PH4+ to investigate the specific effects of hydrogen bonding on the electronic structure.
To this end, we performed density functional theory band structure calculations and analyzed the nature of VBM and CBM in terms of atomic orbitals. Interestingly, the character (i.e. the atomic orbital composition) of the band edges (VBM and CBM) remains largely unchanged for this wide range of different chemical and crystallographic variations. This observation suggested the use of an orbital-based parameter as a central descriptor to predict band gap variations. In fact, we show here how the effects of chemical composition and crystal structure on the bang gap can all be explained using such a parameter. Finally, as a rule of thumb, we show that strategies for tuning VBM and CBM energy levels, and the band gap must be crystal symmetry-dependent since cubic and tetragonal/orthorhombic structures follow different design guidelines.
2 Results and discussion
2.1 Variations in the crystal structure
We have performed DFT calculations for all chemical compositions (A = Na, Li and Cs, B = Pb and Sn and X = I, Br, Cl) in three perovskite phases. The resulting optimized cell parameters show that the chemical nature of halides and bivalent cations affects mainly the lattice constants (Fig. 1D), as expected on the basis of the well-established empirical relations between the ionic radii and the perovskite lattice size.17 The effect of substituting the monovalent cation, on the other hand, depends on the crystalline symmetry of the reference system. If the system is cubic, the replacement of the original cation results in a corresponding change of the lattice parameter of the crystal: if the new cation is larger the lattice expands, if it is smaller the lattice shrinks (Fig. 1E). While in the cubic case the value of the tilting angles θ1, θ2 and θ3, which measure the relative rotations of BX6 octahedra around the three main axes, are fixed to zero (see Fig. 1), in the tetragonal and orthorhombic phases, the substitution of A can alter both the size of the lattice and the tilting angles. The effect of substitution on the lattice size is analogous to the cubic case: larger cations expand the lattice, and vice versa. The tilting angle(s), instead, increases if the new cation is smaller, and decreases if it is larger (see Fig. 1G and E). This affects the linearity of the B–X–B angles: the more the structure is tilted, the more the B–X–B angles depart from the 180° value of the cubic structures. We observed values of θ in the range ∼7–19.5° for the non-zero tilting angles in the tetragonal structures, and ∼6.5–23° in the orthorhombic ones (where all tilting angles are non zero). Monovalent cations that form hydrogen bonds with the halides of the framework are a special case. Depending on the strength of the hydrogen bond, the cubic structure may or may not be a (meta)stable form. In fact, the structure obtained by replacing Cs+ with NH4+ in the cubic CsPbI3 turns out to be triclinic, with crystallographic angles α = β = 85.8° and γ = 87.1°. Moreover, strong hydrogen bonds induce deformations of the BX6 polyhedra (Fig. 1H). If Cs+ instead is replaced by a weaker hydrogen bond donor cation, e.g. PH4+, a stable cubic structure is obtained (Fig. 1I).
2.2 Variations in the electronic structure
To understand the origin of the experimentally observed band gap variations, we have characterized the influence of the chemical nature of A, B and X, and the crystalline symmetry on the VBM and CBM. It is worth remarking that simple hypotheses to explain the observed phenomenology, e.g. that the energy of VBM and CBM changes because the energy of the corresponding atomic orbitals change with the nature of the halide, turn out to be inadequate. Our calculations show that the difference between the VBM and CBM energy of perovskites formed by different halides change in a range of ∼2 eV (see Fig. S1†), and sometimes have an opposite sign with respect to the difference of energy between p atomic orbitals of the different halides (ΔEI/Br − ΔEBr/Cl = 0.5–0.6 eV). Thus, it is clear that other effects, discussed in the following, are responsible for the high tunability of the valence and conduction band energy, and, thus, the band gap of halide perovskites.
An interesting feature of all perovskites considered in this work is the universality of the electronic characteristics of their VBM and CBM. In fact, in all systems, VBM is formed by an antibonding combination of B ns and X mp orbitals, namely Sn-5s or Pb-6p, and Cl-3p, Br-4p or I-5p (see Fig. 2), also in agreement with previous findings.18,19 This orbital has a high covalent character, with a typical B/X atomic orbital contribution of ∼30–40/70–60%, depending on the chemical nature of A, B and X, and the crystal symmetry. CBM is also characterized by an antibonding combination, this time by B np and X ms orbitals (see also ref. 20). In contrast to VBM, the character of CBM is more ionic, with B orbitals contributing ∼70–90%. Therefore it seems that an atomic orbital based model could provide a universal framework to describe the band gap variations. In fact concerning the VBM level, the effect of changing symmetry, from cubic to tetragonal to orthorhombic, is reducing the overlap between B ns and X mp orbitals (see Fig. 2A–C). In the cubic structure X mp orbitals are aligned along the B–X bond. This alignment is worse in the other two structures; in particular it decreases along the series cubic → tetragonal → orthorhombic. As for monovalent cation substitution, an effect is observed that depends on the symmetry of the crystal. In cubic systems, in which the size of A affects only the size of the lattice, we observe an increase or decrease of the (negative) B-ns/X-mp overlap with the size of the cation. In tetragonal and orthorhombic crystals, in which the size of A affects both the lattice size and the tilting angles, two competing effects are present: increase or decrease of the B-ns/X-mp overlap due to (i) size of the lattice and (ii) the extent of tilting. The overlap increases with the shrinking of the lattice, like in the case of cubic systems, and decreases with the increase of θ. Calculations show that, typically, the second effect dominates, and the overlap is reduced in systems with smaller A. The chemical nature of A can affect VBM orbitals also in a more direct way, via polarization. This occurs when A can establish a relative strong bond with the halide of the framework, like for instance hydrogen bonds (Fig. 2D). The effect is twofold in this case. First, because the structure is highly distorted, the alignment of X-mp orbitals with B–X bonds is very poor. Second, the electron density on the X ion hydrogen bonded to A is higher, with corresponding charge depletion on the adjacent B cation and the remaining X ions. Both effects cooperate in reducing the antibonding B-ns/X-mp overlap. Finally, concerning the effects of halide substitution, the change of the chemical nature of this species affects mainly the geometry of the system by shrinking/expanding the lattice. However, the size of the p orbitals of X do not shrink/expand by the same amount, thus producing a change in the antibonding overlap with the halide composition of the perovskite.
 Fig. 2  VBM (blue frame) and CBM (red frame) orbitals of selected systems. Panels (A)–(C) shows how the tilting of BX6 octahedra affects the overlap: in the cubic structure (A) X mp orbitals are aligned with B–X bonds and the absolute value of the negative overlap is maximal (OVBM = −0.21). In tetrahedral (B) and orthorhombic (C) structures p orbitals are no longer well aligned, and the overlap diminishes (tetrahedral OVBM = −0.17, and ΔEVBM = −0.29 eV is the energy variation with respect to the cubic case; orthorhombic OVBM = −0.11, ΔEVBM = −0.54 eV). In the case of orthorhombic structures, the tilting along all the three axes of the octahedra further reduces the overlap, as shown from the lateral view of the crystal shown in the inset of panel (C). (D) Monovalent cations forming hydrogen bonds (green dashed lines) distort the framework reducing the overlap in analogy to the variations induced by tilting. In addition, hydrogen bonds polarize the VBM orbitals, resulting in an increase of electronic density on hydrogen bonded halide ions (red arrow), and a complementary reduction on the other anions (green arrow) and on bivalent cations. (E) and (F) CBM orbital in tetragonal CsPbI3 and CsPbCl3. The effect of halide substitution along the series I−, Br−, Cl− is moving the CBM electronic charge from B to X. For example, qB = 0.81 and ECBM = 0.76 eV in CsPbI3, and qB = 0.86 and ECBM = 0.34 eV in CsPbI3. A similar effect is produced by the change of crystal structure along the series cubic to tetragonal to orthorhombic, and with different monovalent cations. 
In summary, for what concerns the tunability of the VMB, all the changes induced by variations in chemical composition and crystal structure can be rationalized in terms of the overlap between the B ns and X mp atomic orbitals forming this state. According to a tight binding formulation, the energy of a crystal orbital depends on the overlap among the relevant atomic orbitals. In particular, the larger is the negative (antibonding) overlap the higher is the energy of the state. This argument, together with the above analysis, suggests that the key observable correlating with EVBM is the orbital overlap; A, B and X substitutions, and the crystal symmetry are all effective ways to alter the B ns/X mp overlap. To validate this idea we computed the overall overlap in the VBM orbital, , with  being the overlap between pairs of X and B atomic orbitals, and cj and cj projection coefficients of crystal orbitals onto the atomic ones. In Fig. 3, the correlation between OVBM and EVBM is shown. The fitting of this correlation with a linear function is very good for Sn-based perovskites (regression coefficient R2 ∼ 0.93), while it is somewhat poorer for Pb-based systems (R2 ∼ 0.52). However, for Pb-perovskites of single halides the correlation is once again linear (R2 ≥ 0.85). The VBM energy of single halide Pb-perovskites follows the order EClVBM < EBrVBM < EIVBM. This small but nonnegligible effect is due to the energy variations of X np orbitals, which grows along the series just introduced. The chemical nature of the halide is more important in the case of Pb perovskites because the VBM orbital is more ionic than in corresponding Sn-based systems. We also notice that the slope of the linear fitting is high in both Sn and Pb-based perovskites, indicating a high correlation between OVBMvs. Eg. This confirms our analysis, that all the modifications considered in experiments affect the band gap via the B ms and X np overlap.
 Fig. 3  
E
VBM (ECBM) vs. OVBM (OCBM) for Pb-based (right) and Sn-based (left) perovskites. EBCB is shifted as explained in the Methods section. The relation EVBMvs. OVBM is linear (R2 ∼ 0.93 and ∼0.53 for Sn-based and Pb-based perovskites, respectively) and has a large negative slope. In the case of Pb perovskites, if we fit EVBMvs. OTVB independently for each halides (continuous colored lines in the left panel) we obtain a much higher R2, ≥0.85. The linear fitting of ECBMvs. OCBM is poorer (R2 ∼ 0.33 and ∼0.38 for Sn-based and Pb-based perovskites, respectively), and the slope is lower. 
The above argument can be also invoked to explain the dependence of the CBM on chemical composition and crystal symmetry. Also in this case, OCBMvs. ECBM data show the expected trend of a decrease of the energy of the CBM with the overlap. However, data are more scattered and the slope is lower, suggesting a poorer correlation between the two observables. In the case of the CBM, the change of energy is mainly due to the electron density transfer from B to X (or vice versa) induced by the change of chemical composition and crystal structure (see Fig. 2E and F and 4 and S4†). Since the region around B is positive, and that around X is negative, moving charge from B to X increases the electrostatic energy of the orbital. This explanation is proven to be correct by computing the correlation between the charge on the B ion, qB, and ECBM. Indeed, there is a clear linear correlation between these two observables for the various perovskites of given B and X ions. The effect of changing halides from I to Br to Cl is to shift this linear correlation to higher energy values. This is because the Cl environment, which is more negative, is more repulsive to an additional electron than Br, which, in turn, is more repulsive than I.
 Fig. 4  
q
B and ECBM for Sn-based (left panel) and Pb-based (right panel) systems. 
It is remarkable that the composition and structural parameters affecting qB in the direction of increasing EBCB affect OVBM and ECBM in the opposite direction (Fig. S5†). Thus, a single parameter, OVBM, can be used to explain the entire experimental and computational phenomenology. The consequence of this fact is twofold. First, that chemical or structural alterations affect Eg by a synergic action on EVBM and ECBM: they change simultaneously in the direction of opening or closing the band gap (Fig. S1†). Second, at variance with other light harvesting materials, it is therefore not easy to tune the energy of the valence and conduction band of perovskites independently to optimize at the same time light harvesting and charge injection into the hole and electron transport materials. However, this does not mean that specific changes cannot affect more one than the other band. In fact, we found that specific modifications affect the two bands in different ways. Rather, we must conclude that for halide perovskites, while it is possible to derive simple design rules for the variations in the energy gap, it is not straightforward to derive similar guidelines for the change in the energy of VBM and CBM.
3 Conclusions
In a search for an unified criteria controlling the band gap of metal halide perovskites, ABX3, we performed electronic structure calculations on a vast number of compounds differing in chemical composition and crystallographic structure. Throughout these variations the atomic orbital composition of CBM and VBM remained intact, which suggested the use of orbital-overlap based rationalization scheme. In fact, doing so one can predict the effects of different chemical and structural variations in a simple way. In summary, chemical and structural changes increasing the negative overlap between orbitals of B and X ions result in a shrinking of the band gap. This principle can be used to suggest practical rules for tuning (lowering) of the gap. An increase in overlap can be achieved by choosing B and X so as to reduce the ratio between the lattice constant and the size of their respective s and p orbitals. In practice, it is possible to estimate this ratio by using ionic radii as a proxy for the lattice size,17 and covalent radii as a proxy for the size of B and X orbitals. For example, the variation of Eg with halide composition follows the trend of the ratio α = rI/rC, between their ionic (rI) and covalent (rC) radii: αI = 1.47; αBr = 1.58; αCl = 1.67. As for the substitution of the monovalent cation, in the case of tetragonal and orthorhombic structures, A must be large so as to reduce the tilting angles, which makes the structure as cubic-like as possible. At the same time, A should not make strong hydrogen bonds with the perovskite framework. Thus, cations that do not form hydrogen bonds are preferable. For example, PH4+ is better than NH4+: the former is larger than the latter, and it forms weaker hydrogen bonds.
4 Methods
Density Functional Theory (DFT) calculations are performed using the Quantum Espresso suite of codes.21 We use the Generalized Gradient Approximation (GGA) to density functional theory in the Perdew–Burke–Ernzerhof (PBE) formulation22 and, for selected systems, the range separated hybrid exchange and correlation functional of Heyd, Scuseria, and Ernzerhof (HSE).23 The interaction between valence electrons and core electrons and nuclei is described by ultrasoft pseudopotentials. Norm conserving pseudopotentials are used in the case of HSE calculations. In GGA calculations, Kohn–Sham orbitals are expanded in a plane wave basis set with a kinetic energy cutoff of 40 Ry, and a cutoff of 240 Ry for the density in the case of ultrasoft pseudopotentials. HSE calculations are performed with a cutoff of 60 Ry. The Brillouin zone is sampled with a 3 × 3 × 3 and 4 × 4 × 4 Monkhorst–Pack k-points grid24 for cubic and tetragonal/orthorhombic structures, respectively. The above values are chosen by checking the convergence of total energy, band gap and atomic forces.
Sn-Based computational systems are prepared starting from experimental structures for CsSnBr3,25 replacing Cs+ with Na+, Li+, NH4+ and PH4+; and Br− with Cl− and I−, as needed. Structures (atomic positions and lattice parameters) are then fully relaxed. Cubic samples consist of a 2 × 2 × 2 supercell containing 8 stoichiometric units. For the body-centered tetragonal structures, we considered the simple tetragonal analogue, which contains 4 stoichiometric units. Finally, for the orthorhombic structure we used the experimental unit cell, which already contains 4 stoichiometric units. Pb-Based samples are created using the same protocol starting from experimental structures of ref. 26 and 27.
On the optimized structures, bands calculations are performed including Spin Orbit Coupling effects (SOC) according to the method proposed by Dal Corso and Mosca Conte.28 For this, pseudopotentials obtained from fully relativistic all electrons atomic data are used.
Comparing the energy of Kohn–Sham (KS) orbitals in solid-state systems is difficult because in periodic boundary calculations there is no reference value. Several techniques have been developed to cope with this problem. Two well established techniques are based on the study of interfaces or surfaces (i.e. an interface with vacuum). Which one to adopt depends on the problem at hand, whether one is interested in the interface between two materials or the effect of a surface on the bands. Another technique has been used in the case of both bulk and interface systems. This consists in taking as reference localized deep impurity states29,30 or the atomic states of the chemical species present in the system, e.g. the O-2s states in refs. 31–34, (i.e. states that are expected to be unaffected by the chemical and structural nature of the system). The rational behind this approach is that the energy of these states is not expected to change from one computational sample to another. Thus, any change in their energy observed among a set of systems is due to the arbitrary shift associated to the lack of any absolute reference. The difference of energy of this state among the systems of the set can be used for an alignment of their bands. This procedure is illustrated in Fig. S7.† One drawback of this approach is that it is not general like the interface/surface based alignment procedures, as one has to rely on the existence of such atomic states. Nevertheless, if such states are present, this procedure provides an accurate and computationally cheap approach for defining a proper reference.
In the present case, we use as reference nd orbitals of Pb and Sn. In Fig. S7† the density of states (DOS) of orthorhombic CsPbI3, LiPbI3 and CsPbBr3, and tetragonal CsPbI3 are shown. It is evident that while the other bands change among the four systems the band at ∼−15 eV, corresponding to Pb-5d is only rigidly shifted, supporting the hypothesis that the vacuum levels of these atomic orbitals are independent of the system considered in the present work. To further confirm the reliability of this approach, we compared the DOS as obtained by the atomic orbital alignment and the well established vacuum level alignment (Fig. S7,† panels B and C). The vacuum level alignment has been obtained on the basis of the electric potential of a 8 unit cell slab model of the perovskites surfaces, shown in Fig. S8.† As can be seen from Fig. S8,† the two alignment procedures are equivalent in the present case, with a maximum difference of ∼0.03 eV between the two procedures, which is within the accuracy of DFT calculations.
Acknowledgements
We thank Alfredo Pasquarello for fruitful discussions. U. R. acknowledges funding from the Swiss National Science Foundation via individual grant No. 200020-146645, the NCCRs MUST and MARVEL, and support from the Swiss National Computing Center (CSCS), the CADMOS project. We also acknowledge PRACE for awarding us access to resource SuperMUC based in Germany at Leibniz.
References
J. Burschka, N. Pellet, S.-J. Moon, R. Humphry-Baker, P. Gao, M. K. Nazeeruddin and M. Grätzel, Nature, 2013, 499, 316–319 CrossRef CAS PubMed .
M. Liu, M. B. Johnston and H. J. Snaith, Nature, 2013, 501, 395–398 CrossRef CAS PubMed .
S. Kazim, M. K. Nazeeruddin, M. Grätzel and S. Ahmad, Angew. Chem., Int. Ed., 2014, 53, 2812–2824 CrossRef CAS PubMed .

          http://www.nrel.gov/ncpv/images/efficiency_chart.jpg/
        .
D. W. de Quilettes, S. M. Vorpahl, S. D. Stranks, H. Nagaoka, G. E. Eperon, M. E. Ziffer, H. J. Snaith and D. S. Ginger, Science, 2015, 348, 683–686 CrossRef CAS PubMed .
D. P. McMeekin, G. Sadoughi, W. Rehman, G. E. Eperon, M. Saliba, M. T. Hörantner, A. Haghighirad, N. Sakai, L. Korte and B. Rech, 
            et al.
          , Science, 2016, 351, 151–155 CrossRef CAS PubMed .
J. H. Noh, S. H. Im, J. H. Heo, T. N. Mandal and S. I. Seok, Nano Lett., 2013, 13, 1764–1769 CrossRef CAS PubMed .
N. Pellet, P. Gao, G. Gregori, T.-Y. Yang, M. K. Nazeeruddin, J. Maier and M. Grätzel, Angew. Chem., Int. Ed., 2014, 53, 3151–3157 CrossRef CAS PubMed .
G. E. Eperon, S. D. Stranks, C. Menelaou, M. B. Johnston, L. M. Herz and H. J. Snaith, Energy Environ. Sci., 2014, 7, 982–988 CAS .
J.-W. Lee, D.-H. Kim, H.-S. Kim, S.-W. Seo, S. M. Cho and N.-G. Park, Adv. Energy Mater., 2015, 5, 1501310 CrossRef .
W. Shockley and H. J. Queisser, J. Appl. Phys., 1961, 32, 510–519 CrossRef CAS .
A. Amat, E. Mosconi, E. Ronca, C. Quarti, P. Umari, M. K. Nazeeruddin, M. Grätzel and F. De Angelis, Nano Lett., 2014, 14, 3608–3616 CrossRef CAS PubMed .
M. R. Filip, G. E. Eperon, H. J. Snaith and F. Giustino, Nat. Commun., 2014, 5, 1 Search PubMed .
F. Hao, C. C. Stoumpos, D. H. Cao, R. P. Chang and M. G. Kanatzidis, Nat. Photonics, 2014, 8, 489–494 CrossRef CAS .
C. Yi, J. Luo, S. Meloni, A. Boziki, N. Ashari-Astani, C. Grätzel, S. M. Zakeeruddin, U. Röthlisberger and M. Grätzel, Energy Environ. Sci., 2016, 9, 656 CAS .
M. Saliba, T. Matsui, J.-Y. Seo, K. Domanski, J.-P. Correa-Baena, M. K. Nazeeruddin, S. M. Zakeeruddin, W. Tress, A. Abate and A. Hagfeldt, 
            et al.
          , Energy Environ. Sci., 2016, 9, 1989 CAS .
A. Verma, A. Kumar and S. Bhardwaj, Phys. Status Solidi B, 2008, 245, 1520–1526 CrossRef CAS .
M. Pazoki, T. J. Jacobsson, A. Hagfeldt, G. Boschloo and T. Edvinsson, Phys. Rev. B: Condens. Matter Mater. Phys., 2016, 93, 144105 CrossRef .
K. T. Butler, J. M. Frost and A. Walsh, Mater. Horiz., 2015, 2, 228–231 RSC .
W.-J. Yin, T. Shi and Y. Yan, Appl. Phys. Lett., 2014, 104, 063903 CrossRef .
P. Giannozzi, S. Baroni, N. Bonini, M. Calandra, R. Car, C. Cavazzoni, D. Ceresoli, G. L. Chiarotti, M. Cococcioni and I. Dabo, J. Phys.: Condens. Matter, 2009, 21, 395502 CrossRef PubMed .
J. P. Perdew, K. Burke and Y. Wang, Phys. Rev. B: Condens. Matter Mater. Phys., 1996, 54, 16533 CrossRef CAS .
J. Heyd, G. E. Scuseria and M. Ernzerhof, J. Chem. Phys., 2006, 124, 219906 CrossRef .
H. J. Monkhorst and J. D. Pack, Phys. Rev. B: Solid State, 1976, 13, 5188 CrossRef .
I. Chung, B. Lee, J. He, R. P. Chang and M. G. Kanatzidis, Nature, 2012, 485, 486–489 CrossRef CAS PubMed .
C. C. Stoumpos, C. D. Malliakas and M. G. Kanatzidis, Inorg. Chem., 2013, 52, 9019–9038 CrossRef CAS PubMed .
D. Trots and S. Myagkota, J. Phys. Chem. Solids, 2008, 69, 2520–2526 CrossRef CAS .
A. Dal Corso and A. Mosca Conte, Phys. Rev. B: Condens. Matter Mater. Phys., 2005, 71, 115106 CrossRef .
J. M. Langer and H. Heinrich, Phys. Rev. Lett., 1985, 55, 1414 CrossRef CAS PubMed .
M. J. Caldas, A. Fazzio and A. Zunger, Appl. Phys. Lett., 1984, 45, 671 CrossRef CAS .
J. F. Binder, P. Broqvist and A. Pasquarello, Appl. Phys. Lett., 2010, 97, 092903 CrossRef .
P. Dahinden, P. Broqvist and A. Pasquarello, Phys. Rev. B: Condens. Matter Mater. Phys., 2010, 81, 085331 CrossRef .
J. F. Binder, P. Broqvist and A. Pasquarello, Microelectron. Eng., 2011, 88, 391–394 CrossRef CAS .
D. Colleoni, G. Miceli and A. Pasquarello, Appl. Phys. Lett., 2015, 107, 211601 CrossRef .

Footnotes† Electronic supplementary information (ESI) available. See DOI: 10.1039/c6ta04949d‡ Present address: Sapienza University of Rome, Dept. of Mechanical and Aerospace Engineering, via Eudossiana 18, 00184, Roma, Italy.§ Present address: Dept. of Chemistry & Biochemistry, Center for Theoretical Biological Physics, Dept. of Pharmacology, Howard Hughes Medical Institute, University of California San Diego, La Jolla, CA 92093-0365, USA.¶ Present address: Sharif University of Technology, Dept. of Physics, Tehran, Iran.This journal is © The Royal Society of Chemistry 2016
Table Content:

 	Fig. 1  Configurations of the equilibrium structure of several perovskites. Images are ordered in such a way that the corresponding structures can be thought of as a series of structural or alchemical alterations starting from the CsPbI3 cubic structure (A), with a lattice parameter a = 6.38 Å as a reference. In panels (B) and (C) the tetragonal and orthorhombic structures of CsPbI3 are shown, respectively. They can be obtained from the cubic analogue by tilting the PbI6 octahedra along their axis parallel to the tetragonal axis (tetragonal structure) or along all of their three axes (orthorhombic). Tetragonal CsSnI3 is characterized by a tilting angle θ1 = 14.3° and a pseudocubic lattice parameter  (where V is the volume of the unit cell). In the orthorhombic CsSnI3, θ1 ∼ θ2 ∼ θ3 = 8.5° and a* = 6.30 Å. (D) is obtained from the cubic CsPbI3 by replacing Pb with Sn and I with Cl (θ1 = θ3 = θ3 = 0° and a = 5.85 Å). (E–G) are obtained from the cubic, tetrahedral and orthorhombic CsPbI3, respectively, by replacing Cs with Li. The corresponding tilting angle and pseudocubic lattice parameters are: (E) a = 6.32 Å; (F) θ1 = 20.3°, a = 6.12 Å; (G) θ1 = 20.5°, θ2 = 18.8°, θ3 = 10.8°, a = 5.81 Å. (H) and (I) are obtained by replacing Cs+ in the cubic CsPbI3 with NH4+ and PH4+, respectively. While PH4PbI3 preserves the original cubic symmetry (a = 6.32 Å), NH4PbI3 is triclinic (α = β = 85.8°, γ = 87.1°, α = 6.38 Å) and the PbI6 octahedra are highly distorted.	 

 	Fig. 2  VBM (blue frame) and CBM (red frame) orbitals of selected systems. Panels (A)–(C) shows how the tilting of BX6 octahedra affects the overlap: in the cubic structure (A) X mp orbitals are aligned with B–X bonds and the absolute value of the negative overlap is maximal (OVBM = −0.21). In tetrahedral (B) and orthorhombic (C) structures p orbitals are no longer well aligned, and the overlap diminishes (tetrahedral OVBM = −0.17, and ΔEVBM = −0.29 eV is the energy variation with respect to the cubic case; orthorhombic OVBM = −0.11, ΔEVBM = −0.54 eV). In the case of orthorhombic structures, the tilting along all the three axes of the octahedra further reduces the overlap, as shown from the lateral view of the crystal shown in the inset of panel (C). (D) Monovalent cations forming hydrogen bonds (green dashed lines) distort the framework reducing the overlap in analogy to the variations induced by tilting. In addition, hydrogen bonds polarize the VBM orbitals, resulting in an increase of electronic density on hydrogen bonded halide ions (red arrow), and a complementary reduction on the other anions (green arrow) and on bivalent cations. (E) and (F) CBM orbital in tetragonal CsPbI3 and CsPbCl3. The effect of halide substitution along the series I−, Br−, Cl− is moving the CBM electronic charge from B to X. For example, qB = 0.81 and ECBM = 0.76 eV in CsPbI3, and qB = 0.86 and ECBM = 0.34 eV in CsPbI3. A similar effect is produced by the change of crystal structure along the series cubic to tetragonal to orthorhombic, and with different monovalent cations.	 

 	Fig. 3  
E
VBM (ECBM) vs. OVBM (OCBM) for Pb-based (right) and Sn-based (left) perovskites. EBCB is shifted as explained in the Methods section. The relation EVBMvs. OVBM is linear (R2 ∼ 0.93 and ∼0.53 for Sn-based and Pb-based perovskites, respectively) and has a large negative slope. In the case of Pb perovskites, if we fit EVBMvs. OTVB independently for each halides (continuous colored lines in the left panel) we obtain a much higher R2, ≥0.85. The linear fitting of ECBMvs. OCBM is poorer (R2 ∼ 0.33 and ∼0.38 for Sn-based and Pb-based perovskites, respectively), and the slope is lower.	 

 	Fig. 4  
q
B and ECBM for Sn-based (left panel) and Pb-based (right panel) systems.	 
Footnotes
† Electronic supplementary information (ESI) available. See DOI: 10.1039/c6ta04949d
‡ Present address: Sapienza University of Rome, Dept. of Mechanical and Aerospace Engineering, via Eudossiana 18, 00184, Roma, Italy.
§ Present address: Dept. of Chemistry & Biochemistry, Center for Theoretical Biological Physics, Dept. of Pharmacology, Howard Hughes Medical Institute, University of California San Diego, La Jolla, CA 92093-0365, USA.
¶ Present address: Sharif University of Technology, Dept. of Physics, Tehran, Iran.

This journal is © The Royal Society of Chemistry 2016
