Iodine chemistry determines the defect tolerance of lead-halide perovskites   - Energy & Environmental Science (RSC Publishing) DOI:10.1039/C8EE00124C View PDF VersionPrevious ArticleNext Article  DOI: 10.1039/C8EE00124C
(Paper)
Energy Environ. Sci., 2018, 11, 702-713Iodine chemistry determines the defect tolerance of lead-halide perovskites†

        
          
            Daniele 
            Meggiolaro
          
        
      ab, 
      
        
          
            Silvia G. 
            Motti
          
        
      cd, 
      
        
          
            Edoardo 
            Mosconi
          
        
      ab, 
      
        
          
            Alex J. 
            Barker
          
        
      c, 
      
        
          
            James 
            Ball
          
        
      c, 
      
        
          
            Carlo 
            Andrea Riccardo Perini
          
        
      c, 
      
        
          
            Felix 
            Deschler
          
        
      e, 
      
        
          
            Annamaria 
            Petrozza
          
        
      *c and 

        
          
            Filippo 
            De Angelis
          
        
      *ab
aComputational Laboratory for Hybrid/Organic Photovoltaics (CLHYO), CNR-ISTM, Via Elce di Sotto 8, 06123, Perugia, Italy
bCompuNet, Istituto Italiano di Tecnologia, Via Morego 30, 16163 Genova, Italy
cCenter for Nano Science and Technology@Polimi, Istituto Italiano di Tecnologia, via Giovanni Pascoli 70/3, 20133, Milan, Italy
dDipartimento di Fisica, Politecnico di Milano, Piazza Leonardo da Vinci, 32, 20133 Milano, Italy
eCavendish Laboratory, University of Cambridge, JJ Thomson Avenue, Cambridge, CB3 0HE, UK
Received 
      13th January 2018
    , Accepted 6th February 2018First published on 9th February 2018AbstractMetal-halide perovskites are outstanding materials for photovoltaics. Their long carrier lifetimes and diffusion lengths favor efficient charge collection, leading to efficiencies competing with established photovoltaics. These observations suggest an apparently low density of traps in the prototype methylammonium lead iodide (MAPbI3) contrary to the expected high defect density of a low-temperature, solution-processed material. Combining first-principles calculations and spectroscopic measurements we identify less abundant iodine defects as the source of photochemically active deep electron and hole traps in MAPbI3. The peculiar iodine redox chemistry leads, however, to kinetic deactivation of filled electron traps, leaving only short-living hole traps as potentially harmful defects. Under mild oxidizing conditions the amphoteric hole traps can be converted into kinetically inactive electron traps, providing a rationale for the defect tolerance of metal-halide perovskites. Bromine and chlorine doping of MAPbI3 also inactivate hole traps, possibly explaining the superior optoelectronic properties of mixed-halide perovskites.

Broader context
The success of lead-halide perovskites in solar cells is mainly related to their apparent tolerance to defects. In conventional semiconductors, defects introduce ionization levels within the material band gap, with consequent trapping of photogenerated carriers. Solution processed lead-halide perovskites, such as MAPbI3, are expected to show significant defect densities. Very low trap densities have instead been reported for single crystals, which increase by ∼4 orders of magnitude in polycrystalline films. By combining first-principles calculations and spectroscopic investigations, we disclose the nature, density and activity of trap states in metal halide perovskites and the reasons underlying the apparently minimal defect impact on the recombination of photogenerated carriers. We show that despite the fairly high defect density, only less abundant interstitial iodine defects introduce deep electron/hole traps in MAPbI3. The peculiar iodine redox chemistry leads, however, to kinetic deactivation of filled electron traps, leaving only short-living hole traps as potentially harmful defects. Notably, hole traps can be converted into kinetically inactive electron traps under mild oxidizing conditions, as well as by chlorine and bromine perovskite doping. Our results provide a conclusive rationale for the surprising defect tolerance of metal-halide perovskites and provide the interpretative basis for further optimizing perovskite optoelectronic properties.

Methylammonium lead iodide (MAPbI3, MA = CH3NH3+) and related metal-halide perovskites are outstanding materials for photovoltaics.1 Strong light absorption and low exciton binding energy2–4 coupled to the low recombination rate of photogenerated charge carriers are the primary reasons for the incredible success of this class of materials.5 The long carrier lifetimes and diffusion lengths6 favor efficient charge collection at selective contacts, leading to power conversion efficiencies competing with established thin film photovoltaics.7,8 Together with the screening of charge carriers due to the possible formation of polarons,9–11 these observations suggest an apparently low density of traps in MAPbI3, contrary to the expected high defect density of a low-temperature, solution-processed material. Very low trap densities of ∼1011 cm−3 have indeed been reported for MAPbI3 single crystals,12,13 which increase up to ∼1016 cm−3 for polycrystalline thin films used in efficient solar cells.13–15 The high trap density should dramatically affect the photovoltaic efficiency, suggesting that MAPbI3 is inherently defect tolerant due to dominant defects introducing only shallow traps in the material band gap.16–19
The device effectiveness of metal-halide perovskites, as of any semiconductor, is intimately related to the stability and defect properties of the material, along with the aforementioned polaron-protected transport properties. Vacancies, interstitials20 or antisites with associated ionization levels within the material band gap have a detrimental effect on solar cell performance, due to trapping of photogenerated carriers limiting the cell voltage.21 According to the classic Shockley–Read–Hall theory21 the capture rate of an electron (hole) on a donor (acceptor) site is proportional to the defect densities, the free-carrier densities and the carrier capture cross sections (ESI,† eqn (S1)). Trap states with levels placed in the middle of the band gap are the most active recombination centers, with possibly dramatic effects on the solar cell efficiency.
Native defects are natural products of the crystal growth and despite the use of sophisticated techniques and controlled conditions they are almost unavoidable. Conventional semiconductors show low to moderate trap densities (defined as the number of traps per cm3): single crystal Si (108 cm−3),22 polycrystalline Si (1013–1014 cm−3),23 CdTe (1013–1015 cm−3),24 CIGS (1013 cm−3).25 Adinolfi et al.12 showed the existence of a distribution of traps in single crystalline MAPbI3, spanning 0.2–0.3 eV above and below the valence band (VB) and conduction band (CB), respectively, Scheme 1. Very low trap densities of ∼1011 cm−3 have been reported, with a general consensus among different works.13 Higher trap densities of ∼1015–1016 cm−3 have been reported for (large grain) polycrystalline MAPbI3 thin films used in solar cell fabrication.13–15,26 Despite this fairly high trap density, the efficiency of the associated solar cells are surprisingly not dramatically affected.14,27 Several first-principles investigations have been carried out on the nature of defects in MAPbI3.16–19,28 The message conveyed by these studies is that native defects would introduce only shallow states in the perovskite band gap,12 with the formation of Schottky complexes possibly leading to self-compensation effects.19 High level calculations based on hybrid Density Functional Theory (DFT) including spin–orbit coupling have however shown that iodine interstitials induce deep levels in the MAPbI3 gap,20 which should strongly affect the solar cell performance.
 Scheme 1  Dynamics of charge trapping and recombination in MAPbI3. Trap states show a distribution, ∼0.2–0.3 eV above the valence band (VB) and below the conduction band (CB).12 The relevant processes schematically reported are: (1) above band gap photoexcitation, producing electron (yellow circles)/hole (white circles) pairs. (2 and 4) Electrons (holes) are trapped in a donor (acceptor) levels. (3 and 5) Recombination (radiative or non-radiative) occurs between trapped electrons (holes) and VB holes (CB electrons).14 
Despite previous efforts, the nature, density and activity of trap states in metal halide perovskites and the reasons underlying the apparently minimal defect impact on the recombination of photogenerated carriers have remained elusive. By combining state of the art first-principles calculations with highly sensitive photoluminescence and transient absorption measurements we show here that despite the fairly high defect density due to Pb- and MA-related defects, less abundant iodine defects introduce deep electron and hole traps in MAPbI3. The peculiar iodine redox chemistry leads, however, to kinetic deactivation of filled electron traps, leaving only short-living hole traps as potentially harmful defects. The amphoteric nature of iodine traps suggests that under mild oxidizing conditions, likely met during perovskite solution synthesis, hole traps can be converted into kinetically inactive electron traps, providing a rationale for the surprising defect tolerance of metal-halide perovskites. Based on this model, we also show how bromine and chlorine doping in MAPbI3 may effectively inactivate iodine hole traps, explaining the superior optoelectronic properties of mixed halide perovskites.
Results and discussion
To quantitatively estimate the nature and density of traps in MAPbI3, we investigate native defects in MAPbI3 combining fairly large supercell calculations, based on hybrid DFT, including dispersion corrections and spin–orbit coupling (SOC). These ingredients are critical to obtain an accurate description of the band edges energetics,20 see (ESI†) Fig. S1–S3, and, as we show here, of the defect formation energies (DFE), see (ESI†) Tables S1 and S2. We use the modified HSE06 exchange–correlation functional including 43% exact exchange proposed in ref. 20, which, coupled to SOC, provides similar band-edge energetics to high-level GW-SOC calculations,29 ensuring a comparable degree of accuracy. The use of DFT functionals including non-local exchange is known to be important to accurately estimate the DFE of defects characterized by unpaired electrons,30,31 such as the neutral I0i and V0I defects investigated here.
The DFEs are conventionally calculated by eqn (1): (1)where E(Xq) is the energy of the X defect of charge q-containing system, E(perf) the energy of the perfect, non defective system, n and μ are, respectively, the number and the chemical potentials of the species added or subtracted to the non defective system to form a defect; q is the charge of the defect. The first three terms thus define the chemical energy required to form a defect from the constituting materials. As an example, for an iodine vacancy the first three terms define the energy required to break the Pb–I bond from the perfect crystal, thus creating a vacancy, and to release iodine as ½I2. The last two terms of eqn (1), q(EF + V + ΔV) and Eq(corr), instead represent the energy associated to the exchange of electrons with the Fermi level of the system, corrected for the electrostatic potential shift ΔV of the defective system induced by the defect charge and the long range electrostatic interaction between the periodic defects images. The Fermi level is allowed to vary within the band gap and is referenced to the valence band maximum (VBM) of the pristine crystal, i.e. EF = 0 at the top of the valence band. Following eqn (1), the defect formation energy of a charged defect varies linearly as the Fermi energy scans the material band gap, with a slope fixed by the charge state q of the defect. Different charge states of the same defect can thus have different DFEs, and the intersection point between the DFEs lines of various charge states define the point at which a certain defect will change its charge state, thus the defect ability to trap or release electrons. These intersection points are called thermodynamic ionization levels, effectively corresponding to oxidation and reduction potentials of the defective system, and their position with respect to the band edges defines whether a defect will act as a (shallow or deep) trap for photogenerated charge carriers, with ionization levels within the band gap, or not. Knowledge of the DFEs allows one to calculate the defect density by a Boltzmann statistics and the native Fermi level by searching for the condition of electroneutrality of the system, see Methods for further details.
The DFE diagram of MAPbI3 grown in stoichiometric conditions, corresponding to 1:1 ratio of the PbI2 and MAI precursors, and the associated thermodynamic ionization levels are reported in Fig. 1a and b, see (ESI†) Fig. S3 for iodine-rich and iodine-poor conditions. In iodine-medium conditions the most stable defects, i.e. those with the lowest DFEs, are MA interstitials (MA+i), interstitial iodine (Ii) and lead vacancies (V2−Pb) which pin the Fermi level roughly at mid-gap (∼0.7 eV above the VB over a 1.58 eV calculated band gap), as shown in Fig. 1a. Notice the different slope of the DFE variation with the Fermi energy for the differently charged defects, e.g. MA+i and V2−Pb, whose DFE increases and decreases, respectively, by increasing the Fermi energy, Fig. 1a. The calculated close to mid-gap native Fermi level is consistent with the intrinsic (or mildly p-doped) nature of single crystalline MAPbI3,32 while thin films probed near the surface show clear n-doping related to a Pb-rich environment.33 Beside these more stable defects, iodine vacancy (V+I) and interstitial lead (Pb2+i) are found at ∼0.2 eV higher DFE at the native Fermi level. Still at higher DFE we calculate MA vacancy (V−MA) and iodine/MA antisite (I0MA), see (ESI†) Table S3 for a summary of DFEs and calculated defect densities. Though all defects contribute to determine the native Fermi level, their effect exponentially decreases as their DFE increases, so that the more stable MA+i, Ii and V2−Pb defects mainly determine the native Fermi level. Defects mobility should also be considered to quantify the defect activity, since thermodynamically favorable defect formation can be hindered by possible high activation barriers to defect migration. Defects related to I and MA ions are the major migrating species,34–36 with a general consensus in I being faster than MA being faster than Pb migration.37
 Fig. 1  (a) Defect formation energy (DFE, eV) diagram versus the Fermi energy (EF, eV) for MAPbI3 showing the most stable defects in stoichiometric (iodine-medium) conditions. Solid lines indicate the stable charge states of a given defect, while the blue dashed lines indicate the metastable neutral state of Ii. The energy of positive (negative) defects increases (decreases) by increasing EF while that of neutral defects is stable with respect to EF. EF ranges from the top of the valence band (EF = 0) to the bottom of the conduction band EF = 1.58 eV, corresponding to the calculated band gap. The native Fermi level is indicated by the vertical black dashed line at 0.65 eV. (b) Thermodynamic ionization levels for the most stable defects calculated in (a) referenced to the VB corresponding to EF = 0. The ionization levels are determined by the crossing of the lines representing different charge states of a given defect in (a). (c) Lowest unoccupied level of V−Pb, resembling delocalized VB states. (d) Lowest unoccupied state of I0i, showing the formation of a localized state. (e) Highest occupied level of V0I, resembling delocalized CB states. 
The associated defect density is fairly high, spanning ∼1011–1012 cm−3 (see ESI,† Table S3) closely matching the experimental trap density measured in MAPbI3 single crystals.12

Fig. 1b shows that among the more stable defects, i.e. those with lowest DFE, only VPb and Ii exhibit charge transitions within the MAPbI3 band gap. Due to the interplay of the various terms of eqn (1) in determining the thermodynamic ionization levels, our HSE06-SOC results show significant differences compared to previous studies28 and to our PBE data, see (ESI†) Fig. S2, which predict a shallow trapping activity for Ii, VPb and MAi and deep trapping for Pbi. As previously noted,20 V+I has a transition level resonant with the CB, thus although showing a low activation energy to migration,38 it can at most represent a shallow trapping site in bulk crystals. The shallow nature of V+I is confirmed also in the presence of dynamic fluctuations, despite the vacancy motion is coupled to that of the MA cations.39
At the calculated native Fermi level VPb is stable in the 2-charge state, thus this defect could trap holes by the −/2− transition level whose energy falls 0.13 eV above the VB, suggesting a shallow trapping activity. The 0/2− transition implies the trapping of two holes on the same defect site, and as such it has a vanishingly small capture cross section. The 0/− transition is not active due to the instability of V0Pb at the native Fermi level, implying a negligible density of the neutral charge state. Furthermore, the activation energy associated to V2−Pb defect migration (∼1 eV or higher) suggests that the nucleation of metallic Pb is likely to occur at the surface of the crystal only at high temperatures or under high energy irradiation.33
While shallow traps, lying ∼25 meV below the CB, were found in large-grain MAPbI3 thin films in previous studies,24 here we conclude that interstitial iodine is likely the only stable and active trap source among native point defects.20 Lending support to the predicted defect chemistry, recent X-ray and neutron diffraction measurements on MAPbI3 revealed significant structural disorder associated to interstitial iodine in MAPbI3 films.40 This amphoteric defect can trap both electrons and holes through the +/0 and 0/− ionization levels placed at 0.57 and 0.29 eV below and above the CB and VB edges, respectively, as shown in Fig. 1b, in agreement with previous results.20 Confirming the picture discussed above, the boundary orbitals of V0I and V−Pb only show shallow charge trapping, being delocalized CB and VB states typical of non-defective MAPbI3 with some polarization around the defect sites, Fig. 1c and e. For I0i a localized unoccupied state is instead found within the material band gap, as shown in Fig. 1d. The match between the calculated Ii density and the measured trap density in single crystals points at interstitial iodine as the source of traps experimentally observed.12 Clearly, a distinction should be made between the most abundant defects (e.g. MA+i) and charge traps.
The neutral state of I0i is notably not thermodynamically stable in the explored Fermi energy range so we expect this charge state to be metastable and only formed upon photoexcitation.38,39 The +/− transition of Ii is close to the native Fermi level, so one would in principle expect a relevant trapping activity. The two-electron nature of this transition, however, effectively inactivates this phenomenon. This is a typical behavior of the iodide (I−i)/tri-iodide (I+i) redox couple associated with retarded charge recombination in dye-sensitized solar cells.41
The calculated structures of I+i, I0i and I−i are reported in Fig. 2a–c. I+i shows a trimer structure,20,42 corresponding to one central I+ bound on two sides by I−, essentially the structure of a coordinated I−3 molecule; I−i is instead the result of two symmetric I− ions binding in a bridging coordination to two vicinal lead atoms. The most stable structure of I0i, hereafter I0i(a), is similar to that of I−i but shows an asymmetric bridging coordination with two comparable Pb–I bonds on one side and two elongated and asymmetric Pb–I bonds to the second lead atom. A secondary minimum, I0i(b), corresponding to the in-plane analogue of I0i(a) was found by ab initio molecular dynamics simulations, shown in (ESI†) Fig. S4, and calculated to be 0.19 eV less stable than I0i(a), Fig. 2d. The average calculated I–I distance in I+i (2.95 Å) is typical of I−3; this parameter increases to 3.24 Å in I0i(a), typical of I2−; and in I−i it corresponds to two independently coordinated iodide ions, as shown in Fig. 2a–c. Based on this analysis it is clear that charge trapping in MAPbI3 is essentially associated to iodine redox chemistry.
 Fig. 2  (a–c) Local geometrical structures of interstitial iodine in its positive (a), more stable neutral (b) and negative (c) charge states, with associated I–I distances. Relevant iodine atoms involved in the trapping/detrapping processes are highlighted in yellow. For I+i the average of the two I–I bond lengths in reported. (d) Configuration diagrams (energy versus structural coordinates) of interstitial iodine in its positive (red), neutral (black) and negative (blue) charge states versus the root mean square displacement (RMSD) of the highlighted iodine atoms with respect to their position in I+i. The energies for the positive species are referenced to the VB maximum, while those of the negative species are referred to the CB minimum, simulating the energetics after photoexcitation (before recombination). The separate positive/neutral and negative/neutral energies have the same reference, thus they can be compared, while the positive/negative energies cannot be directly compared. The dots are calculated points while the solid lines are an interpolation of calculated points to guide to the eye. 
Having characterized the minimum energy structures corresponding to each charge state of interstitial iodine, we are now in a position to draw a global configuration diagram of the trapping and recombination processes in MAPbI3. This is shown in Fig. 2d, where we report the calculated system's energy in its various charge states against a representative structural parameter, defined as the root mean square displacement (RMSD) of the reactive iodine atoms with respect to their position in I+i (highlighted in yellow in Fig. 2a–c). Trapping of an electron close to the I+i minimum will drive the system towards the secondary I0i(b) minimum, which is the kinetically stable trapping product, shown in (ESI†) Fig. S4. To reach the I0i(a) global minimum of the neutral charge state the system needs to overcome a 0.10 eV energy barrier, see Fig. 2d, gaining 0.19 eV. To recombine with a hole (or to release the trapped electron) and reform I+i, the system needs thus to overcome a barrier of 0.29 eV, I0i(a) → I0i(b) pathway on the neutral curve in Fig. 2d, since the positive curve is too high in energy (by 0.43 eV) when the system is close to I0i(a) and still fairly high (0.14 eV above) in I0i(b). Most likely, electron detrapping will thus occur through a non-radiative recombination channel, due to the instability of I+i up to the crossing point between the neutral and positive curves, denoted with a black * in Fig. 2d. The energetically favorable electron trapping featuring a small barrier and the energetically disfavored detrapping process are fully consistent with the measurement of a recombination time of trapped electrons of several μs, more than one order of magnitude longer than their trapping rate.14 Importantly, such rates could be probed only through photo-current and transient absorption measurements as a consequence of the non-radiative decay associated to the trapped electrons.14
In contrast to electron trapping, hole trapping at I−i is calculated to proceed with a small geometrical rearrangement, I−i → I0i(a) pathway in Fig. 2d, with no barriers occurring on either the negative or neutral curve. As such, hole trapping is expected to be relatively fast, as is the related detrapping process, possibly contributing an efficient deactivation channel for photogenerated charge carriers. Li et al. have recently reported ab initio time-domain dynamics simulations showing faster hole than electron trapping on interstitial iodine,43 consistent with our model.
Based on the almost coincident minimum of the neutral and negative curves, one may predict that radiative recombination, mediated by the overlap of vibrational functions of the two charge states, could in this case compete with non-radiative deactivation. In such a case, we predict a minimum to minimum I0i(a) → I−i radiative emission energy of 1.29 eV, thus falling in the near-IR. Notice that the different slope of the two charge states corresponding to the emission process may lead to a significant broadening of the emitted energy, since a small fluctuation around the shallow I0i(a) minimum would imply a fairly large energy variation on the steep I−i curve, Fig. 2d.
To investigate how the proposed defect energetics would change when moving from the bulk to the surface, we have recalculated the DFEs of neutral defects (the only ones which can be trustfully calculated on surfaces) for the PbI2-terminated surface of MAPbI3, which is among the stable surface terminations of the perovskite.44 The results, collected in Table S6, ESI,† show, as expected, lower DFEs compared to the bulk, with more than 1 eV stabilization found in the case of iodine interstitials. Our results are in agreement with the work of Uratani et al.,45 who carried out a comprehensive study of the defects formation energies on different surface terminations. On overall, the defect chemistry in the bulk and on the surface of MAPbI3 is qualitatively similar, with the surface inducing a higher density of defects by virtue of the lower DFE.
To verify the predictions of our theoretical model, we show in Fig. 3a the steady state room-temperature photoluminescence (PL) spectrum of a typical MAPbI3 polycrystalline thin film used in solar cell fabrication46 collected over a spectral range between 1.65 and 1.0 eV, at a range of excitation densities, under nitrogen atmosphere. Together with the band-to-band radiative emission peaking close to 1.6 eV we find a weak, broad emission band spanning the 1.35–1.15 eV energy range. This emission is consistent with the predicted energetics for radiative recombination of trapped holes, Fig. 2d, and is quenched as the excitation energy increases, a typical behaviour expected from radiative trap-assisted recombination. Increasing the excitation intensity fills the traps with photogenerated charge carriers, thus inactivating the traps unless a detrapping event occurs. Notably, such emissive states have been found to be populated and depopulated in a time window shorter than 1 ns (see ESI,† Fig. S5 and ref. 47, 48) indicative of an effective loss channel in solar cells. Furthermore, Tress et al. have very recently reported a sub gap feature at 1.35 eV in perovskite solar cells, possibly linked to reduction of solar cell open circuit voltage below the radiative limit,49 consistent with our spectroscopic observations and theoretical model.
 Fig. 3  (a) Steady state PL spectrum of MAPbI3 as a function of excitation intensity (inset) at room temperature. (b) PL dynamics probed at 1.59 eV (red trace) corresponding to the PL emission maximum and the dynamics probed at the photo-bleach band at 1.61 eV (grey) of the transient absorption spectrum. The straight lines are used as guide to the eye to highlight two different slopes in the log–log scale. 
In Fig. 3b we show the photophysics of a second sample, which showed virtually no sub-bandgap emission. For such sample, the PL dynamics probed at 1.59 eV are compared with the transient-absorption dynamics probed at the photo-bleaching band found at 1.61 eV. The dynamics are recorded in a wide time range, from ∼1 ns to ∼1 ms. Briefly, the transient absorption spectrum represents the change in the absorbance, typically measured as a change in transmittance, of a probe white-light pulse through the sample induced by a photo-exciting pulse. The photo-excitation leads to the transfer of electrons from the VB to the CB leaving behind the holes. Due to the state-filling close to the band edges by the photo-excited species, and the resultant Pauli blocking, the absorption probability is reduced at the associated photon energies.4 This induces a transparency at the energy corresponding to the band-edge of the excited sample, measured as a positive ΔT/T (normalized transmittance change) signal (commonly referred to as a photo-bleach). The latter is proportional to the density of electrons and holes in the VB and CB respectively, and its dynamics will therefore follow the dynamics of free carriers, (ESI†) Fig. S6.

Fig. 3b shows that the photo-bleach dynamics has two components, a short living one which almost perfectly matches the band gap PL dynamics up to ∼6 ns (crossing of the black lines in Fig. 3b) and a very long decay of tens of microseconds, which has no emissive analogue, thus corresponding to a non radiative decay process. Importantly, the population of the long living species increases as the sample temperature grows (see ESI,† Fig. S7) suggesting the presence of an energy barrier to its formation. Based on the diagram presented in Fig. 2, we assign the short living sub gap emissive band to the recombination of holes trapped by negative interstitial iodine with free electrons in the CB; and the slow component to virtually non-radiative recombination of electrons trapped by positive interstitial iodine with free holes in the VB. In this latter case, we associate the experimentally observed thermally activated process to the trapping of electrons at I+i and the subsequent relaxation to the global I0i(a) minimum, Fig. 2d.
Notably, exciting MAPbI3 under inert conditions can induce the formation of traps, which together with traps related to native defects may be passivated when the film is exposed to oxygen (see ESI,† Fig. S8).50,51 This is consistent with the oxidation of I−i to I+i (i.e. of iodide to tri-iodide) and with the consequent partial inactivation of hole traps, allowing us to clearly recognize the photophysical signature of trapped holes predicted by calculations. Under mild oxidizing conditions, likely met during conventional solution perovskite synthesis,52 hole traps can be converted to kinetically inactive electron traps, explaining the apparent defect tolerance of metal-halide perovskites.
Based on the same model, we are also able to propose a possible role for bromine and chlorine doping of MAPbI3. We report in Fig. 4 the optimized structures of Br- and Cl-doped MAPbI3 in the presence of I−i. We considered two different positions of the hetero-halide, i.e. substituting an interstitial iodine (shown in Fig. 4a–c) or substituting a lattice iodine atom (ESI,† Fig. S9). For both bromine and chlorine doping, substitution of an interstitial iodine is favored by ∼0.1 eV compared to leaving an intact interstitial iodine and substituting a lattice iodine. Despite the fairly low energy difference, a clear propensity for smaller halides to occupy interstitial positions is predicted, in line with the expectations based on the decreased ionic radius. Most notably, the defect transition levels associated to interstitial bromine and chlorine doping are displaced in energy by ∼0.3 eV towards the VB, Fig. 4d, transforming such mixed-halide interstitials into shallow traps. The introduction of hetero-halides in MAPbI3 may thus constitute a possible mechanism of inactivation of hole traps. The downshift of the 0/− transition upon interstitial halide doping, again related to the typical halide redox chemistry, is fully consistent with the reported enhanced photovoltaic performance53 and carrier lifetime54 in bromine-doped MAPbI3 perovskite solar cells and with the established beneficial effect of chlorine doping in MAPbI3.15 Notably, while a different morphology is usually obtained for Cl-doped samples originated by PbCl2 due to the slowing down of the film formation,55 the proposed “curing” effect extends beyond the change expected for the marginally different sample morphology of pure and bromine-doped perovskites, see SEM micrographs in (ESI†) Fig. S10 and ref. 54.
 Fig. 4  (a–c) Local geometrical structures of interstitial iodine in its negative charge states. (a) Native I−i; (b) bromine-substituted I−i; (c) chlorine-substituted I−i. (d) Defect formation energy (DFE, eV) diagram versus the Fermi energy (EF, eV) for halide interstitials in MAPbI3. Solid lines indicate the stable charge states of a given defect, while the blue lines indicate the metastable neutral state of Ii. Blue, red and green lines refer to native I−i, bromine-substituted and chlorine-substituted I−i, respectively. (e) Thermodynamic transition levels for the native I−i, bromine-substituted and chlorine-substituted I−i (blue, red and green lines, respectively). 
Confirming the healing effect of bromine doping, we have prepared a MAPbI3 sample containing 5% excess MABr and probed the PL decay of such sample, see (ESI†) Fig. S11. A substantially longer PL lifetime is observed for the Br-doped sample, consistent with the proposed curing of deep traps. Furthermore, we carried out TA experiments on the same sample, see Fig. S12 in ESI.† One can notice an elongation of the initial decay lifetime of the Br-doped sample against the pure MAPbI3, while the dynamics of the long tail assigned to the electron lifetime does not seem to change. No distinguishable signature of sub-band gap emission could be observed for this sample. Altogether, this data supports our suggestion that a slight bromine doping will mainly affect the detrimental hole trapping occurring on short time scales.
Concluding remarks
In conclusion, we have rationalized the defect chemistry and related photo-physics which determine the so-called “defect tolerance” in metal-halide perovskites. We have identified intrinsic charge traps and revealed that they are dominated by the peculiar iodine redox chemistry, which has been known and exploited for long time to retard charge recombination in dye-sensitized solar cells. We show that hole traps due to interstitial iodine are potentially detrimental deep traps, which can however be converted to long-lived, kinetically inactive electron traps by adjusting and possibly controlling the oxidizing conditions during and after the perovskite synthesis. Notably, iodide oxidation to tri-iodide is catalyzed by acids,56 therefore the acidic methylammonium cation and water traces may well provide unintentional catalysts for such transformation. Importantly, this clarifies the controversial reports which can be found in literature on the large variety of thin films with different optoelectronic quality, in the presence of oxidizing agents.57 In fact, while a strong oxidative environment will subtract iodide to the perovskite formation, possibly limiting the grain size and overall optoelectronic material quality,52 post-synthesis exposure to mild oxidizing agents could transform harmful hole traps into kinetically inactive electron traps. Notably, devices prepared from a vacuum deposition process showed optimal efficiency for a slight under stoichiometric I:Pb ratio (∼2.8:1),58 consistent with the inhibition of interstitial iodine formation in such a slightly iodine-poor environment.
Based on the proposed model we have also identified how bromine and chlorine doping may constitute an additional means of hole traps curing. This is due to the stability of hetero-halide substitution of interstitial iodine which shifts the associated thermodynamic transition levels from deep to shallow due to the higher oxidation potential of bromide and chloride compared to iodide. The combination of various cations, including the less acidic formamidinium ion and of cesium, as well as of iodide and bromide, showing a different defect redox chemistry, in mixed perovskite formulations is likely at the heart of the superior photovoltaic efficiency and long-term stability of solar cells fabricated with these materials.59
Methods
Computational details
All calculations have been performed on the tetragonal MAPbI3, the stable phase at room temperature, adopting the experimental lattice parameters a = b = 8.849 Å and c = 12.642 Å.60 The stabilities of native defects have been investigated by calculating the associated defects formation energies (DFE) by using a 2 × 2 × 1 supercell. In all cases, the most stable orientation of the methylammonium cations found for bulk MAPbI361 was initially set, followed by local structural relaxation. The DFEs have been calculated by using the eqn (1) in the main text. All the simulations started with an isotropic MA cation orientation, which was approximately preserved in the optimized structures. Long-ranged electrostatic interactions between charged defects have been corrected following the approach of Freysoldt–Neugebauer–Van de Walle62 by using gaussian model charges in a dielectric medium. In our approach both the electronic and ionic screenings due to the relaxation of the ions upon defect formation have been included in the model. To this aim, the ionic dielectric permittivity calculated at the PBE level (24) was used to correct the calculated DFT electrostatic potentials of charged defects within the supercell. The chemical potentials of the atomic species have been set in order to simulate three different chemical conditions, namely I-rich, I-medium and I-poor conditions, under the constraint of the thermodynamic stability of the MAPbI3 phase. The chemical potentials of MAPbI3 constituents, i.e. Pb, I and MA, in thermodynamic equilibriums with the PbI2 and MAI phases, have been evaluated by imposing the following relations among the chemical potentials μ(MA) + μ(Pb) + 3μ(I) = ΔfH(MAPbI3)(2) μ(MA) + μ(I) < ΔfH(MAI)(3) μ(Pb) + 2μ(I) = ΔfH(PbI2)(4)where the chemical potentials of the species I and Pb has been referenced to the value of the I2 molecule and Pb bulk metal, respectively. The chemical potentials of the Br and Cl interstitials have been calculated by imposing the equilibrium with the PbBr2 and PbCl2 phases in the solubility limit, i.e. μ(Pb) + 2μ(Br) = ΔfH(PbBr2) and μ(Pb) + 2μ(Cl) = ΔfH(PbCl2).
The defects density of specie Xi in the state of charge qi, CXi, at room temperature has been estimated by applying the Boltzmann equation CX = Ncexp(−DFE/kBT), where Nc is the density of defects sites in the pristine material (1022 cm−3 for I, MA and 4 × 1021 cm−3 for Pb), DFE is the defect formation energy of specie Xi at the native Fermi level, kB is the Boltzman constant and T the temperature (300 K). The native Fermi level in each condition of growth at 300 K has been calculated by solving the electro-neutrality equation for all the modelled defects, i.e. by finding the Fermi level such that , where p and n are the intrinsic carriers densities of holes and electrons at room temperature The equilibrium structures of the defects have been calculated by using the Perdew–Burke–Ernzerhof (PBE) exchange–correlation functional,63 relaxing the ion positions until forces on atoms was less than 0.001 Ryd Å−1. PBE calculations have been performed using ultrasoft pseudopotentials (US) and plane waves basis sets. A cutoff on the plane waves of 40 Ryd and on the charge grid of 320 Ryd has been used, sampling the Brillouin Zone (BZ) with a Gamma centered 1 × 1 × 2 Monkhorst–Pack (MP) grid of k points.64
The equilibrium structures of the defects have been used to calculate the DFEs at the HSE06-SOC65 level of theory. To be consistent with previous results in the literature,20 the fraction of exact exchange has been set to 0.43. A comparison between various calculated quantities with such modified functional and the standard HSE06 functional can be found in Table S5 (ESI†). Norm conserving (NC) pseudopotentials have been employed with a cutoff of 40 Ryd on the PWs and 1 × 1 × 2 MP grids of k points in the BZ, in order to reduce the computational efforts. Benchmark calculations at 70 Ryd with NC pseudopotentials have been performed to check the accuracy of the approach, see discussion in ESI.† To quantitatively estimate the DFEs we included dispersion corrections, as implemented in the DFT-D3 scheme of Grimme,66 to the energies calculated by HSE06-SOC. All calculations have been carried out with the QuantumEspresso simulation package.67
Sample preparation

N,N-Dimethylformamide (DMF, anhydrous, 99.8%), and lead(II) acetate trihydrate (PbAc, 99.999%, CAS no. 6080-56-4) were purchased from Sigma-Aldrich; methylammonium iodide (MAI, CAS no. 14965-49-2) and methylammonium bromide (MABr, CAS no. 6876-37-5) were purchased from Dyesol. All chemicals were used without any further purification. Glass substrates were cleaned sequentially in Hellmanex (1 vol% in deionized water), deionized water, isopropyl alcohol (IPA), acetone and IPA again for 10 minutes each by sonication. The cleaned glass substrates were treated with Oxygen plasma for 10 minutes immediately prior to film deposition. Thin films were prepared in a nitrogen filled glovebox following a similar procedure to Zhang et al.68 Precursor solutions of Pb(Ac)2:MAI:MABr in a molar ratio of 1:3:0 or 1:3:0.15 were prepared in DMF with a concentration of ∼30 wt%. Thin films were prepared by spin coating onto glass substrates at 2000 rpm, with an acceleration of 2000 rpm s−1, for 45 s. The films were initially dried at room temperature for 15 minutes and then annealed at 100 °C for 5 minutes. The thin film measured in Fig. 3a was prepared as described in ref. 46.
Steady-state PL
The excitation source was a diode laser (400 nm cw). The thin film samples were mounted in a nitrogen-filled integrating sphere, and PL was and focused into a spectrograph (Andor Shamrock) coupled to an InGaAs photodiode array (Andor iDus).
Time-resolved photoluminescence
The thin film samples were mounted in a chamber in vacuum (under 10−5 mbar) that was vented with room atmosphere for comparison of dynamics. PL was collected in reflection geometry, perpendicular to the excitation line. Samples were excited from both sides of the sample (glass substrate or sample film), without any relevant difference between them. Time-resolved PL measurements on MAPbI3 films were performed using a Time Correlated Single Photon Counting setup. The output of an unamplified tunable Ti:Sapphire laser (Coherent Chameleon Ultra II, temporal and spectral bandwidths of ∼140 fs and ∼5 nm, respectively) was tuned for central wavelengths of 700 nm and then directed to the sample. The measurements were performed with excitation at 4 MHz, obtained using an acousto-optical modulating pulse picker (APE Pulse Select). The PL was collected and focused onto a spectrometer coupled to a N2 cooled photomultiplier.
Transient absorption spectroscopy
Thin film samples were mounted in a chamber in vacuum (under 10−5 mbar). Transient absorption signal was collected in transmission geometry. An amplified Ti:sapphire laser (Quantronix Integra-C) generates ∼100 fs pulses centered at 800 nm, running at 1 kHz. A broadband white light probe is generated by focusing the pulses into a thin sapphire plate. 532 nm pump light is obtained from a Q-switched Nd:YVO4 laser (Innolas Picolo) which is electronically triggered and synchronized to the Ti:sapphire laser via an electronic delay. The pump pulses have a width of ∼700 ps FWHM. Including jitter, the system has an instrument response function FWHM < 1 ns. After interaction with the sample, a homebuilt prism spectrometer disperses the probe light on to a fast CCD array, enabling broadband shot-to-shot detection.
Conflicts of interest
There are no conflicts to declare.
Acknowledgements
The authors gratefully acknowledge the project PERSEO-“PERovskite-based Solar cells: towards high Efficiency and lOng-term stability” (Bando PRIN 2015-Italian Ministry of University and Scientific Research (MIUR) Decreto Direttoriale 4 novembre 2015 n. 2488, project number 20155LECAJ) for funding. SM thanks CNPq (Conselho Nacional de Desenvolvimento Científico e Tecnológico - Brasil) for the scholarship [206502/2014-1].
References
M. A. Green, A. Ho-Baillie and H. J. Snaith, The emergence of perovskite solar cells, Nat. Photonics, 2014, 8, 506–514 CrossRef CAS .
A. Miyata, A. Mitioglu, P. Plochocka, O. Portugall, J. T.-W. Wang, S. D. Stranks, H. J. Snaith and R. J. Nicholas, Direct measurement of the exciton binding energy and effective masses for charge carriers in organic-inorganic tri-halide perovskites, Nat. Phys., 2015, 11, 582–587 CrossRef CAS .
Q. Lin, A. Armin, R. C. R. Nagiri, P. L. Burn and P. Meredith, Electro-optics of perovskite solar cells, Nat. Photonics, 2015, 9, 106–112 CrossRef CAS .
A. R. Srimath Kandada and A. Petrozza, Photophysics of Hybrid Lead Halide Perovskites: The Role of Microstructure, Acc. Chem. Res., 2016, 49, 536–544 CrossRef CAS PubMed .
C. Wehrenfennig, G. E. Eperon, M. B. Johnston, H. J. Snaith and L. M. Herz, High Charge Carrier Mobilities and Lifetimes in Organolead Trihalide Perovskites, Adv. Mater., 2014, 26, 1584–1589 CrossRef CAS PubMed .
S. D. Stranks, G. E. Eperon, G. Grancini, C. Menelaou, M. J. P. Alcocer, T. Leijtens, L. M. Herz, A. Petrozza and H. J. Snaith, Electron-Hole Diffusion Lengths Exceeding 1 Micrometer in an Organometal Trihalide Perovskite Absorber, Science, 2013, 342, 341–344 CrossRef CAS PubMed .
N. J. Jeon, J. H. Noh, W. S. Yang, Y. C. Kim, S. Ryu, J. Seo and S. I. Seok, Compositional engineering of perovskite materials for high-performance solar cells, Nature, 2015, 517, 476–480 CrossRef CAS PubMed .
H. Zhou, Q. Chen, G. Li, S. Luo, T.-B. Song, H.-S. Duan, Z. Hong, J. You, Y. Liu and Y. Yang, Interface engineering of highly efficient perovskite solar cells, Science, 2014, 345, 542–546 CrossRef CAS PubMed .
H. Zhu, K. Miyata, Y. Fu, J. Wang, P. P. Joshi, D. Niesner, K. W. Williams, S. Jin and X.-Y. Zhu, Screening in crystalline liquids protects energetic carriers in hybrid perovskites, Science, 2016, 353, 1409–1413 CrossRef CAS PubMed .
K. Miyata, D. Meggiolaro, M. T. Trinh, P. P. Joshi, E. Mosconi, S. C. Jones, F. De Angelis and X.-Y. Zhu, Large polarons in lead halide perovskites, Sci. Adv., 2017, 3 Search PubMed .
A. J. Neukirch, W. Nie, J.-C. Blancon, K. Appavoo, H. Tsai, M. Y. Sfeir, C. Katan, L. Pedesseau, J. Even, J. J. Crochet, G. Gupta, A. D. Mohite and S. Tretiak, Polaron Stabilization by Cooperative Lattice Distortion and Cation Rotations in Hybrid Perovskite Materials, Nano Lett., 2016, 16, 3809–3816 CrossRef CAS PubMed .
V. Adinolfi, M. Yuan, R. Comin, E. S. Thibau, D. Shi, M. I. Saidaminov, P. Kanjanaboos, D. Kopilovic, S. Hoogland, Z.-H. Lu, O. M. Bakr and E. H. Sargent, The In-Gap Electronic State Spectrum of Methylammonium Lead Iodide Single-Crystal Perovskites, Adv. Mater., 2016, 28, 3406–3410 CrossRef CAS PubMed .
Y. Chen, H. T. Yi, X. Wu, R. Haroldson, Y. N. Gartstein, Y. I. Rodionov, K. S. Tikhonov, A. Zakhidov, X. Y. Zhu and V. Podzorov, Extended carrier lifetimes and diffusion in hybrid perovskites revealed by Hall effect and photoconductivity measurements, Nat. Commun., 2016, 7, 12253 CrossRef CAS PubMed .
T. Leijtens, G. E. Eperon, A. J. Barker, G. Grancini, W. Zhang, J. M. Ball, A. R. S. Kandada, H. J. Snaith and A. Petrozza, Carrier trapping and recombination: the role of defect physics in enhancing the open circuit voltage of metal halide perovskite solar cells, Energy Environ. Sci., 2016, 9, 3472–3481 CAS .
D. W. deQuilettes, S. M. Vorpahl, S. D. Stranks, H. Nagaoka, G. E. Eperon, M. E. Ziffer, H. J. Snaith and D. S. Ginger, Impact of microstructure on local carrier lifetime in perovskite solar cells, Science, 2015, 348, 683–686 CrossRef CAS PubMed .
W.-J. Yin, T. Shi and Y. Yan, Unusual defect physics in CH3NH3PbI3 perovskite solar cell absorber, Appl. Phys. Lett., 2014, 104, 063903 CrossRef .
A. Buin, R. Comin, J. Xu, A. H. Ip and E. H. Sargent, Halide-Dependent Electronic Structure of Organolead Perovskite Materials, Chem. Mater., 2015, 27, 4405–4412 CrossRef CAS .
M. L. Agiorgousis, Y.-Y. Sun, H. Zeng and S. Zhang, Strong Covalency-Induced Recombination Centers in Perovskite Solar Cell Material CH3NH3PbI3, J. Am. Chem. Soc., 2014, 136, 14570–14575 CrossRef CAS PubMed .
A. Walsh, D. O. Scanlon, S. Chen, X. G. Gong and S.-H. Wei, Self-Regulation Mechanism for Charged Point Defects in Hybrid Halide Perovskites, Angew. Chem., Int. Ed., 2014, 53, 1–5 CrossRef .
M.-H. Du, Density Functional Calculations of Native Defects in CH3NH3PbI3: Effects of Spin–Orbit Coupling and Self-Interaction Error, J. Phys. Chem. Lett., 2015, 6, 1461–1466 CrossRef CAS PubMed .
W. Shockley and W. T. Read, Statistics of the Recombinations of Holes and Electrons, Phys. Rev., 1952, 87, 835–842 CrossRef CAS .
T. Ueki, M. Itsumi and T. Takeda, Octahedral void defects observed in the bulk of Czochralski silicon, Appl. Phys. Lett., 1997, 70, 1248–1250 CrossRef CAS .
J. R. Ayres, Characterization of trapping states in polycrystalline-silicon thin film transistors by deep level transient spectroscopy, J. Appl. Phys., 1993, 74, 1787–1792 CrossRef CAS .
A. Balcioglu, R. K. Ahrenkiel and F. Hasoon, Deep-level impurities in CdTe/CdS thin-film solar cells, J. Appl. Phys., 2000, 88, 7175–7178 CrossRef CAS .
L. L. Kerr, S. S. Li, S. W. Johnston, T. J. Anderson, O. D. Crisalle, W. K. Kim, J. Abushama and R. N. Noufi, Investigation of defect properties in Cu(In,Ga)Se2 solar cells by deep-level transient spectroscopy, Solid-State Electron., 2004, 48, 1579–1586 CrossRef CAS .
J.-C. Blancon, W. Nie, A. J. Neukirch, G. Gupta, S. Tretiak, L. Cognet, A. D. Mohite and J. J. Crochet, The Effects of Electronic Impurities and Electron–Hole Recombination Dynamics on Large-Grain Organic–Inorganic Perovskite Photovoltaic Efficiencies, Adv. Funct. Mater., 2016, 26, 4283–4292 CrossRef CAS .
W. Zhang, M. Saliba, D. T. Moore, S. K. Pathak, M. T. Hörantner, T. Stergiopoulos, S. D. Stranks, G. E. Eperon, J. A. Alexander-Webber, A. Abate, A. Sadhanala, S. Yao, Y. Chen, R. H. Friend, L. A. Estroff, U. Wiesner and H. J. Snaith, Ultrasmooth organic–inorganic perovskite thin-film formation and crystallization for efficient planar heterojunction solar cells, Nat. Commun., 2015, 6, 6142 CrossRef CAS PubMed .
W.-J. Yin, T. Shi and Y. Yan, Unique Properties of Halide Perovskites as Possible Origins of the Superior Solar Cell Performance, Adv. Mater., 2014, 26, 4653–4658 CrossRef CAS PubMed .
P. Umari, E. Mosconi and F. De Angelis, Relativistic GW calculations on CH3NH3PbI3 and CH3NH3SnI3 Perovskites for Solar Cell Applications, Sci. Rep., 2014, 4, 4467 CrossRef PubMed .
A. Alkauskas and A. Pasquarello, Band-edge problem in the theoretical determination of defect energy levels: the O vacancy in ZnO as a benchmark case, Phys. Rev. B: Condens. Matter Mater. Phys., 2011, 84, 125206 CrossRef .

          J.-I. Iwata, S. Keisuke and A. Oshiyama, A precaution for the hybrid density functional calculation of open-shell systems, 2016, arXiv:1605.00338.
D. Shi, V. Adinolfi, R. Comin, M. Yuan, E. Alarousu, A. Buin, Y. Chen, S. Hoogland, A. Rothenberger, K. Katsiev, Y. Losovyj, X. Zhang, P. A. Dowben, O. F. Mohammed, E. H. Sargent and O. M. Bakr, Low trap-state density and long carrier diffusion in organolead trihalide perovskite single crystals, Science, 2015, 347, 519–522 CrossRef CAS PubMed .
G. Sadoughi, D. E. Starr, E. Handick, S. D. Stranks, M. Gorgoi, R. G. Wilks, M. Bär and H. J. Snaith, Observation and Mediation of the Presence of Metallic Lead in Organic–Inorganic Perovskite Films, ACS Appl. Mater. Interfaces, 2015, 7, 13440–13444 CAS .
J. M. Azpiroz, E. Mosconi, J. Bisquert and F. De Angelis, Defect migration in methylammonium lead iodide and its role in perovskite solar cell operation, Energy Environ. Sci., 2015, 8, 2118–2127 CAS .
W. Ming, S. Chen and M.-H. Du, Chemical instability leads to unusual chemical-potential-independent defect formation and diffusion in perovskite solar cell material CH3NH3PbI3, J. Mater. Chem. A, 2016, 4, 16975–16981 CAS .
J.-H. Yang, W.-J. Yin, J.-S. Park and S.-H. Wei, Fast self-diffusion of ions in CH3NH3PbI3: the interstiticaly mechanism versus vacancy-assisted mechanism, J. Mater. Chem. A, 2016, 4, 13105–13112 CAS .
C. Eames, J. M. Frost, P. R. F. Barnes, B. C. O'Regan, A. Walsh and M. S. Islam, Ionic transport in hybrid lead iodide perovskite solar cells, Nat. Commun., 2015, 6, 7497 CrossRef CAS PubMed .
E. Mosconi, D. Meggiolaro, H. J. Snaith, S. D. Stranks and F. De Angelis, Light-induced annihilation of Frenkel defects in organo-lead halide perovskites, Energy Environ. Sci., 2016, 9, 3180–3187 CAS .
E. Mosconi and F. De Angelis, Mobile Ions in Organohalide Perovskites: Interplay of Electronic Structure and Dynamics, ACS Energy Lett., 2016, 1, 182–188 CrossRef CAS .
J. L. Minns, P. Zajdel, D. Chernyshov, W. van Beek and M. A. Green, Structure and interstitial iodide migration in hybrid perovskite methylammonium lead iodide, Nat. Commun., 2017, 8, 15152 CrossRef CAS PubMed .
G. Boschloo and A. Hagfeldt, Characteristics of the Iodide/Triiodide Redox Mediator in Dye-Sensitized Solar Cells, Acc. Chem. Res., 2009, 42, 1819–1826 CrossRef CAS PubMed .
M. H. Du, Efficient carrier transport in halide perovskites: theoretical perspectives, J. Mater. Chem. A, 2014, 2, 9091–9098 CAS .
W. Li, J. Liu, F.-Q. Bai, H.-X. Zhang and O. V. Prezhdo, Hole Trapping by Iodine Interstitial Defects Decreases Free Carrier Losses in Perovskite Solar Cells: A Time-Domain Ab Initio Study, ACS Energy Lett., 2017, 2, 1270–1278 CrossRef CAS .
J. Haruyama, K. Sodeyama, L. Han and Y. Tateyama, Termination Dependence of Tetragonal CH3NH3PbI3 Surfaces for Perovskite Solar Cells, J. Phys. Chem. Lett., 2014, 5, 2903–2909 CrossRef CAS PubMed .
H. Uratani and K. Yamashita, Charge Carrier Trapping at Surface Defects of Perovskite Solar Cell Absorbers: A First-Principles Study, J. Phys. Chem. Lett., 2017, 8, 742–746 CrossRef CAS PubMed .
F. Deschler, M. Price, S. Pathak, L. E. Klintberg, D.-D. Jarausch, R. Higler, S. Hüttner, T. Leijtens, S. D. Stranks, H. J. Snaith, M. Atatüre, R. T. Phillips and R. H. Friend, High Photoluminescence Efficiency and Optically Pumped Lasing in Solution-Processed Mixed Halide Perovskite Semiconductors, J. Phys. Chem. Lett., 2014, 5, 1421–1426 CrossRef CAS PubMed .
C. Wehrenfennig, M. Liu, H. J. Snaith, M. B. Johnston and L. M. Herz, Charge carrier recombination channels in the low-temperature phase of organic-inorganic lead halide perovskite thin films, APL Mater., 2014, 2, 081513 CrossRef .
X. Wu, M. T. Trinh, D. Niesner, H. Zhu, Z. Norman, J. S. Owen, O. Yaffe, B. J. Kudisch and X. Y. Zhu, Trap States in Lead Iodide Perovskites, J. Am. Chem. Soc., 2015, 137, 2089–2096 CrossRef CAS PubMed .
W. Tress, M. Yavari, K. Domanski, P. Yadav, B. Niesen, J. P. Correa Baena, A. Hagfeldt and M. Graetzel, Interpretation and evolution of open-circuit voltage, recombination, ideality factor and subgap defect states during reversible light-soaking and irreversible degradation of perovskite solar cells, Energy Environ. Sci., 2018, 11, 151–165 CAS .
S. G. Motti, M. Gandini, A. J. Barker, J. M. Ball, A. R. Srimath Kandada and A. Petrozza, Photoinduced Emissive Trap States in Lead Halide Perovskite Semiconductors, ACS Energy Lett., 2016, 1, 726–730 CrossRef CAS .
D. Meggiolaro, E. Mosconi and F. De Angelis, Mechanism of Reversible Trap Passivation by Molecular Oxygen in Lead-Halide Perovskites, ACS Energy Lett., 2017, 2794–2798 CrossRef CAS .
W. Zhang, S. Pathak, N. Sakai, T. Stergiopoulos, P. K. Nayak, N. K. Noel, A. A. Haghighirad, V. M. Burlakov, D. W. deQuilettes, A. Sadhanala, W. Li, L. Wang, D. S. Ginger, R. H. Friend and H. J. Snaith, Enhanced optoelectronic quality of perovskite thin films with hypophosphorous acid for planar heterojunction solar cells, Nat. Commun., 2015, 6, 10030 CrossRef CAS PubMed .
J. H. Noh, S. H. Im, J. H. Heo, T. N. Mandal and S. I. Seok, Chemical Management for Colorful, Efficient, and Stable Inorganic−Organic Hybrid Nanostructured Solar Cells, Nano Lett., 2013, 13, 1764–1769 CrossRef CAS PubMed .
D. Kiermasch, P. Rieder, K. Tvingstedt, A. Baumann and V. Dyakonov, Improved charge carrier lifetime in planar perovskite solar cells by bromine doping, Sci. Rep., 2016, 6, 39333 CrossRef CAS PubMed .
S. T. Williams, F. Zuo, C.-C. Chueh, C.-Y. Liao, P.-W. Liang and A. K. Y. Jen, Role of Chloride in the Morphological Evolution of Organo-Lead Halide Perovskite Thin Films, ACS Nano, 2014, 8, 10640–10654 CrossRef CAS PubMed .
P. B. Ayscough, C. E. Burchill, K. J. Ivin and S. R. Logan, The photochemical oxidation of aqueous iodide solutions: an experiment demonstrating the competitive reactions of the hydrated electron, J. Chem. Educ., 1967, 44, 349 CrossRef CAS .
G. E. Eperon, S. N. Habisreutinger, T. Leijtens, B. J. Bruijnaers, J. J. van Franeker, D. W. deQuilettes, S. Pathak, R. J. Sutton, G. Grancini, D. S. Ginger, R. A. J. Janssen, A. Petrozza and H. J. Snaith, The Importance of Moisture in Hybrid Lead Halide Perovskite Thin Film Fabrication, ACS Nano, 2015, 9, 9380–9393 CrossRef CAS PubMed .
B.-S. Kim, M.-H. Choi, M.-S. Choi and J.-J. Kim, Composition-controlled organometal halide perovskite via CH3NH3I pressure in a vacuum co-deposition process, J. Mater. Chem. A, 2016, 4, 5663–5668 CAS .
D. P. McMeekin, G. Sadoughi, W. Rehman, G. E. Eperon, M. Saliba, M. T. Hörantner, A. Haghighirad, N. Sakai, L. Korte, B. Rech, M. B. Johnston, L. M. Herz and H. J. Snaith, A mixed-cation lead
mixed-halide perovskite absorber for tandem solar cells, Science, 2016, 351, 151–155 CrossRef CAS PubMed .
C. C. Stoumpos, C. D. Malliakas and M. G. Kanatzidis, Semiconducting Tin and Lead Iodide Perovskites with Organic Cations: Phase Transitions, High Mobilities, and Near-Infrared Photoluminescent Properties, Inorg. Chem., 2013, 52, 9019–9038 CrossRef CAS PubMed .
C. Quarti, E. Mosconi and F. De Angelis, Interplay of Orientational Order and Electronic Structure in Methylammonium Lead Iodide: Implications for Solar Cell Operation, Chem. Mater., 2014, 26, 6557–6569 CrossRef CAS .
C. Freysoldt, J. Neugebauer and C. G. Van de Walle, Fully Ab Initio Finite-Size Corrections for Charged-Defect Supercell Calculations, Phys. Rev. Lett., 2009, 102, 016402 CrossRef PubMed .
J. P. Perdew, K. Burke and M. Ernzerhof, Generalized Gradient Approximation Made Simple, Phys. Rev. Lett., 1996, 77, 3865–3868 CrossRef CAS PubMed .
H. J. Monkhorst and J. D. Pack, Special points for Brillouin-zone integrations, Phys. Rev. B: Solid State, 1976, 13, 5188–5192 CrossRef .
J. Heyd, G. E. Scuseria and M. Ernzerhof, Hybrid functionals based on a screened Coulomb potential, J. Chem. Phys., 2003, 118, 8207–8215 CrossRef CAS .
S. Grimme, J. Antony, S. Ehrlich and H. Krieg, A consistent and accurate ab initio parametrization of density functional dispersion correction (DFT-D) for the 94 elements H-Pu, J. Chem. Phys., 2010, 132, 154104 CrossRef PubMed .
P. Giannozzi, S. Baroni, N. Bonini, M. Calandra, R. Car, C. Cavazzoni, D. Ceresoli, L. C. Guido, M. Cococcioni, I. Dabo, A. D. Corso, S. D. Gironcoli, S. Fabris, G. Fratesi, R. Gebauer, U. Gerstmann, C. Gougoussis, A. Kokalj, M. Lazzeri, L. Martin-Samos, N. Marzari, F. Mauri, R. Mazzarello, S. Paolini, A. Pasquarello, L. Paulatto, C. Sbraccia, S. Scandolo, G. Sclauzero, A. P. Seitsonen, A. Smogunov, P. Umari and R. M. Wentzcovitch, QUANTUM ESPRESSO: a modular and open-source software project for quantum simulations of materials, J. Phys.: Condens. Matter, 2009, 21, 395502 CrossRef PubMed .
W. Zhang, S. Pathak, N. Sakai, T. Stergiopoulos, P. K. Nayak, N. K. Noel, A. A. Haghighirad, V. M. Burlakov, D. W. deQuilettes, A. Sadhanala, W. Li, L. Wang, D. S. Ginger, R. H. Friend and H. J. Snaith, Enhanced optoelectronic quality of perovskite thin films with hypophosphorous acid for planar heterojunction solar cells, Nat. Commun., 2015, 6, 10030 CrossRef CAS PubMed .

Footnote† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ee00124cThis journal is © The Royal Society of Chemistry 2018
Table Content:

Broader context
The success of lead-halide perovskites in solar cells is mainly related to their apparent tolerance to defects. In conventional semiconductors, defects introduce ionization levels within the material band gap, with consequent trapping of photogenerated carriers. Solution processed lead-halide perovskites, such as MAPbI3, are expected to show significant defect densities. Very low trap densities have instead been reported for single crystals, which increase by ∼4 orders of magnitude in polycrystalline films. By combining first-principles calculations and spectroscopic investigations, we disclose the nature, density and activity of trap states in metal halide perovskites and the reasons underlying the apparently minimal defect impact on the recombination of photogenerated carriers. We show that despite the fairly high defect density, only less abundant interstitial iodine defects introduce deep electron/hole traps in MAPbI3. The peculiar iodine redox chemistry leads, however, to kinetic deactivation of filled electron traps, leaving only short-living hole traps as potentially harmful defects. Notably, hole traps can be converted into kinetically inactive electron traps under mild oxidizing conditions, as well as by chlorine and bromine perovskite doping. Our results provide a conclusive rationale for the surprising defect tolerance of metal-halide perovskites and provide the interpretative basis for further optimizing perovskite optoelectronic properties.


 	Scheme 1  Dynamics of charge trapping and recombination in MAPbI3. Trap states show a distribution, ∼0.2–0.3 eV above the valence band (VB) and below the conduction band (CB).12 The relevant processes schematically reported are: (1) above band gap photoexcitation, producing electron (yellow circles)/hole (white circles) pairs. (2 and 4) Electrons (holes) are trapped in a donor (acceptor) levels. (3 and 5) Recombination (radiative or non-radiative) occurs between trapped electrons (holes) and VB holes (CB electrons).14	 
	(1)

 	Fig. 1  (a) Defect formation energy (DFE, eV) diagram versus the Fermi energy (EF, eV) for MAPbI3 showing the most stable defects in stoichiometric (iodine-medium) conditions. Solid lines indicate the stable charge states of a given defect, while the blue dashed lines indicate the metastable neutral state of Ii. The energy of positive (negative) defects increases (decreases) by increasing EF while that of neutral defects is stable with respect to EF. EF ranges from the top of the valence band (EF = 0) to the bottom of the conduction band EF = 1.58 eV, corresponding to the calculated band gap. The native Fermi level is indicated by the vertical black dashed line at 0.65 eV. (b) Thermodynamic ionization levels for the most stable defects calculated in (a) referenced to the VB corresponding to EF = 0. The ionization levels are determined by the crossing of the lines representing different charge states of a given defect in (a). (c) Lowest unoccupied level of V−Pb, resembling delocalized VB states. (d) Lowest unoccupied state of I0i, showing the formation of a localized state. (e) Highest occupied level of V0I, resembling delocalized CB states.	 

 	Fig. 2  (a–c) Local geometrical structures of interstitial iodine in its positive (a), more stable neutral (b) and negative (c) charge states, with associated I–I distances. Relevant iodine atoms involved in the trapping/detrapping processes are highlighted in yellow. For I+i the average of the two I–I bond lengths in reported. (d) Configuration diagrams (energy versus structural coordinates) of interstitial iodine in its positive (red), neutral (black) and negative (blue) charge states versus the root mean square displacement (RMSD) of the highlighted iodine atoms with respect to their position in I+i. The energies for the positive species are referenced to the VB maximum, while those of the negative species are referred to the CB minimum, simulating the energetics after photoexcitation (before recombination). The separate positive/neutral and negative/neutral energies have the same reference, thus they can be compared, while the positive/negative energies cannot be directly compared. The dots are calculated points while the solid lines are an interpolation of calculated points to guide to the eye.	 

 	Fig. 3  (a) Steady state PL spectrum of MAPbI3 as a function of excitation intensity (inset) at room temperature. (b) PL dynamics probed at 1.59 eV (red trace) corresponding to the PL emission maximum and the dynamics probed at the photo-bleach band at 1.61 eV (grey) of the transient absorption spectrum. The straight lines are used as guide to the eye to highlight two different slopes in the log–log scale.	 

 	Fig. 4  (a–c) Local geometrical structures of interstitial iodine in its negative charge states. (a) Native I−i; (b) bromine-substituted I−i; (c) chlorine-substituted I−i. (d) Defect formation energy (DFE, eV) diagram versus the Fermi energy (EF, eV) for halide interstitials in MAPbI3. Solid lines indicate the stable charge states of a given defect, while the blue lines indicate the metastable neutral state of Ii. Blue, red and green lines refer to native I−i, bromine-substituted and chlorine-substituted I−i, respectively. (e) Thermodynamic transition levels for the native I−i, bromine-substituted and chlorine-substituted I−i (blue, red and green lines, respectively).	 
μ(MA) + μ(Pb) + 3μ(I) = ΔfH(MAPbI3)	(2)
μ(MA) + μ(I) < ΔfH(MAI)	(3)
μ(Pb) + 2μ(I) = ΔfH(PbI2)	(4)
Footnote
† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ee00124c

This journal is © The Royal Society of Chemistry 2018
