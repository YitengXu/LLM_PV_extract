Insight into the reaction mechanism of water, oxygen and nitrogen molecules on a tin iodine perovskite surface   - Journal of Materials Chemistry A (RSC Publishing) DOI:10.1039/C8TA11705E View PDF VersionPrevious ArticleNext Article  DOI: 10.1039/C8TA11705E
(Paper)
J. Mater. Chem. A, 2019, 7, 5779-5793Insight into the reaction mechanism of water, oxygen and nitrogen molecules on a tin iodine perovskite surface†

        
          
            Guo 
            Xie
          
        
      a, 
      
        
          
            Ling 
            Xu
          
        
      *a, 
      
        
          
            Lin 
            Sun
          
        
      a, 
      
        
          
            Yan 
            Xiong
          
        
      a, 
      
        
          
            Ping 
            Wu
          
        
      a and 

        
          
            Bin 
            Hu
          
        
      *ab
aWuhan National Laboratory for Optoelectronics, Huazhong University of Science and Technology, Wuhan 430074, China. E-mail: xuling@mail.hust.edu.cn
bDepartment of Materials Science and Engineering, University of Tennessee, Knoxville, TN 37996, USA. E-mail: bhu@utk.edu
Received 
      5th December 2018
    , Accepted 4th February 2019First published on 6th February 2019AbstractIn this article, in order to study the lead-free perovskite CH3NH3SnI3 (MASnI3) reaction mechanism between perovskite surface molecules and gas molecules, we fabricated models for three different gas molecules adsorbing on an MASnI3 surface. First, the surface energies of seven low-index surfaces ((100), (010), (001), (110), (101), (011) and (111)) of orthorhombic MASnI3 were calculated by density functional theory (DFT). The results showed the (011) surface was the most stable among the seven low index surfaces by the PW91 method. Secondly, three stable configurations were sorted out from these adsorption models of different molecules (H2O, O2, N2) at six positions on the (011) surface. For H2O, O2 and N2 adsorption, the smallest adsorption energies were −1.931(934) eV, −0.134(67) eV and −0.049(523) eV, respectively. The stabilities of configurations for H2O adsorption were affected by the strong interaction of the H–I bond. However, for O2 adsorption, the Sn–O bond and charge transfer between the Sn atom and O atom mostly affected the stability of the configuration. We found that the MASnI3 surface under a N2 atmosphere maintained a higher stability than in the other two cases. In addition, we further confirmed that the mechanism of H2O adsorption was not the same as O2 and N2 molecular adsorption from the Mulliken population, energy band and electrical density of state calculations. These results indicated that the H–I bond and Sn–O bond mainly affect the Sn–I bond, leading to MASnI3 stability being worse in H2O and O2 environments, respectively, and performance in a N2 environment is more stable than in O2 and H2O environments. This investigation enhanced understanding of the degradation of perovskite and provided some suggestions for developing more stable lead-free perovskite solar cells and devices.
1. Introduction
Recently, organic–inorganic hybrid perovskite solar cells (OHPs) have made great breakthroughs in the photovoltaic field with their high power conversion efficiencies (PCE) of 23.3%.1 OHPs have lots of advantages, such as strong light harvest, long carrier diffusion distance, low exciton binding energy, simple preparation technology, etc.2–7 Based on these above-mentioned merits, there are multitudinous achievements in the respect of experiments for the sake of good performance, such as the meniscus-assisted solution printing method,8 cascade charge transfer through incorporating graphene nanoribbons with TiO2 as the electron transfer layer material,9 or utilizing a mesoporous electrode with NaYF4:Yb/Er upconversion nanoparticles,10etc. All these technologies boost the development of perovskite solar cells. In addition, there are many researches focusing on the theory of perovskite solar cells. For example, C. S. Tze et al.11 claimed good photovoltaic performance of MAPbI3 (MA+ = CH3NH3+) material originating from high symmetry, shared electron pairs transferring between Pb-6p and I-5s 5p orbital electrons, strong coupling of the electron pair on Pb-s with the electron on the I-p orbital, large lattice parameters, and the inherent bipolar half-doped behavior of MAPbI3. However, MAPbI3 also has lots of disadvantages like toxicity and instability.12–15 MA+ of perovskite solar cells (PSCs) is easily decomposed at high temperatures or in a high humidity environment. MAPbI3 will decompose into PbI2 when exposed to a light simulator (AM1.5) for 24 h at 85 °C or when exposed to environmental humidity controlled at 52% for 4 or 5 days and the efficiency of perovskite can degrade to 19%16 of initial value without being encapsulated in an air atmosphere after 30 min. In addition, there are plenty of lead-based perovskites with bad structure stability (FAPbI3, CsPbI3 for example)17 since there is a phase structure transition at room temperature. Therefore, studying lead-free PSC and its stability will become a significant matter. Compared with Pb-based perovskite, a lead free perovskite possesses these characters: low-toxicity, narrow optical bandgap, high charge carrier mobility, etc.18 Up to now, numerous reports have sprung up regarding degradation mechanisms of MAPbI3 in atmospheric conditions.19–24 Abdelmageed et al.19 discovered that the absorbance of MAPbI3 reduced rapidly in dry air with light, but it maintained its absorbance performance in dry air under dark conditions or in a N2 filled environment with light. This result implied that the disintegration of MAPbI3 in dry air arose from the interaction of light with O2. Shirayama et al.20 pointed out that MAPbI3 exposed to humidity then turned into a two dimensional PbI2 and zero dimensional hydrate phase (CH3NH3)4PbI6·2H2O.
Among these lead-free PSCs, whose formula is ASnX3, A = FA or MA, X = I in this work, their PCEs are far away from a Pb-based triiodide perovskite. Up to a recent data review of this field, FASnI3 achieved a PCE of 4.8% by Seok and his coworker,25 and then up to a PCE of 6.22% by Yan's group.26 Simultaneously MASnI3 reached a higher PCE of 6.4%.27 When it came to the intrinsic stability of a lead-free perovskite, few reports were found. F. Wang et al.28 performed measurements of the photoluminescence (PL) spectra of MASnI3 exposed to air and they found that when exposed in air for 1 h, the intensity of the PL of MASnI3 dropped by 40%. In the aspect of morphology, Thomas et al.29 noticed through its image with a scanning electron microscope (SEM), that a MASnI3 film's surface became rough when contacted with air for 3 h. F. Wang et al.28 pointed out that Sn2+ of MASnI3 was easily oxidized to Sn4+, and MASnI3 could form strong hydrogen bonds with H2O. Y. M. Lee et al.30 studied the stability of MASnI3, holding the opinion that the effect of the Sn–I bond and depletion of MA+ formed an unstable surface chemical state. Z. Z. Yang et al.31 studied the stability of four types of MASnI3/TiO2 interfaces (MAI/rutile, MAI/anatase, SnI2/rutile, SnI2/anatase) and found the most stable interface was the SnI2/anatase one because the bond strength of Sn–I increased. Zhang et al.32 explored different charge transfer performances of three kinds of interfaces (perovskite/perovskite, perovskite/electron transporting layer (ETL), and perovskite/hole transporting layer (HTL)). They believed the interface layer could enhance PCE with molecular adsorption on its surface. L. H. Zhang et al.33 found that water adsorption only slightly reduced the adsorption energy, but there was no spontaneous proton transfer from MA+ to H2O upon the degradation mechanism of the (110) surface of MAPbX3 (X = I, Br). From the above, though there are considerable reports on OHPs' stability, they lacked effective experimental methods to reveal the microscopic mechanism between the molecules on the surface of a perovskite and different atmospheric gas molecules.
By far, there are too few reports systematically exploring degradation mechanism at the atomic level, whereas most reports directly gave measurement evidence of degradation and ignored the nature of it. Apparently, it is a challenge experimentally to determine the reaction mechanisms with these adsorption situations and dependencies on the surface or the defects in different gas atmospheric conditions for lead-free perovskite materials. This disadvantage can be compensated by theoretical calculations. It is well known that a first principle calculation can provide electronic structures, structural parameters, relative energies and the intermediate adsorbent, etc. and it is also an effective method to discover the mechanism of surface adsorption for lead-free OHPs. In this article, we fabricated three types of adsorption (H2O, O2, N2 molecules) models on the surface of tin iodide perovskite MASnI3. To better understand the adsorption mechanisms in different atmospheric conditions, the influences of the adsorbate exerted on the surface of MASnI3 was analyzed. Ultimately this will pave the way for long-stability and high-performance MASnI3 devices with the aid of the results of this investigation.
2. Calculation methods
2.1 Parameter setting
A first principle calculation based on density function theory (DFT) was performed using a Cambridge Sequential Total Energy Package (CASTEP).34,35 The orthorhombic unit cell CH3NH3SnI3 (o-MASnI3) was selected in this work. The space group was 62 Pnma (Z = 4). The initial lattice parameter was a = 8.8362 Å, b = 12.5804 Å, c = 8.5551 Å. After geometric optimization, the lattice parameter was a = 8.14264 Å, b = 12.1881 Å, c = 8.61736 Å, corresponding with the experiment results.36 The exchange-correlation functional employed a generalized-gradient approximation (GGA)37 from Perdew–Wang 1991 (PW91).38 As for convergence tolerance, the energy was 5 × 10−6 eV per atom, the maximum force was 0.01 eV Å−1, the maximum stress was 0.02 GPa, and the maximum displacement was 5 × 10−4 Å. The cutoff energy was 310 eV with a K-point mesh39 of 3 × 3 × 1, and the self-consistent-field (SCF) iteration was 1 × 10−6 eV per atom. The valence electron of every element included H 1s1, C 2s2 2p2, N 2s2 2p3, O 2s2 2p4, Sn 5s2 5p2 and I 5s2 5p2.
2.2 Determination of the adsorption surface
Before studying the performance after adsorption, it is essential to select a surface with high stability as the adsorption surface. So, several low index surfaces40 were selected, which were the surfaces of (100), (010), (001), (110), (101), (011) and (111), respectively. All the calculation settings were kept identical when cleaving these surfaces and building periodic slab models. To build a symmetrical slab, the vacuum layer thickness was 11 Å. In this process, all the atoms were fully relaxed.
The calculation formula of surface energy is as follows: (1)where Esur represents the surface energy of the crystallographic plane, Eslab represents the total energy of the slab model, N represents the number of bulk in the slab model, and Ebulk represents the total energy of the bulk model. The surface energy is much smaller, and the structure is more stable.
The ideal low index single crystal surfaces were calculated without considering defects and impurities. Surface energies were calculated according to formula (1). Further, surface energies and lattice parameters of the low index surfaces were collected in Table 1. From Table 1, the values of total energy of these different index surfaces were quite close to each other. By comparison with other slabs' surface energies, the (011) surface has the smallest surface energy of 0.00277 J m−2 among all the selected surfaces. So, the (011) surface has the highest stability among all surfaces by the Lowest Energy Principle.41 Hence, the (011) surface was chosen as the adsorption surface.
Table 1 Lattice parameters of the low index surfaces and their surface energies




Slab or bulk
Cell formula
Atoms

a (Å)

b (Å)

c (Å)
Total energy (eV)

E
suf (J m−2)




Bulk
C4H24N4Sn4I12
48
8.14264
12.1887
8.61736
−6248.63068
—


(100)
C6H36N6Sn6I18
72
12.1887
8.61736
25.0651
−9370.77613
0.13811


(010)
C6H36N6Sn6I18
72
8.61736
8.14264
29.2015
−9369.531
0.38984


(001)
C6H36N6Sn6I18
72
8.14264
12.1887
25.7915
−9369.60493
0.26965


(110)
C6H36N6Sn6I18
72
8.61736
14.6583
21.2475
−9372.60447
0.02166


(101)
C6H36N6Sn4I18
70
11.8559
12.1887
24.2295
−9177.99155
0.28689


(011)
C6H36N6Sn6I18
72
8.14264
14.9273
21.4957
−9372.904
0.00277


(111)
C6H36N6Sn6I18
72
14.6583
11.8559
19.4074
−9370.73785
0.10178




2.3 Model building of H2O, O2 and N2 adsorption on (011) surface of MASnI3
The relaxed two layers on the top contained 14 atoms, including two Sn4 atoms, two I1 atoms, two I5 atoms, four H3 atoms, two H8 atoms, and two N9 atoms. Four stable configurations marked as M1, M2, M3 and M4. M1 represented clean surfaces, while M2, M3 and M4 represented the most stable structure of H2O, O2 and N2 adsorption on the surface of MASnI3, respectively, with the lowest energy, as shown in Fig. 1.
 Fig. 1  Optimized structure models of (a) clean (011) surface, (b) H2O adsorption on the surface of Hw at the I1 position, (c) O2 adsorption and (d) N2 adsorption on the surface of O and N at N9, respectively. Hw represents H atom of water. N9 is the atom of N of a MA cation on the surface. The figures of (b), (c) and (d) stand for H2O, O2 and N2 adsorption models; when the adsorption energy of each case is the smallest among all the cases where the same molecule adsorbs at different positions on the surface. 
However, there are not just three configurations for different molecules adsorption. In consideration of symmetry, there were 6 positions in the relaxed two layers: Sn4, I1, I5, H3, H8, and N9 which has two ways for H2O adsorption. One is the hydrogen atom of water (Hw) adsorbed on the surface of MASnI3. Another is the oxygen atom of water (Ow) adsorbed on the surface of MASnI3. For O2 or N2 adsorption, there were only six cases of molecular adsorption with each other, which are the cases following: O@Sn4, O@I5, O@I1, O@H8, O@H3, O@N9; N@Sn4, N@I5, N@I1, N@H8, N@H3, and N@N9. For H2O adsorption, there were twelve adsorption cases, as follows: Hw@Sn4, Ow@Sn4; Hw@I5, Ow@I5; Hw@I1, Ow@I1; Hw@H8, Ow@H8; Hw@H3, Ow@H3; Hw@N9, Ow@N9. Hw and Ow which represent the H atom and O atom of water molecule.
For a deep understanding of the influence on the stability of a perovskite in different atmospheres (H2O, O2 and N2), three stable configurations (M2, M3 and M4) were performed as in Fig. 1 and the results and discussion follow.
3. Results and discussion
3.1 Adsorption energy calculation
The (011) surface of MASnI3 was selected as the adsorption surface with the smallest surface energy. After cleaving the (011) surface from the bulk and building a periodic slab, these atoms of the surface in top two layers were relaxed, and other atoms in the slab were constrained. All structure settings kept the same condition.
Adsorption energy formula is: (2)where Eads is the adsorption energy, Emolecule/surface is the total energy of the system of a molecule on a (011) surface, N is the number of adsorption molecules, Emolecule is the total energy of the adsorption molecule, and Esurface is the total energy of a clean (011) surface. When the adsorption energy Eads is negative, the process is easy to occur spontaneously with an exothermic reaction. When Eads is positive, then the process is hard to occur spontaneously with an endothermic reaction.
To have some insights to the essence of different molecules' adsorption, the total energies (Etot) and the adsorption energies (Eads) of each molecule adsorption on the surface was calculated.
3.1.1 Adsorption energy calculation of H2O adsorption on the surface of MASnI3
As part 2.3 mentioned, there are twelve cases of H2O adsorption on the top two layers. The total energy and the adsorption energy were calculated in different adsorption locations as Table 2 shows. Calculated total energies of a H2O molecule and clean (011) surface are −467.629 eV and −9370.552 eV, respectively.
Table 2 Total energies and adsorption energies for a H2O molecule adsorbing at different positions




Number
The location of H or O of water
The total energy of EH2O/surface (eV)

E
ads (eV)




1
H@Sn4
−9839.60840
−1.427694


2
O@Sn4
−9839.82303
−1.642324


3
H@I5
−9839.69067
−1.509964


4
O@I5
−9839.70429
−1.523584


5
H@I1
−9840.11264
−1.931934


6
O@I1
−9839.94127
−1.760564


7
O@H8
−9840.05032
−1.869614


8
H@H8
−9840.03447
−1.853764


9
O@H3
−9840.06909
−1.888384


10
H@H3
−9840.03125
−1.850544


11
O@N9
−9839.94168
−1.760974


12
H@N9
−9839.67655
−1.495844





Table 2 illustrates the most stable system of H2O adsorbed on the surface of MASnI3. It shows the H atom of water (Hw) was adsorbed at I1 position easily, whose model is marked as M2. Eads of M2 was −1.931(934) eV, illustrating the total energy of the system decreased after H2O adsorption, and the adsorption process was spontaneous. All the adsorption energies of H2O adsorption at separate locations were negative, indicating that the H2O molecule easily reacted with the perovskite surface. For O2 or N2 adsorption, the most stable configuration was selected as well and marked as M3 or M4.
3.1.2 Adsorption energy calculation of O2 adsorption on the surface of MASnI3
As mentioned above, there were six cases of O2 adsorption on the perovskite surface at different positions, which were the positions of Sn4, I5, I1, H8, H3, and N9, respectively. The total energy of O2 molecule was −870.0921 eV. The total energies and the adsorption energies for each case of O2 adsorption at different positions are collected in Table 3.
Table 3 Total energy and the adsorption energy for an O2 molecule adsorbing at different positions




Number
The location of O2
The total energy of EO2/surface (eV)

E
ads (eV)




1
O2@N9
−10240.7787
−0.13467


2
O2@H3
−10240.6456
−0.00157


3
O2@H8
−10240.5634
−0.08063


4
O2@I1
−10239.849
0.79503


5
O2@I5
−10239.4342
1.20983


6
O2@Sn4
−10239.9888
0.65523




Evidently, from Table 3, the O atom easily was adsorbed at the positions of N9, H3 and H8, as their adsorption energies were negative. But O2 was difficultly adsorbed at the positions of I or Sn atom and, for the reason that all the adsorption energies were positive, the most stable location for O2 adsorption was at N9 of the MA cation. The Eads of M3 was −0.134(67) eV, which showed the adsorption process was exothermic and spontaneous. We grasped that O2 reacted with the NH3+ of organic cation MA+ easily. Therefore, we comprehended that the degradation of perovskite in an O2 atmosphere environment was caused by the interaction between the O atom and the N9 atom.
3.1.3 Adsorption energy calculation of N2 adsorption on the surface of MASnI3
Like H2O or O2 adsorption, all the data of the total energies and the adsorption energies for each case of N2 adsorption at different positions were gathered in Table 4. Notably, N2 barely reacted with the surface of MASnI3, and the most stable configuration was N@N9, M4. In the M4 configuration, the N atom of a N2 molecule was adsorbed at the N9 atom position of a MA+ cation, whose Eads was −0.049(523) eV. However, the adsorption energies of other adsorption positions were positive, which reflected that the adsorption process was an endothermic reaction.
Table 4 Total energy and adsorption energy of N2 adsorption located at different positions




Number
The location of N2
The total energy of EN2/surface (eV)

E
ads (eV)




1
N2@N9
−9912.48075
−0.049523


2
N2@H3
−9912.38532
0.045907


3
N2@H8
−9911.72034
0.710887


4
N2@I1
−9912.39607
0.035157


5
N2@I5
−9912.39972
0.031507


6
N2@Sn4
−9912.38997
0.041257




Comparing the processes of O2 adsorption with N2 adsorption, it is noticeable that the adsorption position of the N2 adsorption was similar to the O2 adsorption position in the aspect of adsorption location. Additionally, most adsorption energies for N2 adsorption at different positions were positive except for N2 adsorbed at the N9 position which denoted that N2 was difficult to react with a perovskite surface. Hence, N2 can passivate the surface of perovskite and maintain its stability.
Through comparison, some data of adsorption energies and the separate adsorption positions of M2, M3, and M4 were collected in Table 5 from which it is inferred that the mechanism of H2O adsorption was different from the O2 or N2 adsorption. As Fig. 1 showed, the position of H2O adsorption was different from the other two cases when the configuration of molecule/surface was stable. Water was adsorbed at the I1 position in the surface of MASnI3, while oxygen or nitrogen was adsorbed at N9 of a MA+ cation. At the moment, three of the smallest adsorption energies were different, which were −1.931(934), −0.134(67), and −0.049(523) eV for H2O, O2, and N2 adsorption, respectively. Thereby, their adsorption mechanisms were different. Though the adsorption position of O2 adsorption was the same as that of N2 on the surface of MASnI3, the total energies and the adsorption energies were different.
Table 5 The most stable positions and their adsorption energies with different molecules' adsorption




Configuration
Molecule/surface
Position

E
ads (eV)




M2
H2O/(011) surface
H of H2O@I1
−1.931(934)


M3
O2/(011) surface
O2@N9
−0.134(67)


M4
N2/(011) surface
N2@N9
−0.0495(23)




By comparing Etot and Eads of the clean (011) surface with those of other three molecule/surface models in Table 6, the perovskite kept a higher stability in an N2 atmosphere than in an O2 atmosphere. Moreover, Etot increases in the order, M3 < M4 < M1, indicating O2 exerted greater influence on the surface than that of N2 adsorption. Moreover, in terms of adsorption energy, Eads increases in the order: M3 < M4 which revealed that O2 contributed to the degradation of perovskite for a self-acting oxidation reaction.
Table 6 Total energies and adsorption energies of O2 or N2 adsorption




Configuration
Surface
The total energy Etot (eV)

E
ads (eV)




M1
Clean (011) surface
−9370.552
—


M3
O2/(011) surface
−10240.7787
−0.134(67)


M4
N2/(011) surface
−9912.48075
−0.049(523)




Conclusively, water adsorption differed from oxygen and nitrogen adsorption in position as the three configurations of M2, M3 and M4 showed. A water molecule reacted with the iodide ion on the surface of MASnI3 easily, but the oxygen molecule was bonded by the N atom of NH3+ of MA cation easily. However, N2 is difficult to be adsorbed on the surface of MASnI3. In addition, these adsorption energies indicate that a H2O molecule has stronger interaction with a perovskite surface than that of O2 and N2 molecules. In this point, perovskite films are more stable in a N2 atmosphere than in H2O or O2 atmosphere conditions.
To get more details of different adsorption mechanisms of these three cases, a series of properties were calculated, for instance, bond lengths, bond angles, Mulliken populations,42 electronic properties, band structures, density of states (DOS), electron density of states and electron difference densities.
3.2 Bond lengths, bond angles and Mulliken populations
To prove the micro adsorption mechanism and the interaction between the adsorbed atom (H atom of H2O, O atom of O2, and N atom of N2) and the atom of the adsorbed position (I1 or N9), the bond lengths, bond angles and populations for H2O adsorption are listed in Table 7, and those of O2 or N2 adsorption are listed in Table 8.
Table 7 Bond lengths, bond angles and population of the M1 configuration for H2O adsorption on the surface: H of H2O@I1a




Parameter
Parameter


Bond length(Å)
Bond angle(°)
Population





a H73, O74 and H75 are the atoms of a H2O molecule adsorbed at the I1 position.





O74–H75
0.975
—
0.55


H73–O74
0.981
—
0.57


H73–O74–H75
—
103.066
—


I1–H73
2.707
—
−0.03


O–H (free water)
0.986
—
—


H–O–H (free water)
—
104.279
—




Table 8 Bond lengths, bond angles and populations for O2 (M3 configuration) or N2 adsorption (M4 configuration) on the surface, O atom or N atom@N9a




Position
Bond
Parameter


Bond length (Å)
Bond angle (°)
Population





a N9 is the atom of a MA cation on the (011) surface; the position of O73, O74, N73 and N74 can be seen in Fig. 1c and d.





A oxygen molecule@N9
N9–O73
2.633
—
−0.08


O73–O74
1.438
—
0.19


N9–O73–O74
—
137.887
—


Free O2
O–O
1.209
—
—


A nitrogen molecule@N9
N9–N73
3.225
—
—


N73–N74
1.161
—
1.4


N9–N73–N74
—
142.406
—


Free N2
N–N
1.159
—
—




The model of H2O adsorption at the I1 position was shown in Fig. 1b. The iodine atom exists in an anion state on the surface of MASnI3 with a ion radius of 2.16 Å. The atomic radius of H and O atoms are 0.32 Å and 0.66 Å, with a covalent radius of 0.32 Å and 0.73 Å, respectively. In Table 7, the bond length of H–I bond was 2.7074 Å and the radium sum of H atom and I atom was 2.48 Å which indicated that the interaction between the iodine anion of the (011) surface and hydrogen atom of water was close to an ionic bond. The population of H–I was −0.05, which showed the covalent interaction was weak and the atoms of H and I formed an anti-bond state.43 Besides, the Etot of the system reduced after H2O adsorption on the (011) surface, indicating the H2O molecule was easy to be adsorbed on the perovskite surface of MASnI3.
Moreover, the O–H bond of the water molecule was not broken, implying the H–I bond only affected the bond strength of the O–H bond. And it was challenging for the H2O molecule to dissociate into an ionic state. Hence, the weak interaction between H2O molecule with the (011) surface was caused by van der Waals forces forming the halogen bond.
In Table 8, the bond length of N–O was 2.633 Å, which was larger than the sum radius of N and O (1.48 Å) (the covalent radius of the atom of N and O are 0.75 Å and 0.73 Å). Furthermore, the result attested the O atom had weak covalent interactions with the N9 atom. In addition, the Milliken population was −0.08, showing that overlapping electron clouds existed between the N atom in the MA+ cation and O atom of O2. All of these results demonstrated that the atoms of O and N have weak covalent interactions with the surface atom of MASnI3. So, the degradation of perovskite in O2 atmosphere was attributed to other atoms on the surface rather than the interaction between the O atom of O2 and the N9 atom.
Seemingly, the mechanism of N2 adsorption is similar to O2 adsorption. In the two cases mentioned, they were adsorbed at the same N9 position atom when the adsorption energy was the lowest (see Tables 3 and 4). In Fig. 1d of N2 adsorption, the bond length of the atom of N9 and N73 was 3.225 Å, much larger than the sum radius of N9 and N73 (1.5 Å). And there was no Mulliken population between N9 and N73, manifesting there was no shared electron between N9 and N73. The covalent interaction was weaker than that between the atom of O and N9 in O2 adsorption. It can be affirmed that the N2 molecule is difficult to adsorb on the surface of MASnI3. So, perovskite has higher stability in an N2 atmosphere environment than that in O2 atmosphere.
3.3 Electronic properties
From the above analysis, the mechanisms of three types of adsorption (H2O, O2 and N2 molecules adsorption on the surface of MASnI3) are different from each other. Apparently, the process of H2O adsorption on the surface of perovskite is much easier than O2 or N2 adsorption on the surface of MASnI3. A H2O molecule is more likely to form a H–I bond with strong interaction with the surface. By contrast, O2 was adsorbed at N9 of the MA+ cation position easily, owing to the self-acting oxidation reaction between the O atom and Sn atom. Therefore, the configuration of O2/surface entered into an unstable state. As a result, perovskite has the highest stability in an N2 atmosphere than in the other two environments.
To clarify the properties of interaction among H2O, O2 and N2 adsorption on the surface of MASnI3, their band structures, electron densities and electron difference densities were calculated.

3.3.1 Band structures. 
The band structure in each case is shown in Fig. 2a, b, c and d, corresponding M1, M2, M3 and M4. As Fig. 2 exhibited, different band gaps of M1, M2, M3 and M4 were 0.539 eV, 0.557 eV, 1.228 eV and 0.422 eV, respectively. Visibly, the band gap for oxygen adsorption was greatly larger than the other three situations. The energy band structure of Fig. 2c for O2 adsorption has a broader band gap and a denser valence band (VB) than H2O adsorption (Fig. 2b) and N2 adsorption (Fig. 2d).
 Fig. 2  Band structure of (a) clean (011) surface of the M1 configuration, (b) H2O molecule adsorbed at I1 on a (011) surface which is of M2 configuration, (c) O2 adsorbed at N9 on a (011) surface, which is of the M3 configuration, and (d) N2 molecule adsorbed at N9 on the (011) surface, which is of the M4 configuration. 
From the energy band, we drew a conclusion that O2 exerted a more powerful influence on structure stability than that of H2O and N2 molecular adsorption. Besides, a high density in the VB of O2 adsorption indicated the number of charge carriers increased more than in other cases. Hence, this is the reason why the mechanism of O2 adsorption is not the same as the N2 adsorption mechanism. The density of VB increased and the band gap widened, accounting for the instability of a perovskite surface in an O2 atmosphere. The increasing density of VB was caused by a spontaneous oxidation reaction. An oxygen atom easily can react with an atom of Sn. The reaction is O2 + 2Sn2+ → 2O2− + 2Sn4+, as a reference recorded.44 In this process, the O atom of O2 receives electrons, while the Sn2+ cation loses electrons to the O atom.45 So, this oxidation reaction contributed to the gain of density in the ground state carriers. Subsequently, the strong interaction of the Sn–O bond made it hard for the electron to jump from the valence band to the conduction band, broadening the band gap as well.46,47 To confirm this explanation, the density of states (DOS), electron densities and the electron difference densities were measured.


3.3.2 Density of state (DOS) and partial density of state (PDOS). 

Fig. 3 shows the DOS and PDOS of three separate molecules (H2O, O2, and N2) on a MASnI3 (011) surface. The curve of the total DOS of the M3 configuration was flatter and the peak of this curve has a longer span near Fermi energy in the valence band (VB) than the other three cases (M1, M2 and M4). The total DOS of M1 configuration (Fig. 3a) was mainly constituted by I 5p orbital electrons in VB and Sn 5p orbital electrons in the conduction band (CB) nearby the Fermi level. For H2O adsorption in a M2 configuration (Fig. 3b), the total DOS was primarily comprised by I 5p and 2p of O orbital electrons from H2O molecule in VB and Sn 5p orbital electrons in CB. For O2 adsorption in a M3 configuration (Fig. 3c), the curve of total DOS greatly changed with a long and flat peak span in the VB, matching well with the broad band gap. And the DOS was provided by electrons in the I 5p orbital and O 2p orbital in the VB and electrons in the O 2p orbit in the CB. For N2 adsorption in a M4 configuration (Fig. 3d), the DOS was contributed by Sn-5p and I-5p orbital electrons in the VB and Sn-5p and O-2p orbital electrons in the CB.
 Fig. 3  Density of states of (a) clean surface of the M1 configuration, (b) H2O molecule adsorbed on (011) a surface of the M2 configuration, (c) O2 molecule adsorbed on a (011) surface of the M3 configuration, (d) N2 molecule adsorbed on a (011) surface of the M4 configuration. The dot dash line stands for the Fermi energy. 
In addition, when the surface of MASnI3 adsorbed a water molecule, the PDOS curve of the I atom changed distinctly, and the peak near −4.5 eV became flatter. It was remarkable that for O2 adsorption the peak of tin atoms and iodine atoms shifted away or became close to the Fermi level. For the Sn atom, the peak shifted from 1 eV to 2.3 eV, with the peak decreasing from 4 electrons per eV to 1 electron per eV. For the I atom, the sub-peak shifted from −4.5 eV to −4 eV and the main peak shifted from −3 eV to −1.8 eV. For N2 adsorption, the peak of the PDOS of the Sn atom split into two peaks. One peak emerged at 0.8 eV and another peak arose at 1.2 eV. In this case, a sub-peak of the PDOS of the I atom appeared near −2 eV. This phenomenon of peak splitting in the CB near the Fermi level indicated there was no electron overlap, and there was no interaction between the basement and the N2 molecule which was confirmed by the curve having just one peak. This result further indicated that a N atom of N2 molecule had no reaction with the perovskite surface.
Although the adsorption locations were the same in Fig. 3c and d, the DOS curve of O2 adsorption changed more than that of N2 adsorption, showing that the perovskite surface sustains its stability in a N2 atmosphere. This result was consistent with the total energy and the adsorption energy of each system listed in Tables 5 and 6.
All in all, analyzing band structures (Fig. 2) and the DOS and PDOS (Fig. 3), the mechanisms of different types of adsorptions were exposed. This further demonstrated that water has a strong reaction with the I ion in the perovskite, forming a strong H–I bond, which may form an HI product, corresponding with the product of the degradation process of MAPbI3 in the condition of water contact.49,50 As ref. 46 and 47 reported, MAPbI3 decomposes into CH3NH3I and then into CH3NH2 and HI, which supported the calculation result.
Oxygen also has a self-acting oxidation reduction reaction with tin atoms on the surface with a charge transferred from Sn2+ to an O atom.47 According to ref. 41, Sn2+ of a tin-based perovskite is easily oxidized into Sn4+ with O2 contact. In this way, a tin-based perovskite differs from a lead-based perovskite because pure O2 without light will passivate the surface of MAPbI3.50
Nitrogen not only has no strong interaction with a surface but also has no negative effects on it which is consistent with Pb-based perovskite, as the experimental results show.
To clarify the charge transfer mechanism for H2O, O2 and N2 adsorptions, electron densities and electron difference densities were calculated.


3.3.3 Electron density. 
Electron density reveals adsorption difference of the MASnI3 (011) surface and different molecules (H2O, O2 and N2), reflecting the interactions between neighboring atoms. As mentioned above, the H atom of water has a strong interaction with an I atom, and the O atom has a strong interaction with a Sn atom. To support this argument, electron density analyses were performed as shown in Fig. 4. The electron density of a clean surface shows in Fig. 4a that there were electron overlaps between the Sn atom and the I atom, which suggested the ionic bond of Sn–I was strong. In the electron density profile, the red area represents an electron-rich region, while the blue area stands for an area of few electrons. Clearly, there was a little electron cloud overlap between Sn–I in Fig. 4b which suggested that the interaction of Sn and I decreased when a H atom of water was adsorbed at the I1 position for H2O adsorption. The bond strength of Sn–I of the ionic bond was reduced, leading to instability of the perovskite surface. Thus, the H of water can form a H–I bond with an I ion, undermining the strength of the Sn–I bond. Consequently, the stability of perovskite surface is reduced.
 Fig. 4  Electron density of (a) clean (011) surface of the M1 configuration, (b) H2O adsorption at I1 of the M2 configuration, (c) O2 adsorption at N9 of the M3 configuration, (d) N2 adsorption at N9 of the M4 configuration. 
However, as for O2 adsorption in Fig. 4c, there was no electron cloud overlap between a Sn atom and I atom in the top two layers. On the contrary, there was strong overlap between a Sn atom and O atom and the region along the Sn atom to the O atom enriched electrons. This density profile confirmed that the Sn atom and O atom had plenty of transferred charges, forming a Sn–O bond. This conclusion is in accord with the experiment reported about FASnI3 with the condition of O2 contact.51 The O element has a strong electronegativity and the O2 molecule has a strong oxidability,52 which made the Sn2+ ion into a Sn4+ ion and atomic O into a O2− ion.
Whether in the process of H2O adsorption or in the process of O2 adsorption, the interaction of the Sn atom and I atom (Sn–I bond) was weakened. However, in the process of N2 adsorption, the strength of the Sn–I bond was not weakened, and even strengthened. On the contrary, the bond strength of Sn–I was increased and the anisotropy property of the electrons enhanced. For N2 adsorption in Fig. 4d, distinctly, the N atom of N2 has no shared electrons with N9, indicating N2 has no interaction with the surface of MASnI3. Therefore, it can be deemed that the stability of the perovskite surface will not be reduced in a N2 atmosphere environment.


3.3.4 Electron density difference. 
To obtain information across the charge transfer mechanism of four cases (clean surface, H2O, O2 and N2 adsorption), electron difference densities were calculated (see Fig. 5).
 Fig. 5  Electron difference density of (a) clean (011) surface of the M1 configuration, (b) H2O adsorption at I1 of the M2 configuration, (c) O2 adsorption at N9 of the M3 configuration, (d) N2 adsorption at N9 of the M4 configuration. 
The calculation formula of electron difference density is:53 Δρ = ρmolecule/surface − (ρmolecule + ρsurface)(3)where Δρ is the change of electron difference density, ρmolecule/surface is the density of the system of H2O, O2 or N2 molecule adsorption on (011) surface, respectively, and ρsurface is the electron density of a molecule on a clean surface. When Δρ is negative, this region loses charges and when Δρ is positive this region gains charges. With assistance from the Mulliken charge, we can clearly know the transferred charges.54,55

Fig. 5 supported evidence for the charge transfer and structure stability in these configurations.56 Where a sharp increase appears in the electron density difference, there is an abundant charge transfer. Obviously, on a clean (011) surface, from an iodine atom to a tin atom along the Sn–I bond, Δρ increased initially and then decreased as Fig. 5a showed, indicating charge transfer existed between tin atoms and adjacent iodine atoms with the iodine atom denoting charges to the tin atom. While in H2O adsorption in Fig. 5b, the charges transferred reduced from the Sn2+ ion to the I− ion. This result showed the bond strength of Sn–I weakened, because a water molecule formed a strong H–I bond between adsorption molecules and the surface. For O2 adsorption in Fig. 5c, the region near the O atom was red. The adsorbed O atom, whose Mulliken charge was −0.46e, obtained 0.46e charge from other neighbor atoms. Meanwhile, the Mulliken charge of the Sn atom near the O atom was 0.70e, denoting the Sn atom lost charges. Cleary the charges transferred from the Sn atom to the O atom.
However, there were no noticeable density differences along the Sn–I bond, which indicated the Sn–I bond was broken, resulting in instability of the surface. This profile testified that a charge transfer existed between the O atom and the Sn atom and explained the occurrence of the spontaneous redox reaction. It offered evidence for the instability of a perovskite surface in an atmosphere of O2 as well.
The case of N2 adsorption differed from either H2O adsorption or O2 adsorption as Fig. 5 shows. In Fig. 5, it can be observed that the distribution of the electron density difference of the configurations of N2 adsorption is exactly similar to that of a clean (011) surface. The bond strength of Sn–I was not weakened. Besides, the adsorption location of N9 had no interaction with the isolated N2 molecule on the surface. That gave proof to the conclusion that the surface of perovskite can maintain its stability in a N2 atmosphere.

3.4 Comparing the stability of MASnI3 and MAPbI3
It is well known that MAPbI3 is extremely unstable in an O2 atmosphere as it makes the following reactions easily:57–59 CH3NH3PbI3 ⇌ PbI2 + CH3NH3I(4) (5)
There is a block in the computing case of O2 adsorption on the MAPbI3 surface. Therefore, we calculated the cases of H2O adsorption and N2 adsorption on a MAPbI3 surface and compared those with these cases of MASnI3 adsorptions.
In this part, we put emphasis on these points: adsorption sites, adsorption energies, bond lengths, bond angles and populations in every case of H2O or N2 molecule adsorption on a MASnI3 (011) surface or MAPbI3 (110) surface.

3.4.1 Adsorption energy calculation in stable state for the H2O and N2 molecule adsorption on MASnI3 and MAPbI3 surfaces. 

Table 9 shows these adsorption energies with different molecular adsorptions on MASnI3 (011) and MAPbI3 (110) surfaces. From Table 9, we found several differences in the cases of H2O or N2 adsorption on MASnI3 or MAPbI3 surfaces, as follows:
Table 9 Adsorption energies of different molecules' adsorption on a MASnI3 (011) surface and MAPbI3 (110) surface




Adsorption case
MASnI3 (011) surface
MAPbI3 (110) surface




H2O adsorption
Adsorption location
Hw@I1
Ow@H3
Ow@H2
Hw@I5


The adsorption energy/eV
−1.931934
−1.888384
−1.17594
−1.13924


O2 adsorption
Adsorption location
O2@N9
—
—
—


The adsorption energy/eV
−0.13467
—
—
—


N2 adsorption
Adsorption location
N2@N9
N2@H3
N2@H7
—


The adsorption energy/eV
−0.049523
0.045907
−0.520503
—




First, the adsorption energies were different from each other in every case. For H2O adsorption on a MASnI3 (011) surface, when the H atom of H2O was adsorbed at the I1 position, then the total energy of the system of H2O/(011) surface was the smallest (adsorption energy was −1.93(1934) eV). Whereas for H2O adsorption on a MAPbI3 (110) surface, the most stable case was when the O atom of H2O adsorbed at the H2 atom (then the adsorption energy was −1.17(594) eV). The negative adsorption energy indicates the adsorption process is an exothermic reaction. The more energy released, the more unstable the perovskite structure is. According to Table 9, the released energy of H2O adsorption on a MASnI3 surface was more than H2O adsorption on the MAPbI3 which means that MAPbI3 has a higher stability than MASnI3 in a H2O atmosphere.
Secondly from Table 9, the adsorption energies of H2O/MASnI3 were larger than that of the H2O/MAPbI3 system for H2O adsorption on the surface of MAnI3 or MAPbI3 no matter if a H atom of H2O adsorbed at an I atom or if a H atom adsorbed at a H atom of the perovskite surface. Therefore, a H2O molecule exerted a greater effect on a MASnI3 surface, showing that MASnI3 possesses poor stability with H2O molecules than that of MAPbI3.
For N2 adsorption on a MASnI3 (011) surface, the most stable structure was when the N2 was adsorbed at the N9 atom position, the adsorption energy of which was −0.049(523) eV while N2 was adsorbed at the H7 atom position, and then became the most stable system, with an adsorption energy of −0.520(503) eV on a MAPbI3 (110) surface. Owing to the lesser energy released for N2 adsorption on MASnI3 (011) surface, MASnI3 has a higher stability than MAPbI3 in a N2 atmosphere.


3.4.2 Bond length, bond angle and Mulliken population calculation. 
In this regard, we calculated the bond lengths of the octahedral [PbI6]4− and octahedral [SnI6]4− in different cases and listed the results in Table 10.
Table 10 Bond lengths of octahedral [PbI6]4− and [SnI6]4− in different cases (clean surface, H2O adsorption, N2 adsorption) in their most stable statea






Pb–I of MAPbI3
Sn–I of MASnI3





a The last value in every case is the average value of their former values.





Clean surface
3.767, 3.058, 3.628, 4.072, 2.982, 3.020 (3.42)
3.095 (2 bonds), 3.110 (2 bonds), 3.143 (2 bonds) (3.1)


H2O adsorption
3.813, 4.057, 2.982, 3.058, 3.578, 3.020 (3.43)
3.360, 3.095, 3.535, 3.143 (2 bonds), 3.110 (3.22)


N2 adsorption
2.982, 3.804, 3.577, 3.058, 4.077, 3.020 (3.43)
3.540, 3.110, 3.095, 3.143 (2 bonds), 3.742 (3.27)




Based on our previous research, we found that the Pb–I bond and Sn–I bond plays a crucial role in structural stability of MAPbI3 and MASnI3. From Table 10, it is found that the bond length of Pb–I remained nearly unchanged after H2O adsorption and N2 adsorption. However, the bond length of Sn–I enlarged significantly which further confirmed that MAPbI3 is much more stable than MASnI3 in a H2O atmosphere.
The discussion above about the octahedron structure just acts as one point of the part of bond length. In order to learn more details about bond lengths, we analyzed their stability with respect to the Mulliken population, including bonding atoms of metal and halide atoms, including charge as well, and listed the results in Table 11.
Table 11 Bond lengths and charges of the I–Pb bond and I–Sn bond in different cases (clean surface, H2O adsorption, N2 adsorption) when in their most stable statea




Case
Bond
Population
Bond length/Å
Atom
Charge/e





a In this table, the atom of I6 is the adsorption location.





Clean MAPbI3 (110) surface
I3–Pb6
−1.14
2.98242
I3
−0.35


Pb6
0.58


H2O@MAPbI3 (110) surface
I3–Pb6
−1.25
2.98242
I3
−0.35


Pb6
0.58


N2@MAPbI3 (110) surface
I3–Pb6
−1.35
2.98242
I3
−0.35


Pb6
0.59


Clean MASnI3 (011) surface
I6–Sn6
—
3.095
I6
−0.30


Sn6
0.24


H2O@MASnI3 (011) surface
I6–Sn6
−0.12
2.89431
I6
−0.28


Sn6
0.32


N2@MASnI3 (011) surface
I6–Sn6
−0.11
2.87404
I6
−0.35


Sn6
0.27




From Table 11, we found that the I6–Sn6 bond played an important role on a MASnI3 (011) surface producing the strong interaction of a I6 atom and Sn6 atom. For H2O adsorption on a MASnI3 (011) surface, the bond length of I6–Sn6 decreased and the I6 atom lost a charge of 0.02e while the Sn6 atom lost 0.08e charge.
For N2 adsorption on a MASnI3 (011) surface, the bond length of I6–Sn6 became shorter and the I6 atom gained 0.05e charge while Sn6 lost 0.03e charge, implying that the I–Sn bond strengthened in a N2 atmosphere. This indicated that MASnI3 was more stable than MAPbI3 in an N2 atmosphere. By that contrast, no matter what the H2O adsorption or N2 adsorption on a MAPbI3 surface was, the most powerful bond of I6–Sn6 did not alter its bond length. In the meantime, the charge of the I3 atom maintained −0.35e whether under the adsorption or not whereas the charge of the Pb6 atom turned from 0.58e to 0.59e, meaning the Pb6 atom lost 0.01e which was less than MASnI3 in the same condition. Because the I–Sn bond was elevated, but the I–Pb bond was not enhanced, MASnI3 was more stable than MAPbI3 under a N2 atmosphere.


3.4.3 Comparing the interaction between H2O or N2 molecules and perovskite surface after molecule adsorption. 
Since we discussed the changes of the internal structure of perovskite, here next we focus on the external changes, especially on adsorption molecules and, like a MASnI3 surface adsorbing molecules, we gathered the related information in Table 12.
Table 12 Bond length, bond angle and population of the MAPbI3 (110) surface adsorbing H2O (Ow@H2)




Parameter
Parameter


Bond length (Å)
Bond angle (°)
Population




O1–H37
0.976
—
0.55


H38–O1
0.979
—
0.56


H37–O1–H38
—
105.538
—


O1–H2
2.750
—
−0.00


O–H (free water)
0.986
—
—


H–O–H (free water)
—
104.279
—




From Table 12, when an Hw atom adsorbed at I1 of the MASnI3 (011) surface, the bond angle of H–O–H of a H2O molecule was reduced by 1.213°, but when an Ow atom adsorbed at H2 of a MAPbI3 (110) surface, the bond angle of H–O–H increased by 2.472°. In addition, the population of the I1–Hw bond was −0.03 when H2O adsorbed at the MASnI3 (011) surface, indicating it formed a weak H–I bond. However, the population of Ow–H2 was −0.00 in the case of H2O adsorption at H2 on the MAPbI3 (110) surface, showing the Ow atom had little interaction with an H2 atom on the surface which demonstrated the influence of H2O on MASnI3 was greater than that on MAPbI3. This showed that the H–I bond weakened the Sn–I bond and thus destroyed its stability. So, it is confirmed that MAPbI3 is more stable in an atmosphere of H2O than MASnI3. Similarly, for N2 molecule adsorption on the H7 position of a MAPbI3 (110) surface, a similar table was obtained.
It is clear that the bond length of the N2 molecule changes little after adsorption on a MAPbI3 (110) surface, denoting that the N2 molecule did not have any interaction with the MAPbI3 (110) surface. In this regard, when N2 adsorbed on a MASnI3 (011) surface, the bond length of the N2 molecule increased from 1.159 Å to 1.161 Å (Table 13).
Table 13 Bond length, bond angle and population for N2 adsorption on a MAPbI3 (110) surface (N2@H7)




Bond
Parameter


Bond length (Å)
Bond angle (°)
Population




H7–N73
3.300
—
—


N73–N74
1.159
—
1.36


H7–N73–N74
—
123.913
—


Free N2 molecule (N–N bond)
1.159
—
—





Summarizing, from the analysis of bond length, energy and charge etc., in a H2O environment, there was little effect on the Pb–I bond of MAPbI3 caused by a H–O bond, and these atoms on the surface were little affected by H–O bond. But, H2O had a great effect on the Sn–I bond on a MASnI3 surface. Thus, MAPbI3 is more stable than MASnI3. In an N2environment, when N2 adsorbed on a MASnI3 surface, the bond length of I–Sn became shorter, resulting an enhanced stability of MASnI3. The I6 atom gained more electrons and meanwhile the Sn6 atom lost more electrons, meaning that the I–Sn bond strengthened in a N2 condition. Compared with the fact that N2 had no interaction with MAPbI3, N2 acted as the major role in sustaining the stability of the MASnI3's surface. Apparently, MAPbI3 is capable of keeping its structure in an N2 atmosphere but MASnI3 changes a little whether in bond length or in charge. Hence, MASnI3 presented a poorer stability than MAPbI3.
In addition, we count that the differences with the stability of MASnI3 and MAPbI3 in H2O and N2 environments arise from their different bulk structures. We calculated their energy bands, density of states and electron densities. In ESI (Fig. S1),† the band gaps of MASnI3 and MAPbI3 were 0.822 eV and 2.033 eV, respectively. These results are drastically different from the experimental results60,61 since we selected the PW91 calculation method. According to the band structures, their electron effective masses are the same value of 0.05m0 at the bottom of the conduction band. But their whole effective masses were not equal at the top of the conduction band because one of the MASnI3 at X-point is −0.08m0 while one of the MAPbI3 at Z-point or at U-point is −0.25m0 or −0.37m0. Different carrier effective masses decide the different properties of a carrier transport and, what's more, predict the different impacts that H2O and N2 have on MASnI3 and MAPbI3 surfaces, respectively.
Then, we calculated the energy band and density of states of the MASnI3 (011) and MAPbI3 (110) surfaces on clean surfaces when absorbing H2O and N2 molecules based on Fig. S2 and S3.† For the MAPbI3 perovskite, the band gaps of clean surface, H2O absorption and N2 absorption are 1.979 eV, 1.820 eV and 1.800 eV, respectively which further show that H2O and N2 had little effect on MAPbI3. Yet, for MASnI3, the band gaps of clean surface, H2O absorption and N2 absorption are 0.539 eV, 0.557 eV and 0.422 eV, respectively. From Fig. S2,† we obtained Table S1.†
With an adsorbed H2O molecule, the band gap of the H2O/MASnI3 system was slightly augmented from 0.539 eV (clean MASnI3 (011) surface) to 0.557 eV. However, for H2O adsorption on a MAPbI3 (110) surface, the gap decreased from 1.979 eV to 1.820 eV. But, the gaps also were decreased in the cases of N2 adsorption on MASnI3 or on MAPbI3.
From Fig. S3,† we found that nearby −3 eV, the peak of the I-5p orbital PDOS was reduced and induced a resonance phenomenon with the 2p orbital of H2O molecules which showed that the O atom of H2O had a strong covalence interaction with the I atom of perovskite, forming an O–I bond, which was stronger than an O–Pb bond since there were no changes for Pb's PDOS; this was similar to the case of H2O adsorption on MASnI3 (011) surface.
For N2 adsorption on a MAPbI3 (110) surface, in the valence band under the Fermi level, the peak of I 5p orbital sharpened, indicating increased locality of the I atom. Besides, a N2 molecule did not contribute to the electron density of states on the surface near the Fermi level. This was different from the case of N2 adsorption on a MASnI3 (011) surface as the electrons of a N2 molecule almost contributed to the conduction band above Fermi level.
Finally, we found adding the interface layer also enhanced a perovskite's stability. Here, we used TiO2 as a sample, and designed an interface model of TiO2/perovskite and from the ESI (Fig. S4–S6, and Tables S2 and S3),† we calculated the interface properties with and without adsorption of H2O molecules.

4. Conclusions
Overall, three kinds of molecular (H2O, O2, and N2) adsorptions on the most stable surface (011) of MASnI3 were examined using DFT. The adsorption energy for three configurations was ranked and increased in the sequence: H2O adsorption (−1.931(934) eV) < O2 adsorption (−0.134(67) eV) < N2 adsorption (−0.0495(23) eV), which implied MASnI3 would be the most stable structure in a N2 environment, consistent with experiments.48 Furthermore, H2O will form a H–I bond, while O2 will form a Sn–O bond with the surface, affecting the stability of a molecule/surface compound. Moreover, the weakened Sn–I bond on the surface was the origin for affecting the instability of the surface. Nevertheless, a perovskite can sustain its stability under a N2 atmosphere.
Based on this conclusion, it is the Sn–I bond that plays a significant role in the stability of a perovskite surface. Either H2O or O2 exerts a negative influence on the surface by weakening the bond strength of Sn–I. Thus, we can prevent the H atom from bonding with I5 on a perovskite surface. In addition, adding Sn(IV) compounds during the film making process is also an effective method to prohibit oxidation of Sn(II) on the surface. So, avoiding a high moisture environment is essential for decreasing the interactions between H atoms of water and I ions on the surface. The halogen bond (H–I bond) is crucial to affect the octahedron [SnI6]4−.
Compared with the difference between MASnI3 and MAPbI3 from the analysis of bond length, energy, charge, etc. under a H2O environment, there was little effect on the Pb–I bond of MAPbI3 caused by a H–O bond, but H2O made a great effect on the Sn–I bond on a MASnI3 surface. Thus, MAPbI3 is more stable than MASnI3. In a N2 environment, N2 played the primary role in sustaining the stability of the MASnI3 surface. MAPbI3 is capable of keeping its structure under a N2 atmosphere but MASnI3 changes little whether in bond length or in charge. Hence, MASnI3 presented poorer stability than MAPbI3. Furthermore, we found the interface layer also enhanced perovskite stability.
Building on this work, additional research will pay more attention to avoiding the formation of HI molecules and thus will enhance the stability of tin-based perovskites. We hope our results and analysis contribute to high efficiency and stable lead-free organic–inorganic hybrid perovskite materials and devices.
Conflicts of interest
There are no conflicts to declare.
Acknowledgements
We acknowledge financial support from the Fundamental Research Funds for the Central Universities in the Huazhong University of Science and Technology (Grant 2016YXMS033) and support from Double first-class research funding with independent intellectual property of ICARE (Grant 3011187028).
References
S. I. Seok, M. Gratzel and N. G. Park, Small, 2018, 14, e1704177 CrossRef PubMed .
J. S. Huang, Y. B. Yuan, Y. C. Shao and Y. F. Yan, Nat. Rev. Mater., 2017, 2, 17042 CrossRef CAS .
O. M. Bakr and O. F. Mohammed, Science, 2017, 355, 1260–1261 CrossRef CAS PubMed .
J. N. Chen, S. S. Zhou, S. Y. Jin, H. Q. Li and T. Y. Zhai, J. Mater. Chem. C, 2016, 4, 11–27 RSC .
Y. Yang and J. B. You, Nature, 2017, 544, 155–156 CrossRef CAS PubMed .
W. J. Yin, T. Shi and Y. Yan, Adv. Mater., 2014, 26, 4653–4658 CrossRef CAS PubMed .
M. V. Kovalenko, L. Protesescu and M. I. Bodnarchuk, Science, 2017, 358, 745–750 CrossRef CAS PubMed .
M. He, B. Li, X. Cui, B. Jiang, Y. He, Y. Chen, D. O'Neil, P. Szymanski, M. A. Ei-Sayed, J. Huang and Z. Lin, Nat. Commun., 2017, 8, 16045 CrossRef CAS PubMed .
X. Meng, X. Cui, M. Rager, S. Zhang, Z. Wang, J. Yu, Y. Harn, Z. Kang, B. K. Wagner, Y. Liu, C. Yu, J. Qiu and Z. Lin, Nano Energy, 2018, 52, 123–133 CrossRef CAS .
M. He, X. Pang, X. Liu, B. Jiang, Y. He, H. Snaith and Z. Lin, Angew. Chem., Int. Ed. Engl., 2016, 55, 4280–4284 CrossRef CAS PubMed .
C. S. Tze and M. Nripan, Energy Environ. Sci., 2014, 7, 2518–2534 RSC .
F. Hao, C. C. Stoumpos, D. C. Constantinos, R. P. H. Chang and M. G. Kanatzidis, Nat. Photonics, 2014, 8, 489–494,  DOI:10.1038/nphoton494.2014.82 .
P. P. Sun, Q. S. Li, L. N. Yang and Z. S. Li, Nanoscale, 2016, 8, 1503–1512 RSC .
J. P. C. Baena, M. Saliba, T. Buonassisi, M. Grätzel, A. Abate, W. Tress and A. Hagfeldt, Science, 2017, 358, 739–744 CrossRef PubMed .
M. L. Cantú, Nat. Energy, 2017, 2, 17115 CrossRef .
M. Z. Liu, M. B. Johnston and H. J. Snaith, Nature, 2013, 501, 395–398 CrossRef CAS PubMed .
Y. Guo, C. B. Li, X. C. Li, Y. S. Niu, S. G. Hou and F. Wang, J. Phys. Chem. C, 2017, 121, 12711–12717 CrossRef CAS .
W. Ke, C. C. Stoumpos and M. G. Kanatzidis, Adv. Mater., 2018, e1803230 CrossRef PubMed .
G. Abdelmageed, L. Jewell, K. Hellier, L. Seymour, B. Luo, F. Bridges, J. Z. Zhang and S. Carter, Appl. Phys. Lett., 2016, 109, 233905 CrossRef .
M. Shirayama, M. Kato, T. Miyadera, T. Sugita, T. Fujiseki, S. Hara, H. Kadowaki, D. Murata, M. Chikamatsu and H. Fujiwara, Phys. Rev. Appl., 2016, 109, 014012 CrossRef .
T. Leijtens, G. E. Eperon, N. K. Noel, S. N. Habisreutinger, A. Petrozza and H. J. Snaith, Adv. Energy Mater., 2015, 5, 1500963 CrossRef .
N. Z. Koocher, D. –G. Saldana, F. Wang, S. Liu and A. M. Rappe, J. Phys. Chem. Lett., 2015, 6, 4371–4378 CrossRef CAS PubMed .
X. X. Ma and Z. S. Li, Appl. Surf. Sci., 2018, 428, 140–147 CrossRef CAS .
B. Hailegnaw, S. Kirmayer, E. Edri, G. Hodes and D. Cahen, J. Phys. Chem. Lett., 2015, 6, 1543–1547 CrossRef CAS PubMed .
S. J. Lee, S. S. Shin, Y. C. Kim, D. Kim, T. K. Ahn, J. H. Noh, J. Seo and S. I. Seok, J. Am. Chem. Soc., 2016, 138, 3974 CrossRef CAS PubMed .
W. Liao, D. Zhao, Y. Yu, C. R. Grice, C. Wang, A. J. Cimaroli, P. Schulz, W. Meng, K. Zhu, R. G. Xiong and Y. Yan, Adv. Mater., 2016, 28, 9333 CrossRef CAS PubMed .
N. K. Noel, S. D. Stranks, A. Abate, C. Wehrenfennig, S. Guarnera, A.-A. Haghighirad, A. Sadhanala, G. E. Eperon, S. K. Pathak, M. B. Johnston, A. Petrozza, L. M. Herz and H. J. Snaith, Energy Environ. Sci., 2014, 7, 3061 RSC .
F. Wang, J. Ma, F. Xie, L. Li, J. Chen, J. Fan and N. Zhao, Adv. Funct. Mater., 2016, 26, 3417–3423 CrossRef CAS .
T. R. Arend, M. Tönnies, P. Reisbeck, C. J. P. Rieckmann and R. Kersting, Phys. Status Solidi A, 2017, 214, 1600796 CrossRef .
Y. M. Lee, J. Park, B. D. Yu, S. Hong, M. C. Jung and M. Nakamura, J. Phys. Chem. Lett., 2018, 9, 2293–2297 CrossRef CAS PubMed .
Z. Z. Yang, Y. X. Wang and Y. Y. Liu, Appl. Surf. Sci., 2018, 441, 394–400 CrossRef CAS .
L. Zhang, X. G. Liu, J. F. Li and S. McKechnie, Sol. Energy Mater. Sol. Cells, 2018, 175, 1–19 CrossRef CAS .
L. H. Zhang and P. H. L. Sit, J. Phys. Chem. C, 2015, 119, 22370–22378 CrossRef CAS .
K. Refson, P. Tulip and S. J. Clark, Phys. Rev. B: Condens. Matter Mater. Phys., 2006, 73, 155114 CrossRef .
J. P. Perdew, K. Burke and M. Ernzerhof, Phys. Rev. Lett., 1996, 77, 3865–3868 CrossRef CAS PubMed .
N. K. Noel, S. D. Stranks, A. Abate, C. Wehrenfennig, S. Guarnera, A.-A. Haghighirad, A. Sadhanala, G. E. Eperon, S. K. Pathak, M. B. Johnston, A. Petrozza, L. M. Herza and H. J. Snaith, Energy Environ. Sci., 2014, 7, 3061–3068 RSC .
M. D. Patey and C. E. H. Dessent, J. Phys. Chem. A, 2002, 106, 4623–4631 CrossRef CAS .
H. J. Monkhorst and J. D. Pack, Phys. Rev. B: Solid State, 1976, 13, 5188–5192 CrossRef .
N. M. Markovic, H. A. Gasteiger and P. N. Ross Jr, J. Phys. Chem., 1995, 99, 3411–3415 CrossRef CAS .
E. Zanchini, Int. J. Therm. Sci., 2000, 39, 110–116 CrossRef .
L. Pauling, J. Am. Chem. Soc., 1932, 54, 3570–3582 CrossRef CAS .
D. N. Shargh, F. Roohi, F. Deyhimi and R. N. Abyaneh, J. Mol. Struct.: THEOCHEM, 2006, 763, 21–28 CrossRef .
S. A. Moyez and S. Roy, J. Nanopart. Res., 2017, 20, 1–13 Search PubMed .
G. Liu, Y. Gan, R. Quhe and P. F. Lu, Chem. Phys. Lett., 2018, 709, 65–70 CrossRef CAS .
T. Leijtens, R. Prasanna, A. Gold-Parker, M. F. Toney and M. D. McGehee, ACS Energy Lett., 2017, 2, 2159–2165 CrossRef CAS .
J. S. Park, S. Choi, Y. Yan, Y. Yang, J. M. Luther, S. H. Wei, P. Parilla and K. Zhu, J. Phys. Chem. Lett., 2015, 6, 4304–4308 CrossRef CAS PubMed .
G. Niu, W. Li, F. Meng, L. Wang, H. Dong and Y. Qiu, J. Mater. Chem. A, 2014, 2, 705–710 RSC .
G. Niu, X. Guo and L. Wang, J. Mater. Chem. A, 2015, 3, 8970–8980 RSC .
P. Zhao, B. J. Kim and H. S. Jung, Materials Today Energy, 2018, 7, 267–286 CrossRef .
F. T. F. O'Mahony, Y. H. Lee, C. Jellett, S. Dmitrov, D. T. J. Bryant, J. R. Durrant, B. C. O'Regan, M. Graetzel, M. K. Nazeeruddin and S. A. Haque, J. Mater. Chem. A, 2015, 3, 7219–7223 RSC .
R. T. Sanderson, J. Am. Chem. Soc., 1983, 105, 2259–2261 CrossRef CAS .
M. C. Burla, R. Caliandro, C. Giacovazzo and G. Polidori, Acta Crystallogr., Sect. A: Found. Crystallogr., 2010, 66(3), 347–361 CrossRef CAS PubMed .
J. He, E. Wu, H. Wang, R. Liu and Y. Tian, Phys. Rev. Lett., 2005, 94, 015504 CrossRef PubMed .
X.-F. Zhou, Q.-R. Qian, J. Zhou, B. Xu, Y. Tian and H.-T. Wang, Phys. Rev. B: Condens. Matter Mater. Phys., 2009, 79, 212102 CrossRef .
X. Tang, M. Brandl, B. May, I. Levchuk, Y. Hou, M. Richter, H. Chen, S. Chen, S. Kahmann, A. Osvet, F. Maier, H. Steinrück, R. Hock, G. J. Matt and C. J. Brabec, J. Mater. Chem. A, 2016, 4, 15896–15903 RSC .
J. R. Huo, X. X. Wang, L. Li, H. X. Cheng, Y. J. Su and P. Qian, Sci. Rep., 2016, 6, 35464 CrossRef CAS PubMed .
J. A. Christians, P. A. M. Herrera and P. V. Kamat, J. Am. Chem. Soc., 2015, 137, 1530–1538 CrossRef CAS PubMed .
M. Shirayama, M. Kato, T. Miyadera, T. Sugita, T. Fujiseki, S. Hara, H. Kadowaki, D. Murata, M. Chikamatsu and H. Fujiwara, J. Appl. Phys., 2016, 119, 115501 CrossRef .
L. Zhang and P. H.-L. Sit, J. Mater. Chem. A, 2017, 5, 9042 RSC .
F. Hao, C. C. Stoumpos, R. P. Chang and M. G. Kanatzidis, J. Am. Chem. Soc., 2014, 136, 8094–8099 CrossRef CAS PubMed .
T. C.-J. Yang, P. Fiala, Q. Jeangros and C. Ballif, Joule, 2018, 2, 1421–1436 CrossRef CAS .

Footnote† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ta11705eThis journal is © The Royal Society of Chemistry 2019
Table Content:
	(1)

Bulk	C4H24N4Sn4I12	48	8.14264	12.1887	8.61736	−6248.63068	—
(100)	C6H36N6Sn6I18	72	12.1887	8.61736	25.0651	−9370.77613	0.13811
(010)	C6H36N6Sn6I18	72	8.61736	8.14264	29.2015	−9369.531	0.38984
(001)	C6H36N6Sn6I18	72	8.14264	12.1887	25.7915	−9369.60493	0.26965
(110)	C6H36N6Sn6I18	72	8.61736	14.6583	21.2475	−9372.60447	0.02166
(101)	C6H36N6Sn4I18	70	11.8559	12.1887	24.2295	−9177.99155	0.28689
(011)	C6H36N6Sn6I18	72	8.14264	14.9273	21.4957	−9372.904	0.00277
(111)	C6H36N6Sn6I18	72	14.6583	11.8559	19.4074	−9370.73785	0.10178

 	Fig. 1  Optimized structure models of (a) clean (011) surface, (b) H2O adsorption on the surface of Hw at the I1 position, (c) O2 adsorption and (d) N2 adsorption on the surface of O and N at N9, respectively. Hw represents H atom of water. N9 is the atom of N of a MA cation on the surface. The figures of (b), (c) and (d) stand for H2O, O2 and N2 adsorption models; when the adsorption energy of each case is the smallest among all the cases where the same molecule adsorbs at different positions on the surface.	 
	(2)

1	H@Sn4	−9839.60840	−1.427694
2	O@Sn4	−9839.82303	−1.642324
3	H@I5	−9839.69067	−1.509964
4	O@I5	−9839.70429	−1.523584
5	H@I1	−9840.11264	−1.931934
6	O@I1	−9839.94127	−1.760564
7	O@H8	−9840.05032	−1.869614
8	H@H8	−9840.03447	−1.853764
9	O@H3	−9840.06909	−1.888384
10	H@H3	−9840.03125	−1.850544
11	O@N9	−9839.94168	−1.760974
12	H@N9	−9839.67655	−1.495844

1	O2@N9	−10240.7787	−0.13467
2	O2@H3	−10240.6456	−0.00157
3	O2@H8	−10240.5634	−0.08063
4	O2@I1	−10239.849	0.79503
5	O2@I5	−10239.4342	1.20983
6	O2@Sn4	−10239.9888	0.65523

1	N2@N9	−9912.48075	−0.049523
2	N2@H3	−9912.38532	0.045907
3	N2@H8	−9911.72034	0.710887
4	N2@I1	−9912.39607	0.035157
5	N2@I5	−9912.39972	0.031507
6	N2@Sn4	−9912.38997	0.041257

M2	H2O/(011) surface	H of H2O@I1	−1.931(934)
M3	O2/(011) surface	O2@N9	−0.134(67)
M4	N2/(011) surface	N2@N9	−0.0495(23)

M1	Clean (011) surface	−9370.552	—
M3	O2/(011) surface	−10240.7787	−0.134(67)
M4	N2/(011) surface	−9912.48075	−0.049(523)



O74–H75	0.975	—	0.55
H73–O74	0.981	—	0.57
H73–O74–H75	—	103.066	—
I1–H73	2.707	—	−0.03
O–H (free water)	0.986	—	—
H–O–H (free water)	—	104.279	—



A oxygen molecule@N9	N9–O73	2.633	—	−0.08
O73–O74	1.438	—	0.19
N9–O73–O74	—	137.887	—
Free O2	O–O	1.209	—	—
A nitrogen molecule@N9	N9–N73	3.225	—	—
N73–N74	1.161	—	1.4
N9–N73–N74	—	142.406	—
Free N2	N–N	1.159	—	—

 	Fig. 2  Band structure of (a) clean (011) surface of the M1 configuration, (b) H2O molecule adsorbed at I1 on a (011) surface which is of M2 configuration, (c) O2 adsorbed at N9 on a (011) surface, which is of the M3 configuration, and (d) N2 molecule adsorbed at N9 on the (011) surface, which is of the M4 configuration.	 

 	Fig. 3  Density of states of (a) clean surface of the M1 configuration, (b) H2O molecule adsorbed on (011) a surface of the M2 configuration, (c) O2 molecule adsorbed on a (011) surface of the M3 configuration, (d) N2 molecule adsorbed on a (011) surface of the M4 configuration. The dot dash line stands for the Fermi energy.	 

 	Fig. 4  Electron density of (a) clean (011) surface of the M1 configuration, (b) H2O adsorption at I1 of the M2 configuration, (c) O2 adsorption at N9 of the M3 configuration, (d) N2 adsorption at N9 of the M4 configuration.	 

 	Fig. 5  Electron difference density of (a) clean (011) surface of the M1 configuration, (b) H2O adsorption at I1 of the M2 configuration, (c) O2 adsorption at N9 of the M3 configuration, (d) N2 adsorption at N9 of the M4 configuration.	 
Δρ = ρmolecule/surface − (ρmolecule + ρsurface)	(3)
CH3NH3PbI3 ⇌ PbI2 + CH3NH3I	(4)
	(5)

H2O adsorption	Adsorption location	Hw@I1	Ow@H3	Ow@H2	Hw@I5
The adsorption energy/eV	−1.931934	−1.888384	−1.17594	−1.13924
O2 adsorption	Adsorption location	O2@N9	—	—	—
The adsorption energy/eV	−0.13467	—	—	—
N2 adsorption	Adsorption location	N2@N9	N2@H3	N2@H7	—
The adsorption energy/eV	−0.049523	0.045907	−0.520503	—


Clean surface	3.767, 3.058, 3.628, 4.072, 2.982, 3.020 (3.42)	3.095 (2 bonds), 3.110 (2 bonds), 3.143 (2 bonds) (3.1)
H2O adsorption	3.813, 4.057, 2.982, 3.058, 3.578, 3.020 (3.43)	3.360, 3.095, 3.535, 3.143 (2 bonds), 3.110 (3.22)
N2 adsorption	2.982, 3.804, 3.577, 3.058, 4.077, 3.020 (3.43)	3.540, 3.110, 3.095, 3.143 (2 bonds), 3.742 (3.27)


Clean MAPbI3 (110) surface	I3–Pb6	−1.14	2.98242	I3	−0.35
Pb6	0.58
H2O@MAPbI3 (110) surface	I3–Pb6	−1.25	2.98242	I3	−0.35
Pb6	0.58
N2@MAPbI3 (110) surface	I3–Pb6	−1.35	2.98242	I3	−0.35
Pb6	0.59
Clean MASnI3 (011) surface	I6–Sn6	—	3.095	I6	−0.30
Sn6	0.24
H2O@MASnI3 (011) surface	I6–Sn6	−0.12	2.89431	I6	−0.28
Sn6	0.32
N2@MASnI3 (011) surface	I6–Sn6	−0.11	2.87404	I6	−0.35
Sn6	0.27


O1–H37	0.976	—	0.55
H38–O1	0.979	—	0.56
H37–O1–H38	—	105.538	—
O1–H2	2.750	—	−0.00
O–H (free water)	0.986	—	—
H–O–H (free water)	—	104.279	—


H7–N73	3.300	—	—
N73–N74	1.159	—	1.36
H7–N73–N74	—	123.913	—
Free N2 molecule (N–N bond)	1.159	—	—
Footnote
† Electronic supplementary information (ESI) available. See DOI: 10.1039/c8ta11705e

This journal is © The Royal Society of Chemistry 2019
