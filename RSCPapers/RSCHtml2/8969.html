<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:art="http://www.rsc.org/schema/rscart38" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:rsc="urn:rsc.org" xml:lang="en" lang="en"><head><!--Google Tag Manager--><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-56FZ7G');</script><!--End Google Tag Manager--><title>Transferrable optimization of spray-coated PbI 2 films for perovskite solar cell fabrication   - Journal of Materials Chemistry A (RSC Publishing) DOI:10.1039/C6TA09922J</title><link rel="canonical" href="https://pubs.rsc.org/en/content/articlehtml/2017/ta/c6ta09922j"/><meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8"/><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info = {"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"NRJS-aaa897feae8feeca979","applicationID":"1313546638","transactionName":"M1wANxQFCEcDVU0PWgoWLzUlSyVbDEJcCEEnVgwXFAsKWAdEFgdHEFABDwMMElkO","queueTime":0,"applicationTime":52,"agent":"","atts":""}</script><script type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:true},ajax:{deny_list:["bam.nr-data.net"]},distributed_tracing:{enabled:true}};(window.NREUM||(NREUM={})).loader_config={agentID:"1386013924",accountID:"2851366",trustKey:"1029994",xpid:"Vg4CUFVVDhABV1BRAgUBUFcJ",licenseKey:"NRJS-aaa897feae8feeca979",applicationID:"1313546638"};;/*! For license information please see nr-loader-spa-1.236.0.min.js.LICENSE.txt */
(()=>{"use strict";var e,t,r={5763:(e,t,r)=>{r.d(t,{P_:()=>l,Mt:()=>g,C5:()=>s,DL:()=>v,OP:()=>T,lF:()=>D,Yu:()=>y,Dg:()=>h,CX:()=>c,GE:()=>b,sU:()=>_});var n=r(8632),i=r(9567);const o={beacon:n.ce.beacon,errorBeacon:n.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},a={};function s(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!a[e])throw new Error("Info for ".concat(e," was never set"));return a[e]}function c(e,t){if(!e)throw new Error("All info objects require an agent identifier!");a[e]=(0,i.D)(t,o),(0,n.Qy)(e,a[e],"info")}var u=r(7056);const d=()=>{const e={blockSelector:"[data-nr-block]",maskInputOptions:{password:!0}};return{allow_bfcache:!0,privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,enabled:!0,harvestTimeSeconds:10},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},session:{domain:void 0,expiresMs:u.oD,inactiveMs:u.Hb},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10},metrics:{enabled:!0},page_action:{enabled:!0,harvestTimeSeconds:30},page_view_event:{enabled:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30,long_task:!1},session_trace:{enabled:!0,harvestTimeSeconds:10},harvest:{tooManyRequestsDelay:60},session_replay:{enabled:!1,harvestTimeSeconds:60,sampleRate:.1,errorSampleRate:.1,maskTextSelector:"*",maskAllInputs:!0,get blockClass(){return"nr-block"},get ignoreClass(){return"nr-ignore"},get maskTextClass(){return"nr-mask"},get blockSelector(){return e.blockSelector},set blockSelector(t){e.blockSelector+=",".concat(t)},get maskInputOptions(){return e.maskInputOptions},set maskInputOptions(t){e.maskInputOptions={...t,password:!0}}},spa:{enabled:!0,harvestTimeSeconds:10}}},f={};function l(e){if(!e)throw new Error("All configuration objects require an agent identifier!");if(!f[e])throw new Error("Configuration for ".concat(e," was never set"));return f[e]}function h(e,t){if(!e)throw new Error("All configuration objects require an agent identifier!");f[e]=(0,i.D)(t,d()),(0,n.Qy)(e,f[e],"config")}function g(e,t){if(!e)throw new Error("All configuration objects require an agent identifier!");var r=l(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const p={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},m={};function v(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!m[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return m[e]}function b(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");m[e]=(0,i.D)(t,p),(0,n.Qy)(e,m[e],"loader_config")}const y=(0,n.mF)().o;var w=r(385),x=r(6818);const A={buildEnv:x.Re,bytesSent:{},queryBytesSent:{},customTransaction:void 0,disabled:!1,distMethod:x.gF,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,offset:Math.floor(w._A?.performance?.timeOrigin||w._A?.performance?.timing?.navigationStart||Date.now()),onerror:void 0,origin:""+w._A.location,ptid:void 0,releaseIds:{},session:void 0,xhrWrappable:"function"==typeof w._A.XMLHttpRequest?.prototype?.addEventListener,version:x.q4},E={};function T(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!E[e])throw new Error("Runtime for ".concat(e," was never set"));return E[e]}function _(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");E[e]=(0,i.D)(t,A),(0,n.Qy)(e,E[e],"runtime")}function D(e){return function(e){try{const t=s(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}(e)}},9567:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(50);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.Z)("Setting a Configurable requires an object as input");if(!t||"object"!=typeof t)return(0,n.Z)("Setting a Configurable requires a model to set its initial properties");const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let a in o)if(void 0!==e[a])try{"object"==typeof e[a]&&"object"==typeof t[a]?r[a]=i(e[a],t[a]):r[a]=e[a]}catch(e){(0,n.Z)("An error occurred while setting a property of a Configurable",e)}return r}catch(e){(0,n.Z)("An error occured while setting a Configurable",e)}}},6818:(e,t,r)=>{r.d(t,{Re:()=>i,gF:()=>o,q4:()=>n});const n="1.236.0",i="PROD",o="CDN"},385:(e,t,r)=>{r.d(t,{FN:()=>a,IF:()=>u,Nk:()=>f,Tt:()=>s,_A:()=>o,il:()=>n,pL:()=>c,v6:()=>i,w1:()=>d});const n="undefined"!=typeof window&&!!window.document,i="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),o=n?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),a=""+o?.location,s=/iPad|iPhone|iPod/.test(navigator.userAgent),c=s&&"undefined"==typeof SharedWorker,u=(()=>{const e=navigator.userAgent.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),d=Boolean(n&&window.document.documentMode),f=!!navigator.sendBeacon},1117:(e,t,r)=>{r.d(t,{w:()=>o});var n=r(50);const i={agentIdentifier:"",ee:void 0};class o{constructor(e){try{if("object"!=typeof e)return(0,n.Z)("shared context requires an object as input");this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=>{let[t,r]=e;Object.keys(i).includes(t)&&(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)("An error occured while setting SharedContext",e)}}}},8e3:(e,t,r)=>{r.d(t,{L:()=>d,R:()=>c});var n=r(2177),i=r(1284),o=r(4322),a=r(3325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};u(e),s[e].get(t)||s[e].set(t,r)}function u(e){e&&(s[e]||(s[e]=new Map))}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature";if(u(e),!e||!s[e].get(t))return a(t);s[e].get(t).staged=!0;const r=[...s[e]];function a(t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&&a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&&u<s.length;++u)f(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}delete a[t],r.backlog[t]=null,r.emit("drain-"+t,[])}}r.every((e=>{let[t,r]=e;return r.staged}))&&(r.sort(((e,t)=>e[1].priority-t[1].priority)),r.forEach((e=>{let[t]=e;a(t)})))}function f(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},2177:(e,t,r)=>{r.d(t,{c:()=>f,ee:()=>u});var n=r(8632),i=r(2210),o=r(1284),a=r(5763),s="nr@context";let c=(0,n.fP)();var u;function d(){}function f(e){return(0,i.X)(e,s,l)}function l(){return new d}function h(){u.aborted=!0,u.backlog={}}c.ee?u=c.ee:(u=function e(t,r){var n={},c={},f={},g=!1;try{g=16===r.length&&(0,a.OP)(r).isolatedBacklog}catch(e){}var p={on:b,addEventListener:b,removeEventListener:y,emit:v,get:x,listeners:w,context:m,buffer:A,abort:h,aborted:!1,isBuffering:E,debugId:r,backlog:g?{}:t&&"object"==typeof t.backlog?t.backlog:{}};return p;function m(e){return e&&e instanceof d?e:e?(0,i.X)(e,s,l):l()}function v(e,r,n,i,o){if(!1!==o&&(o=!0),!u.aborted||i){t&&o&&t.emit(e,r,n);for(var a=m(n),s=w(e),d=s.length,f=0;f<d;f++)s[f].apply(a,r);var l=T()[c[e]];return l&&l.push([p,e,r,a]),a}}function b(e,t){n[e]=w(e).concat(t)}function y(e,t){var r=n[e];if(r)for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)}function w(e){return n[e]||[]}function x(t){return f[t]=f[t]||e(p,t)}function A(e,t){var r=T();p.aborted||(0,o.D)(e,(function(e,n){t=t||"feature",c[n]=t,t in r||(r[t]=[])}))}function E(e){return!!T()[c[e]]}function T(){return p.backlog}}(void 0,"globalEE"),c.ee=u)},5546:(e,t,r)=>{r.d(t,{E:()=>n,p:()=>i});var n=r(2177).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4322:(e,t,r)=>{r.d(t,{X:()=>o});var n=r(5546);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},3239:(e,t,r)=>{r.d(t,{bP:()=>s,iz:()=>c,m$:()=>a});var n=r(385);let i=!1,o=!1;try{const e={get passive(){return i=!0,!1},get signal(){return o=!0,!1}};n._A.addEventListener("test",null,e),n._A.removeEventListener("test",null,e)}catch(e){}function a(e,t){return i||o?{capture:!!e,passive:i,signal:t}:!!e}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;window.addEventListener(e,t,a(r,n))}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;document.addEventListener(e,t,a(r,n))}},4402:(e,t,r)=>{r.d(t,{Ht:()=>u,M:()=>c,Rl:()=>a,ky:()=>s});var n=r(385);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function a(){const e=n._A?.crypto||n._A?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(31))),i.split("").map((e=>"x"===e?o(t,++r).toString(16):"y"===e?(3&o()|8).toString(16):e)).join("")}function s(e){const t=n._A?.crypto||n._A?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(31)));const a=[];for(var s=0;s<e;s++)a.push(o(r,++i).toString(16));return a.join("")}function c(){return s(16)}function u(){return s(32)}},7056:(e,t,r)=>{r.d(t,{Bq:()=>n,Hb:()=>o,oD:()=>i});const n="NRBA",i=144e5,o=18e5},7894:(e,t,r)=>{function n(){return Math.round(performance.now())}r.d(t,{z:()=>n})},7243:(e,t,r)=>{r.d(t,{e:()=>o});var n=r(385),i={};function o(e){if(e in i)return i[e];if(0===(e||"").indexOf("data:"))return{protocol:"data"};let t;var r=n._A?.location,o={};if(n.il)t=document.createElement("a"),t.href=e;else try{t=new URL(e,r.href)}catch(e){return o}o.port=t.port;var a=t.href.split("://");!o.port&&a[1]&&(o.port=a[1].split("/")[0].split("@").pop().split(":")[1]),o.port&&"0"!==o.port||(o.port="https"===a[0]?"443":"80"),o.hostname=t.hostname||r.hostname,o.pathname=t.pathname,o.protocol=a[0],"/"!==o.pathname.charAt(0)&&(o.pathname="/"+o.pathname);var s=!t.protocol||":"===t.protocol||t.protocol===r.protocol,c=t.hostname===r.hostname&&t.port===r.port;return o.sameOrigin=s&&(!t.hostname||c),"/"===o.pathname&&(i[e]=o),o}},50:(e,t,r)=>{function n(e,t){"function"==typeof console.warn&&(console.warn("New Relic: ".concat(e)),t&&console.warn(t))}r.d(t,{Z:()=>n})},2587:(e,t,r)=>{r.d(t,{N:()=>c,T:()=>u});var n=r(2177),i=r(5546),o=r(8e3),a=r(3325);const s={stn:[a.D.sessionTrace],err:[a.D.jserrors,a.D.metrics],ins:[a.D.pageAction],spa:[a.D.spa],sr:[a.D.sessionReplay,a.D.sessionTrace]};function c(e,t){const r=n.ee.get(t);e&&"object"==typeof e&&(Object.entries(e).forEach((e=>{let[t,n]=e;void 0===u[t]&&(s[t]?s[t].forEach((e=>{n?(0,i.p)("feat-"+t,[],void 0,e,r):(0,i.p)("block-"+t,[],void 0,e,r),(0,i.p)("rumresp-"+t,[Boolean(n)],void 0,e,r)})):n&&(0,i.p)("feat-"+t,[],void 0,void 0,r),u[t]=Boolean(n))})),Object.keys(s).forEach((e=>{void 0===u[e]&&(s[e]?.forEach((t=>(0,i.p)("rumresp-"+e,[!1],void 0,t,r))),u[e]=!1)})),(0,o.L)(t,a.D.pageViewEvent))}const u={}},2210:(e,t,r)=>{r.d(t,{X:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},1284:(e,t,r)=>{r.d(t,{D:()=>n});const n=(e,t)=>Object.entries(e||{}).map((e=>{let[r,n]=e;return t(r,n)}))},4351:(e,t,r)=>{r.d(t,{P:()=>o});var n=r(2177);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}}}},3960:(e,t,r)=>{r.d(t,{K:()=>a,b:()=>o});var n=r(3239);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.bP)("load",e,t)}function a(e){if(i())return e();(0,n.iz)("DOMContentLoaded",e)}},8632:(e,t,r)=>{r.d(t,{EZ:()=>u,Qy:()=>c,ce:()=>o,fP:()=>a,gG:()=>d,mF:()=>s});var n=r(7894),i=r(385);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return i._A.NREUM||(i._A.NREUM={}),void 0===i._A.newrelic&&(i._A.newrelic=i._A.NREUM),i._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:i._A.setTimeout,SI:i._A.setImmediate,CT:i._A.clearTimeout,XHR:i._A.XMLHttpRequest,REQ:i._A.Request,EV:i._A.Event,PR:i._A.Promise,MO:i._A.MutationObserver,FETCH:i._A.fetch}),e}function c(e,t,r){let i=a();const o=i.initializedAgents||{},s=o[e]||{};return Object.keys(s).length||(s.initializedAt={ms:(0,n.z)(),date:new Date}),i.initializedAgents={...o,[e]:{...s,[r]:t}},i}function u(e,t){a()[e]=t}function d(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},7956:(e,t,r)=>{r.d(t,{N:()=>i});var n=r(3239);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return void(0,n.iz)("visibilitychange",(function(){if(t)return void("hidden"==document.visibilityState&&e());e(document.visibilityState)}),r,i)}},1214:(e,t,r)=>{r.d(t,{em:()=>v,u5:()=>N,QU:()=>S,_L:()=>I,Gm:()=>L,Lg:()=>M,gy:()=>U,BV:()=>Q,Kf:()=>ee});var n=r(2177);const i="nr@original";var o=Object.prototype.hasOwnProperty,a=!1;function s(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");var a,s,c,u="-"===n.charAt(0);for(c=0;c<t.length;c++)d(a=e[s=t[c]])||(e[s]=r(a,u?s+n:n,i,s,o))},r.flag=i,r;function r(t,r,n,a,s){return d(t)?t:(r||(r=""),nrWrapper[i]=t,u(t,nrWrapper,e),nrWrapper);function nrWrapper(){var i,u,d,f;try{u=this,i=[...arguments],d="function"==typeof n?n(i,u):n||{}}catch(t){c([t,"",[i,u,a],d],e)}o(r+"start",[i,u,a],d,s);try{return f=t.apply(u,i)}catch(e){throw o(r+"err",[i,u,e],d,s),e}finally{o(r+"end",[i,u,f],d,s)}}}function o(r,n,i,o){if(!a||t){var s=a;a=!0;try{e.emit(r,n,i,t,o)}catch(t){c([t,r,n,i],e)}a=s}}}function c(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function u(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){c([e],r)}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return t}function d(e){return!(e&&e instanceof Function&&e.apply&&!e[i])}var f=r(2210),l=r(385);const h={},g=XMLHttpRequest,p="addEventListener",m="removeEventListener";function v(e){var t=function(e){return(e||n.ee).get("events")}(e);if(h[t.debugId]++)return t;h[t.debugId]=1;var r=s(t,!0);function i(e){r.inPlace(e,[p,m],"-",o)}function o(e,t){return e[1]}return"getPrototypeOf"in Object&&(l.il&&b(document,i),b(l._A,i),b(g.prototype,i)),t.on(p+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,f.X)(n,"nr@wrapped",(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(m+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function b(e,t){let r=e;for(;"object"==typeof r&&!Object.prototype.hasOwnProperty.call(r,p);)r=Object.getPrototypeOf(r);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r&&t(r,...i)}var y="fetch-",w=y+"body-",x=["arrayBuffer","blob","json","text","formData"],A=l._A.Request,E=l._A.Response,T="prototype",_="nr@context";const D={};function N(e){const t=function(e){return(e||n.ee).get("fetch")}(e);if(!(A&&E&&l._A.fetch))return t;if(D[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=[...arguments],o={};t.emit(n+"before-start",[r],o),o[_]&&o[_].dt&&(e=o[_].dt);var a=i.apply(this,r);return t.emit(n+"start",[r,e],a),a.then((function(e){return t.emit(n+"end",[null,e],a),e}),(function(e){throw t.emit(n+"end",[e],a),e}))})}return D[t.debugId]=1,x.forEach((e=>{r(A[T],e,w),r(E[T],e,w)})),r(l._A,"fetch",y),t.on(y+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(y+"done",[null,r],n)}else t.emit(y+"done",[e],n)})),t}const O={},j=["pushState","replaceState"];function S(e){const t=function(e){return(e||n.ee).get("history")}(e);return!l.il||O[t.debugId]++||(O[t.debugId]=1,s(t).inPlace(window.history,j,"-")),t}var P=r(3239);const C={},R=["appendChild","insertBefore","replaceChild"];function I(e){const t=function(e){return(e||n.ee).get("jsonp")}(e);if(!l.il||C[t.debugId])return t;C[t.debugId]=!0;var r=s(t),i=/[?&](?:callback|cb)=([^&#]+)/,o=/(.*)\.([^.]+)/,a=/^(\w+)(\.|$)(.*)$/;function c(e,t){var r=e.match(a),n=r[1],i=r[3];return i?c(i,t[n]):t[n]}return r.inPlace(Node.prototype,R,"dom-"),t.on("dom-start",(function(e){!function(e){if(!e||"string"!=typeof e.nodeName||"script"!==e.nodeName.toLowerCase())return;if("function"!=typeof e.addEventListener)return;var n=(a=e.src,s=a.match(i),s?s[1]:null);var a,s;if(!n)return;var u=function(e){var t=e.match(o);if(t&&t.length>=3)return{key:t[2],parent:c(t[1],window)};return{key:e,parent:window}}(n);if("function"!=typeof u.parent[u.key])return;var d={};function f(){t.emit("jsonp-end",[],d),e.removeEventListener("load",f,(0,P.m$)(!1)),e.removeEventListener("error",l,(0,P.m$)(!1))}function l(){t.emit("jsonp-error",[],d),t.emit("jsonp-end",[],d),e.removeEventListener("load",f,(0,P.m$)(!1)),e.removeEventListener("error",l,(0,P.m$)(!1))}r.inPlace(u.parent,[u.key],"cb-",d),e.addEventListener("load",f,(0,P.m$)(!1)),e.addEventListener("error",l,(0,P.m$)(!1)),t.emit("new-jsonp",[e.src],d)}(e[0])})),t}var k=r(5763);const H={};function L(e){const t=function(e){return(e||n.ee).get("mutation")}(e);if(!l.il||H[t.debugId])return t;H[t.debugId]=!0;var r=s(t),i=k.Yu.MO;return i&&(window.MutationObserver=function(e){return this instanceof i?new i(r(e,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype),t}const z={};function M(e){const t=function(e){return(e||n.ee).get("promise")}(e);if(z[t.debugId])return t;z[t.debugId]=!0;var r=n.c,o=s(t),a=k.Yu.PR;return a&&function(){function e(r){var n=t.context(),i=o(r,"executor-",n,null,!1);const s=Reflect.construct(a,[i],e);return t.context(s).getCtx=function(){return n},s}l._A.Promise=e,Object.defineProperty(e,"name",{value:"Promise"}),e.toString=function(){return a.toString()},Object.setPrototypeOf(e,a),["all","race"].forEach((function(r){const n=a[r];e[r]=function(e){let i=!1;[...e||[]].forEach((e=>{this.resolve(e).then(a("all"===r),a(!1))}));const o=n.apply(this,arguments);return o;function a(e){return function(){t.emit("propagate",[null,!i],o,!1,!1),i=i||!e}}}})),["resolve","reject"].forEach((function(r){const n=a[r];e[r]=function(e){const r=n.apply(this,arguments);return e!==r&&t.emit("propagate",[e,!0],r,!1,!1),r}})),e.prototype=a.prototype;const n=a.prototype.then;a.prototype.then=function(){var e=this,i=r(e);i.promise=e;for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];s[0]=o(s[0],"cb-",i,null,!1),s[1]=o(s[1],"cb-",i,null,!1);const u=n.apply(this,s);return i.nextPromise=u,t.emit("propagate",[e,!0],u,!1,!1),u},a.prototype.then[i]=n,t.on("executor-start",(function(e){e[0]=o(e[0],"resolve-",this,null,!1),e[1]=o(e[1],"resolve-",this,null,!1)})),t.on("executor-err",(function(e,t,r){e[1](r)})),t.on("cb-end",(function(e,r,n){t.emit("propagate",[n,!0],this.nextPromise,!1,!1)})),t.on("propagate",(function(e,r,n){this.getCtx&&!r||(this.getCtx=function(){if(e instanceof Promise)var r=t.context(e);return r&&r.getCtx?r.getCtx():this})}))}(),t}const B={},F="requestAnimationFrame";function U(e){const t=function(e){return(e||n.ee).get("raf")}(e);if(!l.il||B[t.debugId]++)return t;B[t.debugId]=1;var r=s(t);return r.inPlace(window,[F],"raf-"),t.on("raf-start",(function(e){e[0]=r(e[0],"fn-")})),t}const q={},G="setTimeout",V="setInterval",X="clearTimeout",W="-start",Z="-",$=[G,"setImmediate",V,X,"clearImmediate"];function Q(e){const t=function(e){return(e||n.ee).get("timer")}(e);if(q[t.debugId]++)return t;q[t.debugId]=1;var r=s(t);return r.inPlace(l._A,$.slice(0,2),G+Z),r.inPlace(l._A,$.slice(2,3),V+Z),r.inPlace(l._A,$.slice(3),X+Z),t.on(V+W,(function(e,t,n){e[0]=r(e[0],"fn-",null,n)})),t.on(G+W,(function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})),t}var Y=r(50);const K={},J=["open","send"];function ee(e){var t=e||n.ee;const r=function(e){return(e||n.ee).get("xhr")}(t);if(K[r.debugId]++)return r;K[r.debugId]=1,v(t);var i=s(r),o=k.Yu.XHR,a=k.Yu.MO,c=k.Yu.PR,u=k.Yu.SI,d="readystatechange",f=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],h=[],g=l._A.XMLHttpRequest.listeners,p=l._A.XMLHttpRequest=function(e){var t=new o(e);function n(){try{r.emit("new-xhr",[t],t),t.addEventListener(d,b,(0,P.m$)(!1))}catch(e){(0,Y.Z)("An error occured while intercepting XHR",e);try{r.emit("internal-error",[e])}catch(e){}}}return this.listeners=g?[...g,n]:[n],this.listeners.forEach((e=>e())),t};function m(e,t){i.inPlace(t,["onreadystatechange"],"fn-",E)}function b(){var e=this,t=r.context(e);e.readyState>3&&!t.resolved&&(t.resolved=!0,r.emit("xhr-resolved",[],e)),i.inPlace(e,f,"fn-",E)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,p),p.prototype=o.prototype,i.inPlace(p.prototype,J,"-xhr-",E),r.on("send-xhr-start",(function(e,t){m(e,t),function(e){h.push(e),a&&(y?y.then(A):u?u(A):(w=-w,x.data=w))}(t)})),r.on("open-xhr-start",m),a){var y=c&&c.resolve();if(!u&&!c){var w=1,x=document.createTextNode(w);new a(A).observe(x,{characterData:!0})}}else t.on("fn-end",(function(e){e[0]&&e[0].type===d||A()}));function A(){for(var e=0;e<h.length;e++)m(0,h[e]);h.length&&(h=[])}function E(e,t){return t}return r}},7825:(e,t,r)=>{r.d(t,{t:()=>n});const n=r(3325).D.ajax},6660:(e,t,r)=>{r.d(t,{A:()=>i,t:()=>n});const n=r(3325).D.jserrors,i="nr@seenError"},3081:(e,t,r)=>{r.d(t,{gF:()=>o,mY:()=>i,t9:()=>n,vz:()=>s,xS:()=>a});const n=r(3325).D.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},4649:(e,t,r)=>{r.d(t,{t:()=>n});const n=r(3325).D.pageAction},7633:(e,t,r)=>{r.d(t,{Dz:()=>i,OJ:()=>a,qw:()=>o,t9:()=>n});const n=r(3325).D.pageViewEvent,i="firstbyte",o="domcontent",a="windowload"},9251:(e,t,r)=>{r.d(t,{t:()=>n});const n=r(3325).D.pageViewTiming},3614:(e,t,r)=>{r.d(t,{BST_RESOURCE:()=>i,END:()=>s,FEATURE_NAME:()=>n,FN_END:()=>u,FN_START:()=>c,PUSH_STATE:()=>d,RESOURCE:()=>o,START:()=>a});const n=r(3325).D.sessionTrace,i="bstResource",o="resource",a="-start",s="-end",c="fn"+a,u="fn"+s,d="pushState"},7836:(e,t,r)=>{r.d(t,{BODY:()=>A,CB_END:()=>E,CB_START:()=>u,END:()=>x,FEATURE_NAME:()=>i,FETCH:()=>_,FETCH_BODY:()=>v,FETCH_DONE:()=>m,FETCH_START:()=>p,FN_END:()=>c,FN_START:()=>s,INTERACTION:()=>l,INTERACTION_API:()=>d,INTERACTION_EVENTS:()=>o,JSONP_END:()=>b,JSONP_NODE:()=>g,JS_TIME:()=>T,MAX_TIMER_BUDGET:()=>a,REMAINING:()=>f,SPA_NODE:()=>h,START:()=>w,originalSetTimeout:()=>y});var n=r(5763);const i=r(3325).D.spa,o=["click","submit","keypress","keydown","keyup","change"],a=999,s="fn-start",c="fn-end",u="cb-start",d="api-ixn-",f="remaining",l="interaction",h="spaNode",g="jsonpNode",p="fetch-start",m="fetch-done",v="fetch-body-",b="jsonp-end",y=n.Yu.ST,w="-start",x="-end",A="-body",E="cb"+x,T="jsTime",_="fetch"},5938:(e,t,r)=>{r.d(t,{W:()=>o});var n=r(5763),i=r(2177);class o{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=i.ee.get(e,(0,n.OP)(this.agentIdentifier).isolatedBacklog),this.featureName=r,this.blocked=!1}}},9144:(e,t,r)=>{r.d(t,{j:()=>m});var n=r(3325),i=r(5763),o=r(5546),a=r(2177),s=r(7894),c=r(8e3),u=r(3960),d=r(385),f=r(50),l=r(3081),h=r(8632);function g(){const e=(0,h.gG)();["setErrorHandler","finished","addToTrace","inlineHit","addRelease","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId"].forEach((t=>{e[t]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=[];return Object.values(e.initializedAgents).forEach((e=>{e.exposed&&e.api[t]&&o.push(e.api[t](...n))})),o.length>1?o:o[0]}(t,...n)}}))}var p=r(2587);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,{init:b,info:y,loader_config:w,runtime:x={loaderType:m},exposed:A=!0}=t;const E=(0,h.gG)();y||(b=E.init,y=E.info,w=E.loader_config),(0,i.Dg)(e,b||{}),(0,i.GE)(e,w||{}),(0,i.sU)(e,x),y.jsAttributes??={},d.v6&&(y.jsAttributes.isWorker=!0),(0,i.CX)(e,y),g();const T=function(e,t){t||(0,c.R)(e,"api");const h={};var g=a.ee.get(e),p=g.get("tracer"),m="api-",v=m+"ixn-";function b(t,r,n,o){const a=(0,i.C5)(e);return null===r?delete a.jsAttributes[t]:(0,i.CX)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),x(m,n,!0,o||null===r?"session":void 0)(t,r)}function y(){}["setErrorHandler","finished","addToTrace","inlineHit","addRelease"].forEach((e=>h[e]=x(m,e,!0,"api"))),h.addPageAction=x(m,"addPageAction",!0,n.D.pageAction),h.setCurrentRouteName=x(m,"routeName",!0,n.D.spa),h.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,i.OP)(e).customTransaction=(r||"http://custom.transaction")+t,x(m,"setPageViewName",!0)()},h.setCustomAttribute=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e){if(["string","number"].includes(typeof t)||null===t)return b(e,t,"setCustomAttribute",r);(0,f.Z)("Failed to execute setCustomAttribute.\nNon-null value must be a string or number type, but a type of <".concat(typeof t,"> was provided."))}else(0,f.Z)("Failed to execute setCustomAttribute.\nName must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.setUserId=function(e){if("string"==typeof e||null===e)return b("enduser.id",e,"setUserId",!0);(0,f.Z)("Failed to execute setUserId.\nNon-null value must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.interaction=function(){return(new y).get()};var w=y.prototype={createTracer:function(e,t){var r={},i=this,a="function"==typeof t;return(0,o.p)(v+"tracer",[(0,s.z)(),e,r],i,n.D.spa,g),function(){if(p.emit((a?"":"no-")+"fn-start",[(0,s.z)(),i,a],r),a)try{return t.apply(this,arguments)}catch(e){throw p.emit("fn-err",[arguments,this,"string"==typeof e?new Error(e):e],r),e}finally{p.emit("fn-end",[(0,s.z)()],r)}}}};function x(e,t,r,i){return function(){return(0,o.p)(l.xS,["API/"+t+"/called"],void 0,n.D.metrics,g),i&&(0,o.p)(e+t,[(0,s.z)(),...arguments],r?null:this,i,g),r?void 0:this}}function A(){r.e(439).then(r.bind(r,7438)).then((t=>{let{setAPI:r}=t;r(e),(0,c.L)(e,"api")})).catch((()=>(0,f.Z)("Downloading runtime APIs failed...")))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{w[e]=x(v,e,void 0,n.D.spa)})),h.noticeError=function(e,t){"string"==typeof e&&(e=new Error(e)),(0,o.p)(l.xS,["API/noticeError/called"],void 0,n.D.metrics,g),(0,o.p)("err",[e,(0,s.z)(),!1,t],void 0,n.D.jserrors,g)},d.il?(0,u.b)((()=>A()),!0):A(),h}(e,v);return(0,h.Qy)(e,T,"api"),(0,h.Qy)(e,A,"exposed"),(0,h.EZ)("activatedFeatures",p.T),T}},3325:(e,t,r)=>{r.d(t,{D:()=>n,p:()=>i});const n={ajax:"ajax",jserrors:"jserrors",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",spa:"spa"},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8,[n.sessionReplay]:9}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>(({78:"page_action-aggregate",147:"metrics-aggregate",242:"session-manager",317:"jserrors-aggregate",348:"page_view_timing-aggregate",412:"lazy-feature-loader",439:"async-api",538:"recorder",590:"session_replay-aggregate",675:"compressor",733:"session_trace-aggregate",786:"page_view_event-aggregate",873:"spa-aggregate",898:"ajax-aggregate"}[e]||e)+"."+{78:"ac76d497",147:"3dc53903",148:"1a20d5fe",242:"2a64278a",317:"49e41428",348:"bd6de33a",412:"2f55ce66",439:"30bd804e",538:"1b18459f",590:"cf0efb30",675:"ae9f91a8",733:"83105561",786:"06482edd",860:"03a8b7a5",873:"e6b09d52",898:"998ef92b"}[e]+"-1.236.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var f=u[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[n];var l=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=364,i.p="https://js-agent.newrelic.com/",(()=>{var e={364:0,953:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=window.webpackChunkNRBA=window.webpackChunkNRBA||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o={};(()=>{i.r(o);var e=i(3325),t=i(5763);const r=Object.values(e.D);function n(e){const n={};return r.forEach((r=>{n[r]=function(e,r){return!1!==(0,t.Mt)(r,"".concat(e,".enabled"))}(r,e)})),n}var a=i(9144);var s=i(5546),c=i(385),u=i(8e3),d=i(5938),f=i(3960),l=i(50);class h extends d.W{constructor(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];super(e,t,r),this.auto=n,this.abortHandler,this.featAggregate,this.onAggregateImported,n&&(0,u.R)(e,r)}importAggregator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.featAggregate||!this.auto)return;const r=c.il&&!0===(0,t.Mt)(this.agentIdentifier,"privacy.cookies_enabled");let n;this.onAggregateImported=new Promise((e=>{n=e}));const o=async()=>{let t;try{if(r){const{setupAgentSession:e}=await Promise.all([i.e(860),i.e(242)]).then(i.bind(i,3228));t=e(this.agentIdentifier)}}catch(e){(0,l.Z)("A problem occurred when starting up session manager. This page will not start or extend any session.",e)}try{if(!this.shouldImportAgg(this.featureName,t))return void(0,u.L)(this.agentIdentifier,this.featureName);const{lazyFeatureLoader:r}=await i.e(412).then(i.bind(i,8582)),{Aggregate:o}=await r(this.featureName,"aggregate");this.featAggregate=new o(this.agentIdentifier,this.aggregator,e),n(!0)}catch(e){(0,l.Z)("Downloading and initializing ".concat(this.featureName," failed..."),e),this.abortHandler?.(),n(!1)}};c.il?(0,f.b)((()=>o()),!0):o()}shouldImportAgg(r,n){return r!==e.D.sessionReplay||!1!==(0,t.Mt)(this.agentIdentifier,"session_trace.enabled")&&(!!n?.isNew||!!n?.state.sessionReplay)}}var g=i(7633),p=i(7894);class m extends h{static featureName=g.t9;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(super(r,n,g.t9,i),("undefined"==typeof PerformanceNavigationTiming||c.Tt)&&"undefined"!=typeof PerformanceTiming){const n=(0,t.OP)(r);n[g.Dz]=Math.max(Date.now()-n.offset,0),(0,f.K)((()=>n[g.qw]=Math.max((0,p.z)()-n[g.Dz],0))),(0,f.b)((()=>{const t=(0,p.z)();n[g.OJ]=Math.max(t-n[g.Dz],0),(0,s.p)("timing",["load",t],void 0,e.D.pageViewTiming,this.ee)}))}this.importAggregator()}}var v=i(1117),b=i(1284);class y extends v.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,b.D)(e,(function(e,r){t[e]=w(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,b.D)(r,(function(e,t){if("count"!==e){var n=a[e],i=r[e];i&&!i.c?a[e]=w(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=x(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=w(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&&this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r="",n=!1,i=0;i<e.length;i++)t[r=e[i]]=A(this.aggregatedData[r]),t[r].length&&(n=!0),delete this.aggregatedData[r];return n?t:null}}function w(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=x(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function x(e){return{t:e,min:e,max:e,sos:e*e,c:1}}function A(e){return"object"!=typeof e?[]:(0,b.D)(e,E)}function E(e,t){return t}var T=i(8632),_=i(4402),D=i(4351);var N=i(7956),O=i(3239),j=i(9251);class S extends h{static featureName=j.t;constructor(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,r,j.t,n),c.il&&((0,t.OP)(e).initHidden=Boolean("hidden"===document.visibilityState),(0,N.N)((()=>(0,s.p)("docHidden",[(0,p.z)()],void 0,j.t,this.ee)),!0),(0,O.bP)("pagehide",(()=>(0,s.p)("winPagehide",[(0,p.z)()],void 0,j.t,this.ee))),this.importAggregator())}}var P=i(3081);class C extends h{static featureName=P.t9;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,P.t9,r),this.importAggregator()}}var R,I=i(2210),k=i(1214),H=i(2177),L={};try{R=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(L.console=!0,-1!==R.indexOf("dev")&&(L.dev=!0),-1!==R.indexOf("nr_dev")&&(L.nrDev=!0))}catch(e){}function z(e){try{L.console&&z(e)}catch(e){}}L.nrDev&&H.ee.on("internal-error",(function(e){z(e.stack)})),L.dev&&H.ee.on("fn-err",(function(e,t,r){z(r.stack)})),L.dev&&(z("NR AGENT IN DEVELOPMENT MODE"),z("flags: "+(0,b.D)(L,(function(e,t){return e})).join(", ")));var M=i(6660);class B extends h{static featureName=M.t;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(r,n,M.t,i),this.skipNext=0;try{this.removeOnAbort=new AbortController}catch(e){}const o=this;o.ee.on("fn-start",(function(e,t,r){o.abortHandler&&(o.skipNext+=1)})),o.ee.on("fn-err",(function(t,r,n){o.abortHandler&&!n[M.A]&&((0,I.X)(n,M.A,(function(){return!0})),this.thrown=!0,(0,s.p)("err",[n,(0,p.z)()],void 0,e.D.jserrors,o.ee))})),o.ee.on("fn-end",(function(){o.abortHandler&&!this.thrown&&o.skipNext>0&&(o.skipNext-=1)})),o.ee.on("internal-error",(function(t){(0,s.p)("ierr",[t,(0,p.z)(),!0],void 0,e.D.jserrors,o.ee)})),this.origOnerror=c._A.onerror,c._A.onerror=this.onerrorHandler.bind(this),c._A.addEventListener("unhandledrejection",(t=>{const r=function(e){let t="Unhandled Promise Rejection: ";if(e instanceof Error)try{return e.message=t+e.message,e}catch(t){return e}if(void 0===e)return new Error(t);try{return new Error(t+(0,D.P)(e))}catch(e){return new Error(t)}}(t.reason);(0,s.p)("err",[r,(0,p.z)(),!1,{unhandledPromiseRejection:1}],void 0,e.D.jserrors,this.ee)}),(0,O.m$)(!1,this.removeOnAbort?.signal)),(0,k.gy)(this.ee),(0,k.BV)(this.ee),(0,k.em)(this.ee),(0,t.OP)(r).xhrWrappable&&(0,k.Kf)(this.ee),this.abortHandler=this.#e,this.importAggregator()}#e(){this.removeOnAbort?.abort(),this.abortHandler=void 0}onerrorHandler(t,r,n,i,o){"function"==typeof this.origOnerror&&this.origOnerror(...arguments);try{this.skipNext?this.skipNext-=1:(0,s.p)("err",[o||new F(t,r,n),(0,p.z)()],void 0,e.D.jserrors,this.ee)}catch(t){try{(0,s.p)("ierr",[t,(0,p.z)(),!0],void 0,e.D.jserrors,this.ee)}catch(e){}}return!1}}function F(e,t,r){this.message=e||"Uncaught error with no additional information",this.sourceURL=t,this.line=r}let U=1;const q="nr@id";function G(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===c._A?0:(0,I.X)(e,q,(function(){return U++}))}function V(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,D.P)(e).length}catch(e){return}}}var X=i(7243);class W{constructor(e){this.agentIdentifier=e,this.generateTracePayload=this.generateTracePayload.bind(this),this.shouldGenerateTrace=this.shouldGenerateTrace.bind(this)}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var r=(0,t.DL)(this.agentIdentifier);if(!r)return null;var n=(r.accountID||"").toString()||null,i=(r.agentID||"").toString()||null,o=(r.trustKey||"").toString()||null;if(!n||!i)return null;var a=(0,_.M)(),s=(0,_.Ht)(),c=Date.now(),u={spanId:a,traceId:s,timestamp:c};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(a,s),u.traceContextStateHeader=this.generateTraceContextStateHeader(a,c,n,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(a,s,c,n,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof c._A?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,D.P)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var r=!1,n={};if((0,t.Mt)(this.agentIdentifier,"distributed_tracing")&&(n=(0,t.P_)(this.agentIdentifier).distributed_tracing),e.sameOrigin)r=!0;else if(n.allowed_origins instanceof Array)for(var i=0;i<n.allowed_origins.length;i++){var o=(0,X.e)(n.allowed_origins[i]);if(e.hostname===o.hostname&&e.protocol===o.protocol&&e.port===o.port){r=!0;break}}return r}isDtEnabled(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var Z=i(7825),$=["load","error","abort","timeout"],Q=$.length,Y=t.Yu.REQ,K=c._A.XMLHttpRequest;class J extends h{static featureName=Z.t;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(r,n,Z.t,i),(0,t.OP)(r).xhrWrappable&&(this.dt=new W(r),this.handler=(e,t,r,n)=>(0,s.p)(e,t,r,n,this.ee),(0,k.u5)(this.ee),(0,k.Kf)(this.ee),function(r,n,i,o){function a(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=E,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){_(t,e)}),(0,O.m$)(!1)),c.IF||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,O.m$)(!1))}function s(e){this.params={method:e[0]},T(this,e[1]),this.metrics={}}function u(e,n){var i=(0,t.DL)(r);i.xpid&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",i.xpid);var a=o.generateTracePayload(this.parsedOrigin);if(a){var s=!1;a.newrelicHeader&&(n.setRequestHeader("newrelic",a.newrelicHeader),s=!0),a.traceContextParentHeader&&(n.setRequestHeader("traceparent",a.traceContextParentHeader),a.traceContextStateHeader&&n.setRequestHeader("tracestate",a.traceContextStateHeader),s=!0),s&&(this.dt=a)}}function d(e,t){var r=this.metrics,i=e[0],o=this;if(r&&i){var a=V(i);a&&(r.txSize=a)}this.startTime=(0,p.z)(),this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof t.onload)&&"function"==typeof o.end)&&o.end(t)}catch(e){try{n.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<Q;s++)t.addEventListener($[s],this.listener,(0,O.m$)(!1))}function f(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function l(e,t){var r=""+G(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function h(e,t){var r=""+G(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function g(){this.endTime=(0,p.z)()}function m(e,t){t instanceof K&&"load"===e[0]&&n.emit("xhr-load-added",[e[1],e[2]],t)}function v(e,t){t instanceof K&&"load"===e[0]&&n.emit("xhr-load-removed",[e[1],e[2]],t)}function b(e,t,r){t instanceof K&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,p.z)()))}function y(e,t){this.xhrCbStart&&n.emit("xhr-cb-time",[(0,p.z)()-this.xhrCbStart,this.onload,t],t)}function w(e){var t,r=e[1]||{};"string"==typeof e[0]?t=e[0]:e[0]&&e[0].url?t=e[0].url:c._A?.URL&&e[0]&&e[0]instanceof URL&&(t=e[0].href),t&&(this.parsedOrigin=(0,X.e)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var n=o.generateTracePayload(this.parsedOrigin);if(n&&(n.newrelicHeader||n.traceContextParentHeader))if("string"==typeof e[0]||c._A?.URL&&e[0]&&e[0]instanceof URL){var i={};for(var a in r)i[a]=r[a];i.headers=new Headers(r.headers||{}),s(i.headers,n)&&(this.dt=n),e.length>1?e[1]=i:e.push(i)}else e[0]&&e[0].headers&&s(e[0].headers,n)&&(this.dt=n);function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function x(e,t){this.params={},this.metrics={},this.startTime=(0,p.z)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof Y?r=i.url:c._A?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),T(this,r);var o=(""+(i&&i instanceof Y&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.txSize=V(n.body)||0}function A(t,r){var n;this.endTime=(0,p.z)(),this.params||(this.params={}),this.params.status=r?r.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);var o={txSize:this.txSize,rxSize:n,duration:(0,p.z)()-this.startTime};i("xhr",[this.params,o,this.startTime,this.endTime,"fetch"],this,e.D.ajax)}function E(t){var r=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var o=0;o<Q;o++)t.removeEventListener($[o],this.listener,!1);r.aborted||(n.duration=(0,p.z)()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==r.status&&(r.status=0):_(this,t),n.cbTime=this.cbTime,i("xhr",[r,n,this.startTime,this.endTime,"xhr"],this,e.D.ajax))}}function T(e,t){var r=(0,X.e)(t),n=e.params;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}function _(e,t){e.params.status=t.status;var r=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?V(e.response):"text"===r||""===r||void 0===r?V(e.responseText):void 0}(t,e.lastSize);if(r&&(e.metrics.rxSize=r),e.sameOrigin){var n=t.getResponseHeader("X-NewRelic-App-Data");n&&(e.params.cat=n.split(", ").pop())}e.loadCaptureCalled=!0}n.on("new-xhr",a),n.on("open-xhr-start",s),n.on("open-xhr-end",u),n.on("send-xhr-start",d),n.on("xhr-cb-time",f),n.on("xhr-load-added",l),n.on("xhr-load-removed",h),n.on("xhr-resolved",g),n.on("addEventListener-end",m),n.on("removeEventListener-end",v),n.on("fn-end",y),n.on("fetch-before-start",w),n.on("fetch-start",x),n.on("fn-start",b),n.on("fetch-done",A)}(r,this.ee,this.handler,this.dt),this.importAggregator())}}var ee=i(3614);const{BST_RESOURCE:te,RESOURCE:re,START:ne,END:ie,FEATURE_NAME:oe,FN_END:ae,FN_START:se,PUSH_STATE:ce}=ee;var ue=i(7836);const{FEATURE_NAME:de,START:fe,END:le,BODY:he,CB_END:ge,JS_TIME:pe,FETCH:me,FN_START:ve,CB_START:be,FN_END:ye}=ue;var we=i(4649);class xe extends h{static featureName=we.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,we.t,r),this.importAggregator()}}new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,_.ky)(16);c._A?(this.agentIdentifier=t,this.sharedAggregator=new y({agentIdentifier:this.agentIdentifier}),this.features={},this.desiredFeatures=new Set(e.features||[]),this.desiredFeatures.add(m),Object.assign(this,(0,a.j)(this.agentIdentifier,e,e.loaderType||"agent")),this.start()):(0,l.Z)("Failed to initial the agent. Could not determine the runtime environment.")}get config(){return{info:(0,t.C5)(this.agentIdentifier),init:(0,t.P_)(this.agentIdentifier),loader_config:(0,t.DL)(this.agentIdentifier),runtime:(0,t.OP)(this.agentIdentifier)}}start(){const t="features";try{const r=n(this.agentIdentifier),i=[...this.desiredFeatures];i.sort(((t,r)=>e.p[t.featureName]-e.p[r.featureName])),i.forEach((t=>{if(r[t.featureName]||t.featureName===e.D.pageViewEvent){const n=function(t){switch(t){case e.D.ajax:return[e.D.jserrors];case e.D.sessionTrace:return[e.D.ajax,e.D.pageViewEvent];case e.D.sessionReplay:return[e.D.sessionTrace];case e.D.pageViewTiming:return[e.D.pageViewEvent];default:return[]}}(t.featureName);n.every((e=>r[e]))||(0,l.Z)("".concat(t.featureName," is enabled but one or more dependent features has been disabled (").concat((0,D.P)(n),"). This may cause unintended consequences or missing data...")),this.features[t.featureName]=new t(this.agentIdentifier,this.sharedAggregator)}})),(0,T.Qy)(this.agentIdentifier,this.features,t)}catch(e){(0,l.Z)("Failed to initialize all enabled instrument classes (agent aborted) -",e);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,T.fP)();return delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.[t],delete this.sharedAggregator,r.ee?.abort(),delete r.ee?.get(this.agentIdentifier),!1}}}({features:[J,m,S,class extends h{static featureName=oe;constructor(t,r){if(super(t,r,oe,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),!c.il)return;const n=this.ee;let i;(0,k.QU)(n),this.eventsEE=(0,k.em)(n),this.eventsEE.on(se,(function(e,t){this.bstStart=(0,p.z)()})),this.eventsEE.on(ae,(function(t,r){(0,s.p)("bst",[t[0],r,this.bstStart,(0,p.z)()],void 0,e.D.sessionTrace,n)})),n.on(ce+ne,(function(e){this.time=(0,p.z)(),this.startPath=location.pathname+location.hash})),n.on(ce+ie,(function(t){(0,s.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,e.D.sessionTrace,n)}));try{i=new PerformanceObserver((t=>{const r=t.getEntries();(0,s.p)(te,[r],void 0,e.D.sessionTrace,n)})),i.observe({type:re,buffered:!0})}catch(e){}this.importAggregator({resourceObserver:i})}},C,xe,B,class extends h{static featureName=de;constructor(e,r){if(super(e,r,de,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),!c.il)return;if(!(0,t.OP)(e).xhrWrappable)return;try{this.removeOnAbort=new AbortController}catch(e){}let n,i=0;const o=this.ee.get("tracer"),a=(0,k._L)(this.ee),s=(0,k.Lg)(this.ee),u=(0,k.BV)(this.ee),d=(0,k.Kf)(this.ee),f=this.ee.get("events"),l=(0,k.u5)(this.ee),h=(0,k.QU)(this.ee),g=(0,k.Gm)(this.ee);function m(e,t){h.emit("newURL",[""+window.location,t])}function v(){i++,n=window.location.hash,this[ve]=(0,p.z)()}function b(){i--,window.location.hash!==n&&m(0,!0);var e=(0,p.z)();this[pe]=~~this[pe]+e-this[ve],this[ye]=e}function y(e,t){e.on(t,(function(){this[t]=(0,p.z)()}))}this.ee.on(ve,v),s.on(be,v),a.on(be,v),this.ee.on(ye,b),s.on(ge,b),a.on(ge,b),this.ee.buffer([ve,ye,"xhr-resolved"],this.featureName),f.buffer([ve],this.featureName),u.buffer(["setTimeout"+le,"clearTimeout"+fe,ve],this.featureName),d.buffer([ve,"new-xhr","send-xhr"+fe],this.featureName),l.buffer([me+fe,me+"-done",me+he+fe,me+he+le],this.featureName),h.buffer(["newURL"],this.featureName),g.buffer([ve],this.featureName),s.buffer(["propagate",be,ge,"executor-err","resolve"+fe],this.featureName),o.buffer([ve,"no-"+ve],this.featureName),a.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),y(l,me+fe),y(l,me+"-done"),y(a,"new-jsonp"),y(a,"jsonp-end"),y(a,"cb-start"),h.on("pushState-end",m),h.on("replaceState-end",m),window.addEventListener("hashchange",m,(0,O.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("load",m,(0,O.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",(function(){m(0,i>1)}),(0,O.m$)(!0,this.removeOnAbort?.signal)),this.abortHandler=this.#e,this.importAggregator()}#e(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}],loaderType:"spa"})})(),window.NRBA=o})();</script><meta charset="UTF-8"/><meta name="robots" content="index, follow"/><meta name="DC.Creator" content="MikasRemeika"/><meta name="DC.Creator" content="Sonia RuizRaga"/><meta name="DC.Creator" content="ShijinZhang"/><meta name="DC.Creator" content="YabingQi"/><meta name="DC.title" content="Transferrable optimization of spray-coated PbI 2 films for perovskite solar cell fabrication  "/><meta name="DC.publisher" content="Royal Society of Chemistry"/><meta name="DC.Date" content="2017/03/21"/><meta name="DC.Identifier" scheme="doi" content="10.1039/C6TA09922J"/><meta name="DC.Language" content="en"/><meta name="citation_title" content="Transferrable optimization of spray-coated PbI 2 films for perovskite solar cell fabrication  "/><meta name="citation_author" content="MikasRemeika"/><meta name="citation_author" content="Sonia RuizRaga"/><meta name="citation_author" content="ShijinZhang"/><meta name="citation_author" content="YabingQi"/><meta name="citation_online_date" content="2017/02/09"/><meta name="citation_date" content="2017"/><meta name="citation_journal_title" content="Journal of Materials Chemistry A"/><meta name="citation_volume" content="5"/><meta name="citation_issue" content="12"/><meta name="citation_firstpage" content="5709"/><meta name="citation_lastpage" content="5718"/><meta name="citation_doi" content="10.1039/C6TA09922J"/><meta name="citation_pdf_url" content="https://pubs.rsc.org/en/content/articlepdf/2017/ta/c6ta09922j"/><meta name="citation_abstract_html_url" content="https://pubs.rsc.org/en/content/articlelanding/2017/ta/c6ta09922j"/><meta name="citation_fulltext_html_url" content="https://pubs.rsc.org/en/content/articlehtml/2017/ta/c6ta09922j"/><link rel="shortcut icon" href=""/><link type="text/css" rel="stylesheet" href="/content/stylesheets/rschtml2.css?ver=6_2_1"/><link href="https://www.rsc-cdn.org/oxygen/assets/webfonts/fonts.min.css" rel="stylesheet" type="text/css"/><link type="text/css" rel="stylesheet" href="/content/stylesheets/pubs-ui.min.css"/><meta name="viewport" content="width=device-width, initial-scale=1"/><script type="text/javascript" src="/content/scripts/JQueryPlugins.min.js"></script><script type="text/javascript" src="/content/scripts/GetAnchorText.js"></script><script type="text/javascript">
    
      $(function() {
      $("table.tgroup tfoot th").attr("colspan", "100");
      $("table.tgroup.rtable").each( function (idx, el) {
      var tw = $(this).width();
      $(this).parent().css("min-width", tw+"px");
      });

      });
      
    </script><!--6_2_1--></head><body class="oxy-ui pubs-ui ahtml-page"><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56FZ7G" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--><div class="viewport autopad"><div class="pnl pnl--drop autopad"><span id="top"/><div id="wrapper"><div class="left_head"><a class="simple" href="/"><img class="rsc-logo" border="0" src="/content/NewImages/royal-society-of-chemistry-logo.png" alt="Royal Society of Chemistry"/></a><br/><span class="btnContainer"><a class="btn btn--tiny btn--primary" target="_blank" title="Link to PDF version" href="/en/content/articlepdf/2017/ta/c6ta09922j">ViewPDFVersion</a></span><span class="btnContainer"><a class="btn btn--tiny btn--nobg" title="Link to previous article (id:c6ta10212c)" href="/en/content/articlehtml/2017/ta/c6ta10212c" target="_BLANK">PreviousArticle</a></span><span class="btnContainer"><a class="btn btn--tiny btn--nobg" title="Link to next article (id:c6ta09793f)" href="/en/content/articlehtml/2017/ta/c6ta09793f" target="_BLANK">NextArticle</a></span></div><div class="right_head"><div id="crossmark_container"><div id="crossmark-content"><a id="open-crossmark" href="#" data-target="crossmark"><img style="max-width:100px" id="crossmark-logo" src="https://crossmark-cdn.crossref.org/widget/v2.0/logos/CROSSMARK_Color_square.svg" alt="Check for updates"/></a><script src="https://crossmark-cdn.crossref.org/widget/v2.0/widget.js"></script></div></div><br/><span class="oa"><img src="/content/newimages/open_access_blue.png" alt=""/> Open Access Article<br/><img src="/content/newimages/CCBY.svg" alt=""/>
This Open Access Article is licensed under a <br/><a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported Licence</a></span></div><div class="article_info"> DOI:<a target="_blank" title="Link to landing page via DOI" href="https://doi.org/10.1039/C6TA09922J">10.1039/C6TA09922J</a>
(Paper)
<span class="italic"><a title="Link to journal home page" href="https://doi.org/10.1039/2050-7496/2013">J. Mater. Chem. A</a></span>, 2017, <strong>5</strong>, 5709-5718</div><h1 id="sect195"><span class="title_heading">Transferrable optimization of spray-coated PbI<small><sub>2</sub></small> films for perovskite solar cell fabrication<a title="Select to navigate to footnote" href="#fn1"></a></span></h1><p class="header_text">
      <span class="bold">
        
          
            Mikas 
            Remeika
          
        
      </span>, 
      <span class="bold">
        
          
            Sonia Ruiz 
            Raga
          
        
      </span>, 
      <span class="bold">
        
          
            Shijin 
            Zhang
          
        
      </span><span class="bold"> and </span>
      <span class="bold">
        
          
            Yabing 
            Qi
          
        
      </span><span class="orcid"><a target="_blank" title="Select to open ORCID record for YabingQi (orcid.org/0000-0002-4876-8049) in a new window" id="connect-orcid-link" href="http://orcid.org/0000-0002-4876-8049"><img id="orcid-id-logo" src="/content/NewImages/orcid_16x16.png" alt="ORCID logo"/></a></span>*
      <br/><span class="italic">Energy Materials and Surface Sciences Unit (EMSS), Okinawa Institute of Science and Technology Graduate University (OIST), 1919-1 Tancha, Onna-son, Okinawa, Japan. E-mail: <a href="mailto:Yabing.Qi@OIST.jp">Yabing.Qi@OIST.jp</a></span>
    </p><div id="art-admin"><span class="italic bold">Received 
      16th November 2016
    </span><span class="bold italic">, Accepted 8th February 2017</span></div><p class="bold italic">First published on 9th February 2017</p><hr/><div class="abstract"><h2>Abstract</h2><p>Ultrasonic spray coating is a promising pathway to scaling-up of perovskite solar cell production that can be implemented on any scale  from table-top to mass production. However, unlike spin-coating, spray coating processes are not easily described by a set of machine-independent parameters. In this work, <span class="italic">in situ</span> measurement and modeling of wet film thickness and evaporation rate are presented as a machine-independent description of the ultrasonic spray coating process, and applied to fabrication process optimization for high-performing perovskite solar cells. Optimization based on physical wet film parameters instead of machine settings leads to better understanding of the key factors affecting film quality and enables process transfer to another fabrication environment. Spray coated PbI<small><sub>2</sub></small> film morphology is analyzed under a range of coating conditions and strong correlation is observed between spray coating parameters and PbI<small><sub>2</sub></small> film uniformity. Premature precipitation and sparse nucleation are suggested as causes of film non-uniformity, and optimal process parameters are identified. Device fabrication based on the optimized process is demonstrated under ambient conditions with a relative humidity of 50%, achieving a power conversion efficiency of 13% in 1 cm<small><sup>2</sup></small> area devices, with negligible hysteresis.</p></div><hr/>
    
      
      <h2 id="sect242"><span class="a_heading">1 Introduction</span></h2>
      <span>Despite impressive power conversion efficiencies achieved in perovskite-based solar cells,<a title="Select to navigate to reference" href="#cit1"><sup><span class="sup_ref">1,2</span></sup></a> it remains uncertain how perovskite solar cell fabrication will be scaled to industrial production. Among various methods, ultrasonic spray coating has been proposed as a path to scaling up the production of perovskite based solar cells. Several studies have demonstrated fabrication of one or more layers of perovskite<a title="Select to navigate to reference" href="#cit3"><sup><span class="sup_ref">38</span></sup></a> solar cells by ultrasonic spray coating. Although the previous studies reported optimized recipes, indicating machine settings, these studies did not quantitatively determine wet film characteristics that result in high-performing dry films. If a recipe is to be transferred to a manufacturing environment on a different scale or using equipment of different manufacturers, the properties of the wet film that are necessary to achieve high-performing functional films are more important than specific machine settings, which will vary depending on the machine design. In this work, we demonstrate both an optimized process and a method to determine wet film thickness and evaporation rate, which are key parameters that determine the final film quality.</span>
      <p class="otherpara">As a new technology reaches a stage where mass production is considered, development focus shifts from champion device performance to reproducibility. Reproducibility between different locations on the substrate must be considered when device size is increased, and reproducibility between different batches must be considered when production volume is scaled up. For devices based on thin film coating, film uniformity is strongly connected to process reproducibility. In this study we develop the strategy to achieve uniform spray-coated films as device area is increased above 1 cm<small><sup>2</sup></small>. We demonstrate that the mm-scale uniformity of spray coated PbI<small><sub>2</sub></small> films is determined by spray coating conditions. Furthermore, we address the problem of reproducing the result in a different environment and on equipment where current machine settings may not be easily translated. Through a combination of direct measurement and modeling we accurately determine wet film thickness and evaporation rate that correspond to optimal coating quality. By real-time monitoring of laser light interference and scattering by a wet film, we are able to measure <span class="italic">in situ</span> the wet film thickness and evaporation rate. Armed with accurate data for a single solvent, we are able to compute an evaporative mass transfer coefficient that is characteristic of the process chamber, and thereon predict evaporation rates for any solvent, based on data available in the literature.</p>
      <p class="otherpara">Evaporation of a thin liquid film is a complicated process that is strongly affected by the properties of the evaporating material, air flow pattern in the process chamber, and the geometry of the evaporating film. In this work we demonstrate that with solvent properties available in the literature, air flow pattern can be characterized by <span class="italic">in situ</span> measurement of film evaporation rate, and spray pattern geometry can be accounted for by spatially resolved computation using the COMSOL Multiphysics software suite.</p>
      <p class="otherpara">By quantitatively characterizing the wet film under various coating conditions we can advance from intuition to quantitative prediction of coated film quality. The method of <span class="italic">in situ</span> wet film characterization that we present requires minimal modification to machinery and can be easily adapted to another spray coating system to determine evaporative mass transfer coefficient and wet film thickness as a function of specific machine settings. Once these parameters are known, process recipes become transferrable between the two machines. Even differences in spray patterns due to different sample sizes can be accounted for by local evaporation rate modeling described in this work.</p>
      <p class="otherpara">The immediate goal of this work is optimization of the spray coating process to achieve the best uniformity of the PbI<small><sub>2</sub></small> precursor for the MAPbI<small><sub>3</sub></small> perovskite film fabrication. In the sequential perovskite formation process,<a title="Select to navigate to reference" href="#cit9"><sup><span class="sup_ref">9,10</span></sup></a> the final perovskite film thickness is determined by the thickness of the PbI<small><sub>2</sub></small> layer, as methyl ammonium iodide (MAI) is supplied from solution as much as is necessary to react with PbI<small><sub>2</sub></small>. While the size and quality of perovskite crystal grains is driven by the concentration of the MAI solution<a title="Select to navigate to references" href="#cit16"><sup><span class="sup_ref">16</span></sup></a> (see the ESI<a title="Select to navigate to footnote" href="#fn1"></a>), we show that the large scale (mm scale) uniformity of the perovskite films is determined by the uniformity of the PbI<small><sub>2</sub></small> layer. Therefore, fabrication processes capable of achieving high uniformity of PbI<small><sub>2</sub></small> film are crucial to scale-up of perovskite solar cell production.</p>
    
    
      
      <h2 id="sect266"><span class="a_heading">2 Materials and methods</span></h2>
      
        
        <h3 id="sect269"><span class="b_heading">2.1 Materials</span></h3>
        <span>Lead iodide (99.99%) was purchased from Tokyo Chemical Industry Co. Ltd. Chlorobenzene, DMF, DMSO, and IPA were purchased from Wako Pure Chemical Industries Ltd. TiO<small><sub>2</sub></small> nanoparticle paste (90-T) and methylammonium iodide (MAI) were purchased from Dyesol Ltd. 2,2,7,7-Tetrakis(<span class="italic">N</span>,<span class="italic">N</span>-di-<span class="italic">p</span>-methoxyphenylamine)-9,9-spirobifluorene (spiro-MEOTAD) was purchased from Merck Ltd. Acetonitrile (anhydrous), bis(trifluoromethane)sulfonimide lithium salt (Li-TFSI), 4-<span class="italic">tert</span>-butyl pyridine (96%), terpineol and titanium diisopropoxide bis(acetylacetonate) were purchased from Sigma-Aldrich. Pre-patterned fluorine-doped tin oxide (FTO) films on 2 mm thick glass substrates were purchased from Opvtech New Energy Co. Ltd. All materials were used as received without further purification. Organic solvents were regular non-dehydrated grade, unless otherwise specified.</span>
      
      
        
        <h3 id="sect278"><span class="b_heading">2.2 Device fabrication</span></h3>
        <span>FTO glass substrates were cleaned by brushing with SDS solution, and washing in deionized water followed by ultrasonic cleaning in IPA for 15 min. A compact TiO<small><sub>2</sub></small> layer was fabricated by spray pyrolysis at 475 C, using a titanium diisopropoxide bis(acetylacetonate) precursor. The approximate TiO<small><sub>2</sub></small> compact layer thickness was 40 nm (measured by SEM cross-section imaging). Mesoporous TiO<small><sub>2</sub></small> was formed by spin coating (4000 rpm, 30 s) TiO<small><sub>2</sub></small> nanoparticle paste (Dyesol T-90) diluted 1<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>3 (by weight) with terpineol, dried (100 C for 3 min) and annealed (470 C for 1 hour). Before coating the PbI<small><sub>2</sub></small>, substrate was treated with UV-ozone (15 min). PbI<small><sub>2</sub></small> was spray coated using a broad spray pattern (see below), and heated to 100 C for 5 min to remove the solvent. PbI<small><sub>2</sub></small> ink was prepared by dissolving a specified concentration of PbI<small><sub>2</sub></small> in a mixture of DMF<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>DMSO, ratio 14<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>1 by volume. A perovskite layer was formed by immersing the sample in MAI solution (7 mg mL<small><sup>1</sup></small> in dehydrated IPA) for 45 s, drying by a nitrogen flow, and annealing at 100 C for 5 min. A hole transport layer was formed by spin-coating (2000 rpm, 20 s) spiro-MEOTAD solution (72 mg spiro-MEOTAD, 28.8 L 4-<span class="italic">tert</span>-butyl pyridine, 17.5 L Li-TFSI (520 mg mL<small><sup>1</sup></small> in acetonitrile), and 1 mL chlorobenzene). A metallic electrode was formed by thermal evaporation of gold through a shadow mask. All processing (except gold evaporation) was performed in ambient air, with temperature of 2325 C and relative humidity 4555%. Heat was applied using a hot plate in all processing steps. All materials were stored in dry nitrogen and solutions were prepared in a dry nitrogen atmosphere. After preparation, solutions were removed and exposed to air, and stored in sealed containers.</span>
      
      
        
        <h3 id="sect293"><span class="b_heading">2.3 PbI<small><sub>2</sub></small> film fabrication</span></h3>
        <span>Films shown in <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a> were spray coated using a broad spray process, see below. PbI<small><sub>2</sub></small> ink was prepared by dissolving PbI<small><sub>2</sub></small> in a mixture of DMF<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>DMSO, ratio 14<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>1. The mixture of solvents was chosen to make it possible to dissolve a greater concentration of PbI<small><sub>2</sub></small> than possible for pure DMF at room temperature. Wet film drying rate modeling and measurement was performed for the pure DMF solvent. Accordingly, the evaporation rates specified in <a title="Select to navigate to table" href="#tab1">Table 1</a> are for pure DMF. The DMF<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>:<img class="charmap" src="https://www.rsc.org/images/entities/char_2009.gif" alt="[thin space (1/6-em)]"/>DMSO mixture was experimentally measured to have approximately 10% lower evaporation rate than pure DMF, therefore it was considered a good approximation to perform modeling for pure DMF.</span>
        <br/><div class="image_table"><table><tr><td colspan="3" class="imgHolder" id="imgfig1"><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-f1_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-f1.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-f1.gif"/></a></td></tr><tr><td class="pushTitleRight"> </td><td class="image_title"><b>Fig. 1 </b> <span id="fig1"><span class="graphic_title">Transmission optical microscope images of (dry) spray-coated PbI<small><sub>2</sub></small> and corresponding MAPbI<small><sub>3</sub></small> films at varying substrate temperatures and ink pump rates. Ink pump rate is changed together with the ink concentration, maintaining a constant average PbI<small><sub>2</sub></small> amount per area. Columns indicate varying process temperatures; rows indicate varying ink pump rates. The PbI<small><sub>2</sub></small> film was reacted with 7 mg mL<small><sup>1</sup></small> MAI in an IPA solution for 45 s to form MAPbI<small><sub>3</sub></small>. The scale bar is 1 mm.</span></span></td><td class="pushTitleLeft"> </td></tr></table></div>
        
<div class="table_caption"><b>Table 1</b> <span id="tab1">Process parameters (substrate temperature, ink pump rate) and calculated wet film properties (DMF evaporation rate, wet film thickness) for samples shown in <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a>. See Materials and methods for spray process details</span>
		</div>

            <div class="rtable__wrapper"><div class="rtable__inner"><table class="tgroup rtable" border="0"><colgroup><col/><col/><col/><col/><col/></colgroup>
              
              
              
              
              
              <thead align="left">
                <tr align="left" valign="bottom">
                  <th align="left" valign="bottom" class="border_black">ID</th>
                  <th align="left" valign="bottom" class="border_black">
                    <span class="italic">T</span>/C</th>
                  <th align="left" valign="bottom" class="border_black">DMF evap. rate/mol m<small><sup>2</sup></small> s<small><sup>1</sup></small></th>
                  <th align="left" valign="bottom" class="border_black">Ink pump/mL min<small><sup>1</sup></small></th>
                  <th align="left" valign="bottom" class="border_black">Wet film thick./m</th>
                </tr>
              </thead>
              <tbody align="left">
                <tr align="left">
                  <td valign="top">A</td>
                  <td valign="top">30</td>
                  <td align="char" char="." valign="top">0.77</td>
                  <td align="char" char="." valign="top">7.0</td>
                  <td align="char" char="." valign="top">4.2</td>
                </tr>
                <tr align="left">
                  <td valign="top">B</td>
                  <td valign="top">50</td>
                  <td align="char" char="." valign="top">4.2</td>
                  <td align="char" char="." valign="top">7.0</td>
                  <td align="char" char="." valign="top">4.2</td>
                </tr>
                <tr align="left">
                  <td valign="top">C</td>
                  <td valign="top">70</td>
                  <td align="char" char="." valign="top">13</td>
                  <td align="char" char="." valign="top">7.0</td>
                  <td align="char" char="." valign="top">4.2</td>
                </tr>
                <tr align="left">
                  <td valign="top">D</td>
                  <td valign="top">30</td>
                  <td align="char" char="." valign="top">0.77</td>
                  <td align="char" char="." valign="top">3.5</td>
                  <td align="char" char="." valign="top">2.1</td>
                </tr>
                <tr align="left">
                  <td valign="top">E</td>
                  <td valign="top">50</td>
                  <td align="char" char="." valign="top">4.2</td>
                  <td align="char" char="." valign="top">3.5</td>
                  <td align="char" char="." valign="top">2.1</td>
                </tr>
                <tr align="left">
                  <td valign="top">F</td>
                  <td valign="top">70</td>
                  <td align="char" char="." valign="top">13</td>
                  <td align="char" char="." valign="top">3.5</td>
                  <td align="char" char="." valign="top">2.1</td>
                </tr>
                <tr align="left">
                  <td valign="top">G</td>
                  <td valign="top">30</td>
                  <td align="char" char="." valign="top">0.77</td>
                  <td align="char" char="." valign="top">2.3</td>
                  <td align="char" char="." valign="top">1.4</td>
                </tr>
                <tr align="left">
                  <td valign="top">H</td>
                  <td valign="top">50</td>
                  <td align="char" char="." valign="top">4.2</td>
                  <td align="char" char="." valign="top">2.3</td>
                  <td align="char" char="." valign="top">1.4</td>
                </tr>
                <tr align="left">
                  <td valign="top">I</td>
                  <td valign="top">70</td>
                  <td align="char" char="." valign="top">13</td>
                  <td align="char" char="." valign="top">2.3</td>
                  <td align="char" char="." valign="top">1.4</td>
                </tr>
              </tbody>
            </table></div></div>
          <hr class="hrule"/><br/>
      
      
        
        <h3 id="sect387"><span class="b_heading">2.4 Spray coating parameters</span></h3>
        <span>Spray coating was performed using a USI Prism 300 ultrasonic spray coating system, equipped with a CAT-35 ILDS dual mode spray head (operated at 35 kHz, see Fig. S3 in the ESI<a title="Select to navigate to footnote" href="#fn1"></a>). Substrate temperature was controlled by a heated stage. For all coating processes, the substrate was allowed to equilibrate with stage temperature for 3 min before coating. The spray head lateral movement rate was 200 mm s<small><sup>1</sup></small>, it was operated in wide spray mode, and the sample was allowed to dry for 2 min after coating before the process chamber was opened. Coating was accomplished in a single spray pass. For the broad spray process, the spray head height above the substrate was 100 mm and the carrier gas (dry N<small><sub>2</sub></small>) pressure was 40 psi, resulting in a wet film pattern approximately 100 mm wide across the direction of head motion. For the narrow spray process the head height above the substrate was 30 mm and the carrier gas pressure was 20 psi, resulting in a wet film width of approximately 40 mm.</span>
      
      
        
        <h3 id="sect394"><span class="b_heading">2.5 Sample characterization</span></h3>
        <span>X-ray diffraction (XRD) measurements were performed using a Bruker D8 Discover instrument (Bruker AXS K. K., Tokyo, Japan). External quantum efficiency (EQE) measurement was performed on an ORIEL EQE 200 system, operated in DC mode. Integrated <span class="italic">I</span><small><sub>sc</sub></small> was computed from EQE data by assuming an AM1.5G spectrum, without any correction factors. Sample cross-section images were obtained by FIB milling and SEM imaging using a FEI Helios G3 dual beam system. Optical microscope images were obtained using a Leica DM4000 B microscope. Solar cell performance was characterized (in ambient air, with no encapsulation) using an ORIEL Sol1A solar simulator calibrated to 1 sun AM1.5 intensity using a calibrated silicon detector. <span class="italic">I</span><span class="italic">V</span> characteristics were measured using a Keithley 2420 source-measure unit. <span class="italic">I</span><span class="italic">V</span> sweeps were performed from 0.1 V to 1.1 V, steps of 1.2 mV, and dwell time of 100 s. The sample was illuminated under open circuit conditions for 30 s before measurement.</span>
      
      
        
        <h3 id="sect404"><span class="b_heading">2.6 Evaporation rate computation</span></h3>
        <span>Evaporation rates shown in <a title="Select to navigate to figure" href="#imgfig3">Fig. 3f</a> were determined as follows. For laser reflection measurements, the average liquid evaporation rate was determined from oscillations of reflected beam intensity at room temperature. Using this evaporation rate, the wet film thickness was determined from the linear fit to dry time/pump rate dependence. With known wet film thickness, the average evaporation rate was determined for all temperatures and solvents from the linear fit to the corresponding dry time/pump rate dependence.</span>
        <p class="otherpara">Evaporation rate by mass change measurement was obtained by multiplying a directly measured rate of wet film weight change by a factor that adjusts for different sample geometries (computed by modeling the local evaporation rate using COMSOL Multiphysics, see Section 3.5).</p>
        <p class="otherpara">Model curves combine forced convection and free convection models, as described in the ESI.<a title="Select to navigate to footnote" href="#fn1"></a> Forced convection mass transfer constant was obtained from the direct measurement of mass change in the chamber for a specific solvent. Free convection mass transfer coefficient was calculated as described in ESI,<a title="Select to navigate to footnote" href="#fn1"></a> and multiplied by a geometry correction factor. It is important to note that the value of only one fitting parameter was used to fine tune the model for all solvents and conditions. The geometry correction factor for forced convection was determined completely through modeling of the local evaporation rate using COMSOL Multiphysics, and the ratio between correction factors for narrow and broad spray patterns was also determined from the local evaporation rate model. For IPA, evaporative cooling was taken into account by using reduced liquid surface temperature in the model, for DMF evaporative cooling was deemed negligible (see the ESI<a title="Select to navigate to footnote" href="#fn1"></a>).</p>
      
      
        
        <h3 id="sect414"><span class="b_heading">2.7 Image processing</span></h3>
        <span>Optical images in <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a> were processed to remove intensity variations due to radially varying illumination intensity. Processing was accomplished by subtracting a 3rd order polynomial background automatically computed by GWYDDION 2.44 software.</span>
      
    
    
      
      <h2 id="sect419"><span class="a_heading">3 Results and discussion</span></h2>
      
        
        <h3 id="sect422"><span class="b_heading">3.1 Challenges in spray coating</span></h3>
        <span>Formation of a coated film from solution occurs in two stages: wet film (volatile solvent still present and solids potentially mobile) and dry film (volatile solvents removed and solids no longer mobile). The wet film stage is critical to the formation of a uniform dry film. Prominent causes of non-uniformity that occur in the wet film are film discontinuity, coffee stain effect, and Marangoni flow.</span>
        <p class="otherpara">Film discontinuity occurs when ink droplets impinging on the substrate do not form a flat wet film, but instead dry as separate droplets. A flat wet film will not form when the ink wetting of the substrate is poor (<span class="italic">i.e.</span>, with a high liquid contact angle) or when the ink dries faster than the time it takes for the droplets to merge. The chief method of ensuring a good contact angle is to select an ink solvent with surface energy lower than that of the substrate. Wetting can also be improved by adding surfactants to the ink, or by oxygen plasma treatment of the substrate (to increase the surface energy).</p>
        <p class="otherpara">The coffee stain effect is a term that is applied to describe accumulation of material at the edges of wet films or droplets. It occurs due to preferential evaporation from a pinned edge of a wet film,<a title="Select to navigate to references" href="#cit11"><sup><span class="sup_ref">11</span></sup></a> and can cause an overwhelming fraction of the solids to be deposited at the edges of wet films. The coffee stain effect can be counteracted by inducing Marangoni flow which acts in the opposite direction, for example by addition of a co-solvent with a suitable evaporation rate and surface tension.<a title="Select to navigate to references" href="#cit12"><sup><span class="sup_ref">12</span></sup></a> It can also be minimized by creating a wet film with a uniform thickness which will minimize the effective edge area. Increasing the substrate temperature will accelerate evaporation, reducing the time available for ink redistribution, however it is not suitable for suppressing the accumulation of ink solids at film edges as it accelerates the coffee stain effect.<a title="Select to navigate to references" href="#cit13"><sup><span class="sup_ref">13</span></sup></a></p>
        <p class="otherpara">The Marangoni effect is a flow that occurs on the surface of a liquid in the presence of a gradient of surface tension. A flow will occur from the low surface tension region to the high surface tension region. Generally this will occur in cases of a mixture of liquids, and can be used to engineer a flow that counteracts the coffee stain effect,<a title="Select to navigate to references" href="#cit12"><sup><span class="sup_ref">12</span></sup></a> however it can also occur in droplets of single solvent and cause accumulation of material in the center of the droplet.<a title="Select to navigate to references" href="#cit14"><sup><span class="sup_ref">14</span></sup></a></p>
        <p class="otherpara">Another source of non-uniformity that is important to consider is sparse nucleation of precipitate crystals. For salts such as PbI<small><sub>2</sub></small> deposition will occur preferentially at sites where nucleation has already occurred. Sparse/slow nucleation and a long drying time will result in accumulation of solids in sparse nucleation sites. To achieve the best film uniformity, nucleation rate/density needs to be maximized, and the time during which ink solids are mobile (drying time) needs to be minimized.</p>
      
      
        
        <h3 id="sect437"><span class="b_heading">3.2 PbI<small><sub>2</sub></small> spray coating optimization</span></h3>
        <span>Measurement of the contact angle of solvents suitable for dissolving PbI<small><sub>2</sub></small> (DMF, DMSO, and NMP) shows that the liquid contact angle on a TiO<small><sub>2</sub></small> surface is too low to be measurable (near-perfect wetting). Imaging of individual dried droplets of PbI<small><sub>2</sub></small> solution (Fig. S1<a title="Select to navigate to footnote" href="#fn1"></a>) shows that visible rings of PbI<small><sub>2</sub></small> form at the droplet edges and no material accumulates in the droplet center. This indicates that the coffee stain effect is strong for PbI<small><sub>2</sub></small> dissolved in DMF (or DMSO, NMP), but the Marangoni effect is not observable.</span>
        <p class="otherpara">To counteract the coffee stain effect by a co-solvent system<a title="Select to navigate to references" href="#cit12"><sup><span class="sup_ref">12</span></sup></a> a solvent with a lower surface tension and a lower evaporation rate is required. The surface tensions of DMF, DMSO, and NMP are 34.4 dyn cm<small><sup>1</sup></small>, 42.9 dyn cm<small><sup>1</sup></small>, and 40 dyn cm<small><sup>1</sup></small>, respectively. The boiling temperatures of DMF, DMSO, and NMP are 153 C, 189 C, and 202 C respectively. In this case, low evaporation rate (usually corresponding to a solvent with a high boiling temperature) solvents have a higher surface tension as well, so a co-solvent mixture to counteract the coffee stain effect cannot be prepared from these solvents, and other solvents that dissolve PbI<small><sub>2</sub></small> are not readily available. Therefore, the remaining pathway to suppressing the coffee stain effect is to minimize the wet film thickness to achieve a faster drying time without increasing the temperature.</p>
        <p class="otherpara">Keeping the above guidelines in mind, it is intuitive that the best dry film uniformity would be achieved at a low temperature and a low wet film thickness. <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a> shows transmission light microscope images of spray coated PbI<small><sub>2</sub></small> and resulting MAPbI<small><sub>3</sub></small> films fabricated at varying substrate temperatures and wet film thicknesses. The ink concentration is adjusted to maintain the same amount of PbI<small><sub>2</sub></small> per area in all samples. <a title="Select to navigate to table" href="#tab1">Table 1</a> gives the spray coating parameters for each sample in <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a>, as well as the calculated wet film thickness and DMF evaporation rate. It is observed that at elevated temperatures (samples B, C, E, F, H and I), thin wet films result in dry films with mm-scale non-uniformity, indicating that precipitation occurred before droplets could form a flat wet film. At the process temperature of 30 C, films appear uniform in optical images. Detailed examination by AFM (<a title="Select to navigate to figure" href="#imgfig2">Fig. 2ac</a>) reveals that perovskite films formed from PbI<small><sub>2</sub></small> films sprayed at high wet film thicknesses have reduced surface coverage, possibly due to sparse nucleation of PbI<small><sub>2</sub></small> during film drying and resulting in microscopically uneven films. To quantify this observation, solar cell samples (fabricated as described in Materials and methods) were imaged in AFM after MAPbI<small><sub>3</sub></small> film formation, before the deposition of the hole transport layer and metal electrode. <a title="Select to navigate to figure" href="#imgfig2">Fig. 2f</a> shows a clear negative correlation between wet film thickness of the PbI<small><sub>2</sub></small> spray coating process and surface coverage fraction by MAPbI<small><sub>3</sub></small>.</p>
        <br/><div class="image_table"><table><tr><td colspan="3" class="imgHolder" id="imgfig2"><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-f2_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-f2.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-f2.gif"/></a></td></tr><tr><td class="pushTitleRight"> </td><td class="image_title"><b>Fig. 2 </b> <span id="fig2"><span class="graphic_title">Microscopic morphology dependence on liquid film thickness. (a) AFM topography image of MAPbI<small><sub>3</sub></small> film formed from sample A (7 mL min<small><sup>1</sup></small>), (b) sample D (3.5 mL min<small><sup>1</sup></small>), (c) sample G (2.3 mL min<small><sup>1</sup></small>). The scale bars are 2.0 m, grey scale indicates height 0 to 0.5 m. (d) SEM cross-section image of a device with a void in MAPbI<small><sub>3</sub></small> film. Scale bar is 200 nm. (f) A sample of a void in MAPbI<small><sub>3</sub></small> coverage (sample A). The height profile is shown along the red line in the inset. (e) Correlation between surface coverage and wet film thickness of the PbI<small><sub>2</sub></small> spray coating process. Surface coverage was calculated by excluding the area below a height threshold in AFM images, as illustrated in (e). Wet film thickness was determined as described in Section 3.3. Data collected from 32 samples. Error bars equal to standard deviation.</span></span></td><td class="pushTitleLeft"> </td></tr></table></div>
        <p class="otherpara">Data in <a title="Select to navigate to figure" href="#imgfig1">Fig. 1</a> demonstrate that the mm-scale uniformity of coated PbI<small><sub>2</sub></small> films is strongly correlated with spray coating conditions, and that the uniformity pattern of PbI<small><sub>2</sub></small> films is reflected in the resulting MAPbI<small><sub>3</sub></small> films. <a title="Select to navigate to figure" href="#imgfig2">Fig. 2f</a> indicates that a larger wet film thickness results in poorer surface coverage by MAPbI<small><sub>3</sub></small>. A low wet film thickness and a low evaporation rate are optimal for film uniformity. A high evaporation rate results in the mm-scale non-uniformity (<span class="italic">i.e.</span>, macroscopic non-uniformity), whereas a high wet film thickness results in reduced surface coverage on the m scale (<span class="italic">i.e.</span>, microscopic non-uniformity).</p>
      
      
        
        <h3 id="sect486"><span class="b_heading">3.3 
          <span class="italic">In situ</span> measurement of wet film thicknesses and evaporation rates</span></h3>
        <span>As demonstrated above, the optimal coating uniformity is achieved in a narrow range of wet film thickness and evaporation rate. It is then necessary to accurately determine wet film thickness and evaporation rate, so that the optimized recipe can be transferred to other fabrication sites or coating machines. Determining the thickness of the wet film in a spray-coating system is a non-trivial task. While it may appear that with a known spray profile the wet film thickness can be calculated from the amount of liquid ink applied per area, in practice that is not the case. The spray profile is generally unknown and difficult to characterize, the solvent will evaporate from the ink during flight from the spray head to the coating surface, a fraction of the droplets may not reach the substrate, and ink may flow laterally before it achieves a stable thickness. These factors combined make it impractical to approximate the wet film thickness by simple mass conservation, and demand a direct measurement.</span>
        <p class="otherpara">
          <a title="Select to navigate to figure" href="#imgfig3">Fig. 3a</a> shows the principle of operation for a wet film measurement system that allows <span class="italic">in situ</span> measurement of wet film thickness in a spray coating system. A laser beam is set up to be reflected from the substrate that is being spray coated. The substrate must be at least partially reflective, a requirement that is readily satisfied by transparent glass-FTO, or glass-ITO substrates typically used for perovskite solar cell fabrication. When a film of pure solvent is sprayed onto the substrate, a fraction of the light is scattered or absorbed, reducing the total amount reaching the detector. Additionally, the wet film creates a second partially reflective surface. The laser beams reflected from the liquid film surface and the substrate surface will interfere constructively or destructively depending on the thickness of the wet film (principle of operation of anti-reflective coatings). If the intensity is tracked in real time, the reflected beam intensity will oscillate. The reflected beam intensity will go through a complete oscillation when the path difference between the beams reflected from the liquid and from the substrate will change by one wavelength. Note that scattering and absorption do not mask the interference as long as they do not change on exactly the same time-scale. If the change of film thickness in one complete oscillation is denoted as <span class="italic">h</span> then<table><td class="leftEqn"></td><tr><td class="eqn"><span id="eqn1"/><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-t1_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-t1.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-t1.gif"/></a></td><td class="rightEqn">(1)</td></tr></table>where <span class="italic"></span> is the laser wavelength, <span class="italic"></span> is the angle of incidence (to the normal, see <a title="Select to navigate to figure" href="#imgfig3">Fig. 3a</a>), and <span class="italic">n</span> is the index of refraction of the solvent. The formula above takes into account the change of the wavelength of light inside the liquid film and refraction of the laser beam (Snell's law). Measuring the time between oscillations will yield the rate of film thickness change. The total film drying time can be determined by measuring the time that the reflected laser light intensity is reduced by scattering. The wet film thickness can be computed by multiplying the drying time by the thickness change rate.</p>
        <br/><div class="image_table"><table><tr><td colspan="3" class="imgHolder" id="imgfig3"><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-f3_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-f3.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-f3.gif"/></a></td></tr><tr><td class="pushTitleRight"> </td><td class="image_title"><b>Fig. 3 </b> <span id="fig3"><span class="graphic_title">(a) Schematic of the measurement to monitor the wet film thickness change using laser reflection. Laser light reflected by the liquid and substrate surfaces interfere constructively or destructively at the detector depending on the liquid film thickness. A fraction of laser light is scattered or absorbed by the liquid, indicating the presence of the liquid by the reduced total intensity. (b) Oscillations of intensity of the laser light reflected from an evaporating wet film. Temperature and initial wet film thickness for each plot are shown in the legend. Plots offset for clarity. (c) The drying time of a DMF wet film, sprayed with the broad spray pattern, <span class="italic">vs.</span> ink pump rate, measured by tracking the reduced intensity of a reflected laser beam when a wet film is present. Straight lines are linear fits. (d) Drying time for DMF sprayed with the narrow spray pattern. (e) Drying time for IPA sprayed with the narrow spray pattern. (f) Evaporation rates determined from dry time and interference measurement (squares with error bars), direct weight change measurement (hollow rectangles), and modeling (lines). Error bars were determined from the fitting error and standard deviation of measurements.</span></span></td><td class="pushTitleLeft"> </td></tr></table></div>
        <p class="otherpara">This method assumes that during the majority of the drying time the evaporation rate of the solvent film is constant. This is a good assumption as long as the film thickness does not limit the heat flow available for evaporation. Experimental observation of evenly spaced reflected intensity oscillations supports the assumption that the evaporation rate of a flat wet film is constant once the film is stabilized (see <a title="Select to navigate to figure" href="#imgfig3">Fig. 3b</a>). <a title="Select to navigate to figure" href="#imgfig3">Fig. 3ce</a> show that the drying time depends linearly on the amount of dispensed ink, further supporting the assumption that evaporation rate is independent of film thickness. It is notable that the best accuracy wet film drying time and evaporation rate measurement are obtained when the total drying time is longer than 20 s. This time frame ensures that the measurement time is much longer than the spray coating time (about 0.5 s). <a title="Select to navigate to figure" href="#imgfig3">Fig. 3ce</a> show that at temperatures above 40 C drying time can become less than 10 s. To accurately estimate wet film evaporation rate in this regime modeling is employed as described in Sections 3.4 and 3.5.</p>
        <p class="otherpara">To further validate evaporation rates determined from laser reflection and interference, the evaporation rates of DMF and IPA were determined by directly measuring the rates of mass change of a liquid film (with a known area) in the process chamber. Rates measured by laser reflection and direct mass change are shown in <a title="Select to navigate to figure" href="#imgfig3">Fig. 3f</a> (see Materials and methods for details).</p>
        <p class="otherpara">The method based on laser light reflection is effective if the reflectivity of the surfaces is constant and the wet film evaporates completely (no precipitation). This means that ink properties have to be inferred from pure solvent properties. This assumption is valid if the solvent viscosity and evaporation rate are not strongly affected by the presence of the solute. For non-polymer materials such as PbI<small><sub>2</sub></small> this is a good assumption as even at a saturated concentration, the solvent viscosity is not strongly affected. The evaporation rate will be slightly affected by the presence of the solute in the ink; if necessary, this can be accounted for by Raoult's law.<a title="Select to navigate to references" href="#cit15"><sup><span class="sup_ref">15</span></sup></a> It can also be noted that in the presence of the precipitate, after most of the solvent has evaporated, solvent evaporation rate may be substantially reduced if it is absorbed into a porous precipitate and is no longer accurately described by a thin liquid film on a flat surface. Our model addresses only the condition where a continuous liquid surface is present, as in this regime ink solids are highly mobile. We do not address the condition of solvent absorbed in a porous precipitate because in that condition ink solids are no longer mobile over macroscopic (mm-scale) distances.</p>
      
      
        
        <h3 id="sect514"><span class="b_heading">3.4 Evaporative mass transfer coefficient</span></h3>
        <span>To complement and extend the measurement of the evaporation rate by laser reflection from the substrate, we also demonstrate that the evaporation rate of a single solvent (<span class="italic">e.g.</span> DMF) at low temperatures can be used to compute the evaporative mass transfer coefficient of the process chamber and predict the evaporation rates of other solvents and temperatures using solvent properties available in the literature.</span>
        <p class="otherpara">The evaporation rate of a single solvent can be computed as follows:<table><td class="leftEqn"></td><tr><td class="eqn"><span id="eqn2"/><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-t2_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-t2.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-t2.gif"/></a></td><td class="rightEqn">(2)</td></tr></table>where <span class="italic">C</span> is the evaporation rate in mol s<small><sup>1</sup></small> m<small><sup>2</sup></small>, <span class="italic">C</span><small><sub>m</sub></small> is the evaporative mass transfer coefficient, <span class="italic">P</span><small><sub>sat</sub></small> is the (temperature dependent) solvent saturation pressure close to the liquid surface, and <span class="italic">P</span><small><sub>inf</sub></small> is the solvent partial pressure at infinity, <span class="italic">R</span> is the ideal gas constant, and <span class="italic">T</span> is the temperature (in K). Saturation pressure values can be obtained from the literature, whereas <span class="italic">C</span><small><sub>m</sub></small> must be computed taking into account the air flow pattern in the process chamber and evaporating surface geometry.</p>
        <p class="otherpara">The evaporative mass transfer coefficient without external heating is dominated by the air flow due to process chamber exhaust. Computation of the mass transfer coefficient due to a forced air flow requires detailed knowledge of the air flow rate above the evaporating surface, which is very difficult to determine. Instead, the evaporative mass transfer coefficient at room temperature was directly measured by tracking the weight change of the sample placed on a precision scale in the spray coating chamber. Because the evaporation rate is significantly elevated at sample edges, the average evaporation rate depends on the evaporating surface geometry. Therefore, to determine the evaporation rate of a spray-coated wet film, the local evaporation rate was determined by modeling in COMSOL Multiphysics (see details below).</p>
        <p class="otherpara">At elevated temperatures buoyant convection dominates the air flow. The mass transfer coefficient for buoyant convection can be computed from the sample geometry, air properties, and heated surface temperature<a title="Select to navigate to references" href="#cit15"><sup><span class="sup_ref">15</span></sup></a><table><td class="leftEqn"></td><tr><td class="eqn"><span id="eqn3"/><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-t3_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-t3.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-t3.gif"/></a></td><td class="rightEqn">(3)</td></tr></table>where Sh is the dimensionless Sherwood number, <span class="italic">D</span> is the diffusivity of the evaporating species in air, and <span class="italic">L</span> is the characteristic length. Since the real chamber geometry is not always well described by idealized assumptions of analytical calculations, the characteristic length in <a title="" href="#eqn3">eqn (3)</a> was adjusted to maximize the agreement between the model and data from laser reflection. It is important to note that only one value of characteristic length was used for two different spray widths and two solvents (IPA, DMF) of very different evaporation rates and excellent agreement between the data and model was obtained. Therefore, once the model is refined by fitting to the data from one solvent and one spray condition, it can be used to predict evaporation rates for other solvents and conditions without the need to introduce more fitting parameters. Details of the computation of <span class="italic">C</span><small><sub>m</sub></small> can be found in the ESI.<a title="Select to navigate to footnote" href="#fn1"></a></p>
      
      
        
        <h3 id="sect548"><span class="b_heading">3.5 Modelling of the local evaporation rate</span></h3>
        <span>For a finite-sized evaporating surface, there is a significant difference between evaporation near and far from the edges. Therefore, if the evaporative mass transfer coefficient is known for a specific evaporating surface shape, it is necessary to introduce a correction factor to determine the evaporation rate for a different evaporating surface geometry. To compute the correction factor, COMSOL Multiphysics 5.2 software was used to determine the local evaporation rates for an arbitrary-shaped surface. Evaporation was modeled by constraining the concentration of evaporating species to match the saturation pressure across the evaporating surface and computing the flux of evaporating species, with appropriate temperature and air flow distributions. Air flow distribution in a realistic geometry is very difficult to compute, therefore it is approximated by a laminar flow set to achieve an experimentally measured average evaporation rate. The experimental value of the average evaporation rate was determined by tracking the change of weight of a square substrate completely covered with DMF, placed on a precision scale in the spray process chamber. <a title="Select to navigate to figure" href="#imgfig4">Fig. 4</a> shows an example computation of a difference between evaporation rates at the sample edges and center. The average evaporation rate for a 15  15 mm area at the center of a 50  50 mm surface of evaporating liquid surface is 0.77 of the rate averaged over the entire liquid surface (including the edges).</span>
        <br/><div class="image_table"><table><tr><td colspan="3" class="imgHolder" id="imgfig4"><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-f4_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-f4.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-f4.gif"/></a></td></tr><tr><td class="pushTitleRight"> </td><td class="image_title"><b>Fig. 4 </b> <span id="fig4"><span class="graphic_title">COMSOL simulation of evaporation rate from a 50 mm wide surface under a laminar air flow in the positive <span class="italic">x</span> direction. The evaporating surface extends from <span class="italic">x</span> = 2.5 cm to 7.5 cm. (a) Evaporation rate as a function of position. The average evaporation rate over the entire evaporating surface is 4.0 mmol m<small><sup>2</sup></small> s<small><sup>1</sup></small>, and 3.1 mmol m<small><sup>2</sup></small> s<small><sup>1</sup></small> over the sample area. (b) Concentration of vapor above the sample, normalized by saturation concentration. Arrows indicate direction of air flow. Arrow length is proportional to the computed air flow velocity for laminar flow near the surface. Computation was performed with parameters corresponding to DMF, with surface temperature equal to ambient temperature (24 C).</span></span></td><td class="pushTitleLeft"> </td></tr></table></div>
        <p class="otherpara">Local evaporation rate modeling can also be used to compute the evaporation rate adjustment when spray patterns are changed, as would be expected to happen when scaling-up to higher volume production. <a title="Select to navigate to figure" href="#imgfig3">Fig. 3f</a> shows evaporation rates computed for a broad DMF spray pattern (100 mm) and a narrow spray pattern (40 mm).</p>
        <p class="otherpara">To summarize, results of three complementary approaches to determining the evaporation rate of a film are shown in <a title="Select to navigate to figure" href="#imgfig3">Fig. 3f</a>. The film evaporation rate and film thickness can be completely determined immediately following spray coating by interference and scattering of a reflected laser beam. Once the laser reflection measurement is accomplished for a single solvent and several temperatures, the evaporative mass transfer coefficient of the process chamber can be computed and applied to predict evaporation rates of different solvents and at temperatures where the film evaporation rate is too fast for accurate measurement. The laser reflection measurement and modeling are verified by a direct measurement of mass change of a wet film of a known area. The set of process parameters to achieve optimal PbI<small><sub>2</sub></small> film uniformity are: temperature = 30 C and ink pump rate = 3.5 mL min<small><sup>1</sup></small>, corresponding to wet film thickness 2.1 m and DMF evaporation rate of 0.77 mmol s<small><sup>1</sup></small> m<small><sup>2</sup></small>.</p>
      
      
        
        <h3 id="sect569"><span class="b_heading">3.6 Device fabrication</span></h3>
        <span>In this study we focus on the optimization of process parameters to achieve optimal uniformity of spray-coated PbI<small><sub>2</sub></small> films and characterization of the process in terms of machine-independent parameters. As the ultimate application of this work is the fabrication of perovskite solar cells, it is necessary to demonstrate that the analyzed films indeed result in high performance solar cells.</span>
        <p class="otherpara">To demonstrate complete devices incorporating a spray coated PbI<small><sub>2</sub></small> layer, we chose a commonly used perovskite solar cell architecture that is known to be compatible with ambient processing.<a title="Select to navigate to references" href="#cit10"><sup><span class="sup_ref">10</span></sup></a><a title="Select to navigate to figure" href="#imgfig5">Fig. 5a</a> shows the layer structure of the cell and a scanning electron microscopy (SEM) cross-section image of the optimized design. The spray coating process for PbI<small><sub>2</sub></small> films was selected to match the film with the best uniformity (sample D, temperature = 30 C and ink pump rate = 3.5 mL min<small><sup>1</sup></small>). Device performance data for non-optimal wet film thickness can be found in ESI Fig. S8.<a title="Select to navigate to footnote" href="#fn1"></a> As expected, the perovskite solar cells fabricated using the optimal parameters show not only the highest PCE, <span class="italic">V</span><small><sub>oc</sub></small>, <span class="italic">J</span><small><sub>sc</sub></small>, and FF, but also the lowest standard deviations, strongly suggesting the significantly improved device reproducibility under the optimal coating conditions.</p>
        <br/><div class="image_table"><table><tr><td colspan="3" class="imgHolder" id="imgfig5"><a href="/image/article/2017/TA/c6ta09922j/c6ta09922j-f5_hi-res.gif" title="Select to open image in new window" onclick="open(this.href, &#34;_blank&#34;, &#34;toolbar=1,scrollbars=yes,resizable=1&#34;); return false;"><img alt="image file: c6ta09922j-f5.tif" src="/image/article/2017/TA/c6ta09922j/c6ta09922j-f5.gif"/></a></td></tr><tr><td class="pushTitleRight"> </td><td class="image_title"><b>Fig. 5 </b> <span id="fig5"><span class="graphic_title">(a) Device layer structure and SEM cross-section image for a solar cell fabricated with spray-coated PbI<small><sub>2</sub></small>. The cross-section was produced by FIB milling. Scale bar is 100 nm. (b) <span class="italic">I</span><span class="italic">V</span> characteristic of a top-performing device. Red (black) curve denotes reverse (forward) sweep. Good agreement between forward and reverse sweeps indicates negligible hysteresis. Device area is 1.1 cm<small><sup>2</sup></small>, masked to 1.0 cm<small><sup>2</sup></small> for measurement. (c) XRD diffractogram of a typical MAPbI<small><sub>3</sub></small> film formed from a spray-coated PbI<small><sub>2</sub></small> film. (d) EQE spectrum of a typical solar cell fabricated with a spray-coated PbI<small><sub>2</sub></small> film.</span></span></td><td class="pushTitleLeft"> </td></tr></table></div>
        <p class="otherpara">
          <a title="Select to navigate to figure" href="#imgfig5">Fig. 5c</a> shows the XRD diffractogram of a typical device. Peaks at 2<span class="italic"></span> = 14.1 corresponding to MAPbI<small><sub>3</sub></small> and 2<span class="italic"></span> = 12.7 corresponding to unreacted PbI<small><sub>2</sub></small> are observed. The external quantum efficiency (EQE) spectrum shown in <a title="Select to navigate to figure" href="#imgfig5">Fig. 5d</a> shows slightly greater EQE at shorter wavelengths, also suggesting the presence of unreacted PbI<small><sub>2</sub></small>. In several recently published studies it has been suggested that residual PbI<small><sub>2</sub></small> may be difficult to eliminate in a 2-step process, and may not necessarily lead to substantial performance loss. Ko <span class="italic">et al.</span><a title="Select to navigate to references" href="#cit10"><sup><span class="sup_ref">10</span></sup></a> implemented a 2-step perovskite formation process under ambient conditions and found that optimal performance was obtained with PbI<small><sub>2</sub></small> peak in the XRD pattern around 50% as high as MAPbI<small><sub>3</sub></small> peak. Kim <span class="italic">et al.</span><a title="Select to navigate to references" href="#cit17"><sup><span class="sup_ref">17</span></sup></a> discussed in detail the formation process of the MAPbI<small><sub>3</sub></small> in a 2-step process, and concluded that excess PbI<small><sub>2</sub></small> cannot be eliminated by simple optimization of MAI solution concentration and immersion time, without compromising the performance. On the other hand, it is expected that further enhancement of MAPbI<small><sub>3</sub></small> crystallinity can lead to increased performance.</p>
        <p class="otherpara">
          <a title="Select to navigate to table" href="#tab2">Table 2</a> shows performance statistics for devices incorporating a spray-coated PbI<small><sub>2</sub></small> layer. Maximum power conversion efficiency (PCE) of 13.0% is achieved with the average PCE of 10.2%. Device performance is on par with the best performance achieved for spray coated devices with an active area of 1 cm<small><sup>2</sup></small>.<a title="Select to navigate to references" href="#cit8"><sup><span class="sup_ref">8</span></sup></a> We also observed that these devices could be operated at the maximum power point for over a 100 hours preserving 60% of initial PCE. See Fig. S7 in the ESI<a title="Select to navigate to footnote" href="#fn1"></a> for steady state measurement of device performance. Thus, we can confirm that the PbI<small><sub>2</sub></small> films for which uniformity was optimized are suitable for high-performance perovskite solar cell fabrication.</p>
        
<div class="table_caption"><b>Table 2</b> <span id="tab2">Performance statistics of devices incorporating a spray coated PbI<small><sub>2</sub></small> layer. Device area is 1.1 cm<small><sup>2</sup></small>, masked to 1.0 cm<small><sup>2</sup></small> for measurement. Based on 19 devices fabricated over 6 spray runs. Reported values are averages of forward and reverse <span class="italic">I</span><span class="italic">V</span> measurement. Hysteresis is defined as |2(PCE<small><sub>rev</sub></small>  PCE<small><sub>fwd</sub></small>)/(PCE<small><sub>rev</sub></small> + PCE<small><sub>fwd</sub></small>)|</span>
		</div>

            <div class="rtable__wrapper"><div class="rtable__inner"><table class="tgroup rtable" border="0"><colgroup><col/><col/><col/><col/></colgroup>
              
              
              
              
              <thead align="left">
                <tr align="left" valign="bottom">
                  <th align="left" valign="bottom" class="border_black">Parameter</th>
                  <th align="left" valign="bottom" class="border_black">Average</th>
                  <th align="left" valign="bottom" class="border_black">St. dev.</th>
                  <th align="left" valign="bottom" class="border_black">Best</th>
                </tr>
              </thead>
              <tbody align="left">
                <tr align="left">
                  <td valign="top">PCE (%)</td>
                  <td align="char" char="." valign="top">10.2</td>
                  <td align="char" char="." valign="top">1.70</td>
                  <td align="char" char="." valign="top">13.0</td>
                </tr>
                <tr align="left">
                  <td valign="top">
                    <span class="italic">V</span>
                    <small><sub>oc</sub></small> (V)</td>
                  <td align="char" char="." valign="top">0.96</td>
                  <td align="char" char="." valign="top">0.034</td>
                  <td align="char" char="." valign="top">1.02</td>
                </tr>
                <tr align="left">
                  <td valign="top">
                    <span class="italic">J</span>
                    <small><sub>sc</sub></small> (mA cm<small><sup>2</sup></small>)</td>
                  <td align="char" char="." valign="top">16.8</td>
                  <td align="char" char="." valign="top">1.43</td>
                  <td align="char" char="." valign="top">18.8</td>
                </tr>
                <tr align="left">
                  <td valign="top">FF (%)</td>
                  <td align="char" char="." valign="top">63.1</td>
                  <td align="char" char="." valign="top">5.41</td>
                  <td align="char" char="." valign="top">71.9</td>
                </tr>
                <tr align="left">
                  <td valign="top">Hysteresis</td>
                  <td align="char" char="." valign="top">0.13</td>
                  <td align="char" char="." valign="top">0.10</td>
                  <td align="char" char="." valign="top">0.006</td>
                </tr>
              </tbody>
            </table></div></div>
          <hr class="hrule"/><br/>
      
    
    
      
      <h2 id="sect674"><span class="a_heading">4 Conclusions</span></h2>
      <span>We have demonstrated an optimized set of parameters for achieving the best uniformity of ultrasonic spray-coated PbI<small><sub>2</sub></small> films, at a thickness suitable for high performance perovskite solar cell fabrication. We observe a strong correlation between wet film thickness, evaporation rate and uniformity of dry films, and identify wet film thickness and evaporation rate as key parameters to dry film quality. To enable expedient transfer of a recipe from the specific equipment in the laboratory to the manufacturing environment, we demonstrate a simple way to <span class="italic">in situ</span> measure wet film thickness and evaporation rate. Furthermore, we demonstrate that evaporation rate measurement of a single wet film can be used to determine the evaporative mass transfer coefficient of the process chamber. Knowledge of evaporative mass transfer coefficient allows us to compute evaporation rates for inks based on any solvent. We also demonstrate modelling of the local evaporation rate which makes it possible to compute necessary adjustment to process parameters when changing the sample geometry. Using optimal process conditions, we fabricated perovskite solar cells, device performance of which is on par with the best performance achieved for spray coated devices with an active area of 1 cm<small><sup>2</sup></small>.</span>
    
  
    <h2 id="sect682"><span class="a_heading">Acknowledgements</span></h2>
      <span>This work was supported by funding from the Energy Materials and Surface Sciences Unit of the Okinawa Institute of Science and Technology Graduate University and the OIST R&amp;D Cluster Research Program. We would like to thank M. R. Leyden for assistance with module fabrication.</span>
    
    <span id="sect684"><h2 id="sect681"><span class="a_heading">Notes and references</span></h2></span><ol type="1">
      <li><span id="cit1">D. Bi, C. Yi, J. Luo, J. D. Dcoppet, F. Zhang, S. M. Zakeeruddin, X. Li, A. Hagfeldt and M. Grtzel, <span class="italic">Nat. Energy</span>, 2016, <span class="bold">1</span>, 16142<a target="_blank" class="DOILink" href="https://doi.org/10.1038/nenergy.2016.142" title="DOI Link to resource 10.1038/nenergy.2016.142">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2sXhtVers7c%253D" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit2">J. W. Lee and N. G. Park, <span class="italic">MRS Bull.</span>, 2015, <span class="bold">40</span>, 654<a target="_blank" class="DOILink" href="https://doi.org/10.1557/mrs.2015.166" title="DOI Link to resource 10.1557/mrs.2015.166">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2MXhtlehur%252FO" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit3">A. T. Barrows, A. J. Pearson, C. K. Kwak, A. D. F. Dunbar, A. R. Buckley and D. G. Lidzey, <span class="italic">Energy Environ. Sci.</span>, 2014, <span class="bold">7</span>, 2944<a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2cXhtFehsr7E" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit4">Z. Liang, S. Zhang, X. Xu, N. Wang, J. Wang, X. Wang, Z. Bi, G. Xu, N. Yuan and J. Ding, <span class="italic">RSC Adv.</span>, 2015, <span class="bold">5</span>, 60562<a target="_blank" class="RSCLink" href="http://xlink.rsc.org/?doi=C5RA09110A&amp;newsite=1" title="Link to RSC resource DOI:10.1039/C5RA09110A">RSC</a>.</span></li>
      <li><span id="cit5">S. Das, B. Yang, G. Gu, P. C. Joshi, I. N. Ivanov, C. M. Rouleau, T. Aytug, D. B. Geohegan and K. Xiao, <span class="italic">ACS Photonics</span>, 2015, <span class="bold">2</span>, 680<a target="_blank" class="DOILink" href="https://doi.org/10.1021/acsphotonics.5b00119" title="DOI Link to resource 10.1021/acsphotonics.5b00119">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2MXovFKru7g%253D" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit6">J. G. Tait, S. Manghooli, W. Qiu, L. Rakocevic, L. Kootstra, M. Jaysankar, C. A. Masse de la Huerta, U. W. Paetzold, R. Gehlhaar, D. Cheyns, P. Heremans and J. Poortmans, <span class="italic">J. Mater. Chem. A</span>, 2016, <span class="bold">4</span>, 3792<a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC28XhvFyls7o%253D" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit7">D. K. Mohamad, J. Griffin, C. Bracher, A. T. Barrows and D. G. Lidzey, <span class="italic">Adv. Energy Mater.</span>, 2016, 1600994, <small>DOI:<a class="DOILink" href="https://doi.org/10.1002/aenm.201600994" TARGET="_BLANK" title="DOI Link to 10.1002/aenm.201600994">10.1002/aenm.201600994</a></small>.</span></li>
      <li><span id="cit8">H. Huang, J. Shi, L. Zhu, D. Li, Y. Luo and Q. Meng, <span class="italic">Nano Energy</span>, 2016, <span class="bold">7</span>, 352<a target="_blank" class="DOILink" href="https://doi.org/10.1016/j.nanoen.2016.07.026" title="DOI Link to resource 10.1016/j.nanoen.2016.07.026">CrossRef</a>.</span></li>
      <li><span id="cit9">J. Burschka, N. Pellet, S.-J. Moon, R. Humphry-Baker, P. Gao, M. K. Nazeeruddin and M. Grtzel, <span class="italic">Nature</span>, 2013, <span class="bold">499</span>, 316<a target="_blank" class="DOILink" href="https://doi.org/10.1038/nature12340" title="DOI Link to resource 10.1038/nature12340">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC3sXhtFShtbzL" title="Link to resource in CAS">CAS</a><a target="_blank" class="PMedLink" href="http://www.ncbi.nlm.nih.gov/pubmed/?term=23842493%5Buid%5D" title="PubMed Link to resource 23842493">PubMed</a>.</span></li>
      <li><span id="cit10">H.-S. Ko, J.-W. Lee and N.-G. Park, <span class="italic">J. Mater. Chem. A.</span>, 2015, <span class="bold">3</span>, 8808<a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2MXks1ahsLs%253D" title="Link to resource in CAS">CAS</a>.</span></li>
      <li><span id="cit11">R. D. Deegan, O. Bakajin, T. F. Dupont, G. Huber, S. R. Nagel and T. A. Witten, <span class="italic">Nature</span>, 1997, <span class="bold">389</span>, 825<a target="_blank" class="DOILink" href="https://doi.org/10.1038/39827" title="DOI Link to resource 10.1038/39827">CrossRef</a>.</span></li>
      <li><span id="cit12">Y. Oh, J. Kim, Y. J. Yoon, H. Kim, H. G. Yoon, S.-N. Lee and J. Kim, <span class="italic">Curr. Appl. Phys.</span>, 2011, <span class="bold">11</span>, S359<a target="_blank" class="DOILink" href="https://doi.org/10.1016/j.cap.2010.11.065" title="DOI Link to resource 10.1016/j.cap.2010.11.065">CrossRef</a>.</span></li>
      <li><span id="cit13">D. Soltman and V. Subramanian, <span class="italic">Langmuir</span>, 2008, <span class="bold">24</span>, 2224<a target="_blank" class="DOILink" href="https://doi.org/10.1021/la7026847" title="DOI Link to resource 10.1021/la7026847">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BD1cXmtFyitA%253D%253D" title="Link to resource in CAS">CAS</a><a target="_blank" class="PMedLink" href="http://www.ncbi.nlm.nih.gov/pubmed/?term=18197714%5Buid%5D" title="PubMed Link to resource 18197714">PubMed</a>.</span></li>
      <li><span id="cit14">H. Hu and R. G. Larson, <span class="italic">J. Phys. Chem. B</span>, 2006, <span class="bold">110</span>, 7090<a target="_blank" class="DOILink" href="https://doi.org/10.1021/jp0609232" title="DOI Link to resource 10.1021/jp0609232">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BD28Xis1Khtr4%253D" title="Link to resource in CAS">CAS</a><a target="_blank" class="PMedLink" href="http://www.ncbi.nlm.nih.gov/pubmed/?term=16599468%5Buid%5D" title="PubMed Link to resource 16599468">PubMed</a>.</span></li>
      <li><span id="cit15">
          T. L. Bergman, A. S. Lavine, F. P. Incropera and D. P. Dewitt, <span class="italic">Fundamentals of Heat and Mass Transfer</span>, Wiley, Hoboken, NJ, USA,  2011<a target="_blank" class="PMedLink" href="http://www.ncbi.nlm.nih.gov/sites/entrez?orig_db=PubMed&amp;db=pubmed&amp;cmd=Search&amp;term=Fundamentals%20of%20Heat%20and%20Mass%20Transfer%5BJour%5D%20AND%20%5Bvolume%5D%20AND%20%5Bpage%5D%20and%202011%5Bpdat%5D" title="Search PubMed for this citation">SearchPubMed</a>.</span></li>
      <li><span id="cit16">J.-H. Im, I.-H. Jang, N. Pellet, M. Grtzel and N.-G. Park, <span class="italic">Nat. Nanotechnol.</span>, 2014, <span class="bold">9</span>, 927<a target="_blank" class="DOILink" href="https://doi.org/10.1038/nnano.2014.181" title="DOI Link to resource 10.1038/nnano.2014.181">CrossRef</a><a target="_blank" class="COILink" href="/en/content/coiresolver?coi=1%3ACAS%3A528%3ADC%252BC2cXhsVCrtLfI" title="Link to resource in CAS">CAS</a><a target="_blank" class="PMedLink" href="http://www.ncbi.nlm.nih.gov/pubmed/?term=25173829%5Buid%5D" title="PubMed Link to resource 25173829">PubMed</a>.</span></li>
      <li><span id="cit17">S. Y. Kim, H. J. Jo, S. J. Sung and D. H. Kim, <span class="italic">APL Mater.</span>, 2016, <span class="bold">4</span>, 100901<a target="_blank" class="DOILink" href="https://doi.org/10.1063/1.4963841" title="DOI Link to resource 10.1063/1.4963841">CrossRef</a>.</span></li>
    </ol>
    
    
    
    
    
  <hr/><table><tr><td><h3>Footnote</h3></td></tr><tr><td><span class="sup_ref"> <span id="fn1">Electronic supplementary information (ESI) available. See DOI: <a href="http://xlink.rsc.org/?DOI=c6ta09922j" target="_blank" title="Select to resolve DOI: 10.1039/c6ta09922j">10.1039/c6ta09922j</a></span></span></td></tr></table><table><tr><td><hr/></td></tr><tr><td><b>This journal is  The Royal Society of Chemistry 2017</b></td></tr></table></div></div></div></body><script src="/content/scripts/CrossMarkIE.js"></script><SaxonLicenceTest result="pass" message="Licenced Enterprise Edition [ EE 9.3.0.4 ]"/></html>